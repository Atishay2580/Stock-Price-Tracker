var N1=Object.defineProperty;var O1=(n,e,t)=>e in n?N1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ie=(n,e,t)=>O1(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function D1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var mp={exports:{}},Al={},gp={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function M1(){if(dv)return Ce;dv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function w(W){return W===null||typeof W!="object"?null:(W=y&&W[y]||W["@@iterator"],typeof W=="function"?W:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,k={};function S(W,Z,he){this.props=W,this.context=Z,this.refs=k,this.updater=he||b}S.prototype.isReactComponent={},S.prototype.setState=function(W,Z){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,Z,"setState")},S.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function R(){}R.prototype=S.prototype;function O(W,Z,he){this.props=W,this.context=Z,this.refs=k,this.updater=he||b}var D=O.prototype=new R;D.constructor=O,E(D,S.prototype),D.isPureReactComponent=!0;var H=Array.isArray,q=Object.prototype.hasOwnProperty,J={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function I(W,Z,he){var ve,Se={},Ee=null,Be=null;if(Z!=null)for(ve in Z.ref!==void 0&&(Be=Z.ref),Z.key!==void 0&&(Ee=""+Z.key),Z)q.call(Z,ve)&&!N.hasOwnProperty(ve)&&(Se[ve]=Z[ve]);var He=arguments.length-2;if(He===1)Se.children=he;else if(1<He){for(var Ye=Array(He),St=0;St<He;St++)Ye[St]=arguments[St+2];Se.children=Ye}if(W&&W.defaultProps)for(ve in He=W.defaultProps,He)Se[ve]===void 0&&(Se[ve]=He[ve]);return{$$typeof:n,type:W,key:Ee,ref:Be,props:Se,_owner:J.current}}function A(W,Z){return{$$typeof:n,type:W.type,key:Z,ref:W.ref,props:W.props,_owner:W._owner}}function F(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function j(W){var Z={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(he){return Z[he]})}var B=/\/+/g;function M(W,Z){return typeof W=="object"&&W!==null&&W.key!=null?j(""+W.key):Z.toString(36)}function Oe(W,Z,he,ve,Se){var Ee=typeof W;(Ee==="undefined"||Ee==="boolean")&&(W=null);var Be=!1;if(W===null)Be=!0;else switch(Ee){case"string":case"number":Be=!0;break;case"object":switch(W.$$typeof){case n:case e:Be=!0}}if(Be)return Be=W,Se=Se(Be),W=ve===""?"."+M(Be,0):ve,H(Se)?(he="",W!=null&&(he=W.replace(B,"$&/")+"/"),Oe(Se,Z,he,"",function(St){return St})):Se!=null&&(F(Se)&&(Se=A(Se,he+(!Se.key||Be&&Be.key===Se.key?"":(""+Se.key).replace(B,"$&/")+"/")+W)),Z.push(Se)),1;if(Be=0,ve=ve===""?".":ve+":",H(W))for(var He=0;He<W.length;He++){Ee=W[He];var Ye=ve+M(Ee,He);Be+=Oe(Ee,Z,he,Ye,Se)}else if(Ye=w(W),typeof Ye=="function")for(W=Ye.call(W),He=0;!(Ee=W.next()).done;)Ee=Ee.value,Ye=ve+M(Ee,He++),Be+=Oe(Ee,Z,he,Ye,Se);else if(Ee==="object")throw Z=String(W),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Be}function Te(W,Z,he){if(W==null)return W;var ve=[],Se=0;return Oe(W,ve,"","",function(Ee){return Z.call(he,Ee,Se++)}),ve}function ke(W){if(W._status===-1){var Z=W._result;Z=Z(),Z.then(function(he){(W._status===0||W._status===-1)&&(W._status=1,W._result=he)},function(he){(W._status===0||W._status===-1)&&(W._status=2,W._result=he)}),W._status===-1&&(W._status=0,W._result=Z)}if(W._status===1)return W._result.default;throw W._result}var xe={current:null},re={transition:null},pe={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:re,ReactCurrentOwner:J};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:Te,forEach:function(W,Z,he){Te(W,function(){Z.apply(this,arguments)},he)},count:function(W){var Z=0;return Te(W,function(){Z++}),Z},toArray:function(W){return Te(W,function(Z){return Z})||[]},only:function(W){if(!F(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Ce.Component=S,Ce.Fragment=t,Ce.Profiler=r,Ce.PureComponent=O,Ce.StrictMode=i,Ce.Suspense=h,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Ce.act=oe,Ce.cloneElement=function(W,Z,he){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var ve=E({},W.props),Se=W.key,Ee=W.ref,Be=W._owner;if(Z!=null){if(Z.ref!==void 0&&(Ee=Z.ref,Be=J.current),Z.key!==void 0&&(Se=""+Z.key),W.type&&W.type.defaultProps)var He=W.type.defaultProps;for(Ye in Z)q.call(Z,Ye)&&!N.hasOwnProperty(Ye)&&(ve[Ye]=Z[Ye]===void 0&&He!==void 0?He[Ye]:Z[Ye])}var Ye=arguments.length-2;if(Ye===1)ve.children=he;else if(1<Ye){He=Array(Ye);for(var St=0;St<Ye;St++)He[St]=arguments[St+2];ve.children=He}return{$$typeof:n,type:W.type,key:Se,ref:Ee,props:ve,_owner:Be}},Ce.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:o,_context:W},W.Consumer=W},Ce.createElement=I,Ce.createFactory=function(W){var Z=I.bind(null,W);return Z.type=W,Z},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(W){return{$$typeof:c,render:W}},Ce.isValidElement=F,Ce.lazy=function(W){return{$$typeof:m,_payload:{_status:-1,_result:W},_init:ke}},Ce.memo=function(W,Z){return{$$typeof:f,type:W,compare:Z===void 0?null:Z}},Ce.startTransition=function(W){var Z=re.transition;re.transition={};try{W()}finally{re.transition=Z}},Ce.unstable_act=oe,Ce.useCallback=function(W,Z){return xe.current.useCallback(W,Z)},Ce.useContext=function(W){return xe.current.useContext(W)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(W){return xe.current.useDeferredValue(W)},Ce.useEffect=function(W,Z){return xe.current.useEffect(W,Z)},Ce.useId=function(){return xe.current.useId()},Ce.useImperativeHandle=function(W,Z,he){return xe.current.useImperativeHandle(W,Z,he)},Ce.useInsertionEffect=function(W,Z){return xe.current.useInsertionEffect(W,Z)},Ce.useLayoutEffect=function(W,Z){return xe.current.useLayoutEffect(W,Z)},Ce.useMemo=function(W,Z){return xe.current.useMemo(W,Z)},Ce.useReducer=function(W,Z,he){return xe.current.useReducer(W,Z,he)},Ce.useRef=function(W){return xe.current.useRef(W)},Ce.useState=function(W){return xe.current.useState(W)},Ce.useSyncExternalStore=function(W,Z,he){return xe.current.useSyncExternalStore(W,Z,he)},Ce.useTransition=function(){return xe.current.useTransition()},Ce.version="18.3.1",Ce}var fv;function Wm(){return fv||(fv=1,gp.exports=M1()),gp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function L1(){if(pv)return Al;pv=1;var n=Wm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,r=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,f){var m,y={},w=null,b=null;f!==void 0&&(w=""+f),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(b=h.ref);for(m in h)i.call(h,m)&&!o.hasOwnProperty(m)&&(y[m]=h[m]);if(c&&c.defaultProps)for(m in h=c.defaultProps,h)y[m]===void 0&&(y[m]=h[m]);return{$$typeof:e,type:c,key:w,ref:b,props:y,_owner:r.current}}return Al.Fragment=t,Al.jsx=l,Al.jsxs=l,Al}var mv;function F1(){return mv||(mv=1,mp.exports=L1()),mp.exports}var C=F1(),U=Wm();const ze=D1(U);var Zu={},yp={exports:{}},cn={},_p={exports:{}},vp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function j1(){return gv||(gv=1,function(n){function e(re,pe){var oe=re.length;re.push(pe);e:for(;0<oe;){var W=oe-1>>>1,Z=re[W];if(0<r(Z,pe))re[W]=pe,re[oe]=Z,oe=W;else break e}}function t(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var pe=re[0],oe=re.pop();if(oe!==pe){re[0]=oe;e:for(var W=0,Z=re.length,he=Z>>>1;W<he;){var ve=2*(W+1)-1,Se=re[ve],Ee=ve+1,Be=re[Ee];if(0>r(Se,oe))Ee<Z&&0>r(Be,Se)?(re[W]=Be,re[Ee]=oe,W=Ee):(re[W]=Se,re[ve]=oe,W=ve);else if(Ee<Z&&0>r(Be,oe))re[W]=Be,re[Ee]=oe,W=Ee;else break e}}return pe}function r(re,pe){var oe=re.sortIndex-pe.sortIndex;return oe!==0?oe:re.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var h=[],f=[],m=1,y=null,w=3,b=!1,E=!1,k=!1,S=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(re){for(var pe=t(f);pe!==null;){if(pe.callback===null)i(f);else if(pe.startTime<=re)i(f),pe.sortIndex=pe.expirationTime,e(h,pe);else break;pe=t(f)}}function H(re){if(k=!1,D(re),!E)if(t(h)!==null)E=!0,ke(q);else{var pe=t(f);pe!==null&&xe(H,pe.startTime-re)}}function q(re,pe){E=!1,k&&(k=!1,R(I),I=-1),b=!0;var oe=w;try{for(D(pe),y=t(h);y!==null&&(!(y.expirationTime>pe)||re&&!j());){var W=y.callback;if(typeof W=="function"){y.callback=null,w=y.priorityLevel;var Z=W(y.expirationTime<=pe);pe=n.unstable_now(),typeof Z=="function"?y.callback=Z:y===t(h)&&i(h),D(pe)}else i(h);y=t(h)}if(y!==null)var he=!0;else{var ve=t(f);ve!==null&&xe(H,ve.startTime-pe),he=!1}return he}finally{y=null,w=oe,b=!1}}var J=!1,N=null,I=-1,A=5,F=-1;function j(){return!(n.unstable_now()-F<A)}function B(){if(N!==null){var re=n.unstable_now();F=re;var pe=!0;try{pe=N(!0,re)}finally{pe?M():(J=!1,N=null)}}else J=!1}var M;if(typeof O=="function")M=function(){O(B)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,Te=Oe.port2;Oe.port1.onmessage=B,M=function(){Te.postMessage(null)}}else M=function(){S(B,0)};function ke(re){N=re,J||(J=!0,M())}function xe(re,pe){I=S(function(){re(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){E||b||(E=!0,ke(q))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(re){switch(w){case 1:case 2:case 3:var pe=3;break;default:pe=w}var oe=w;w=pe;try{return re()}finally{w=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,pe){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var oe=w;w=re;try{return pe()}finally{w=oe}},n.unstable_scheduleCallback=function(re,pe,oe){var W=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?W+oe:W):oe=W,re){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=oe+Z,re={id:m++,callback:pe,priorityLevel:re,startTime:oe,expirationTime:Z,sortIndex:-1},oe>W?(re.sortIndex=oe,e(f,re),t(h)===null&&re===t(f)&&(k?(R(I),I=-1):k=!0,xe(H,oe-W))):(re.sortIndex=Z,e(h,re),E||b||(E=!0,ke(q))),re},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(re){var pe=w;return function(){var oe=w;w=pe;try{return re.apply(this,arguments)}finally{w=oe}}}}(vp)),vp}var yv;function U1(){return yv||(yv=1,_p.exports=j1()),_p.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function z1(){if(_v)return cn;_v=1;var n=Wm(),e=U1();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,r={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(r[s]=a,s=0;s<a.length;s++)i.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function w(s){return h.call(y,s)?!0:h.call(m,s)?!1:f.test(s)?y[s]=!0:(m[s]=!0,!1)}function b(s,a,u,p){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function E(s,a,u,p){if(a===null||typeof a>"u"||b(s,a,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function k(s,a,u,p,g,v,T){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=v,this.removeEmptyString=T}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){S[s]=new k(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];S[a]=new k(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){S[s]=new k(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){S[s]=new k(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){S[s]=new k(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){S[s]=new k(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){S[s]=new k(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){S[s]=new k(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){S[s]=new k(s,5,!1,s.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function O(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(R,O);S[a]=new k(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(R,O);S[a]=new k(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(R,O);S[a]=new k(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){S[s]=new k(s,1,!1,s.toLowerCase(),null,!1,!1)}),S.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){S[s]=new k(s,1,!1,s.toLowerCase(),null,!0,!0)});function D(s,a,u,p){var g=S.hasOwnProperty(a)?S[a]:null;(g!==null?g.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(E(a,u,g,p)&&(u=null),p||g===null?w(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):g.mustUseProperty?s[g.propertyName]=u===null?g.type===3?!1:"":u:(a=g.attributeName,p=g.attributeNamespace,u===null?s.removeAttribute(a):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,p?s.setAttributeNS(p,a,u):s.setAttribute(a,u))))}var H=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),J=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),j=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),Oe=Symbol.for("react.suspense_list"),Te=Symbol.for("react.memo"),ke=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),re=Symbol.iterator;function pe(s){return s===null||typeof s!="object"?null:(s=re&&s[re]||s["@@iterator"],typeof s=="function"?s:null)}var oe=Object.assign,W;function Z(s){if(W===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);W=a&&a[1]||""}return`
`+W+s}var he=!1;function ve(s,a){if(!s||he)return"";he=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Y){var p=Y}Reflect.construct(s,[],a)}else{try{a.call()}catch(Y){p=Y}s.call(a.prototype)}else{try{throw Error()}catch(Y){p=Y}s()}}catch(Y){if(Y&&p&&typeof Y.stack=="string"){for(var g=Y.stack.split(`
`),v=p.stack.split(`
`),T=g.length-1,L=v.length-1;1<=T&&0<=L&&g[T]!==v[L];)L--;for(;1<=T&&0<=L;T--,L--)if(g[T]!==v[L]){if(T!==1||L!==1)do if(T--,L--,0>L||g[T]!==v[L]){var z=`
`+g[T].replace(" at new "," at ");return s.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",s.displayName)),z}while(1<=T&&0<=L);break}}}finally{he=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?Z(s):""}function Se(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=ve(s.type,!1),s;case 11:return s=ve(s.type.render,!1),s;case 1:return s=ve(s.type,!0),s;default:return""}}function Ee(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case J:return"Portal";case A:return"Profiler";case I:return"StrictMode";case M:return"Suspense";case Oe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case j:return(s.displayName||"Context")+".Consumer";case F:return(s._context.displayName||"Context")+".Provider";case B:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Te:return a=s.displayName||null,a!==null?a:Ee(s.type)||"Memo";case ke:a=s._payload,s=s._init;try{return Ee(s(a))}catch{}}return null}function Be(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(a);case 8:return a===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function He(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ye(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function St(s){var a=Ye(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,v=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(T){p=""+T,v.call(this,T)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(T){p=""+T},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Mi(s){s._valueTracker||(s._valueTracker=St(s))}function mo(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),p="";return s&&(p=Ye(s)?s.checked?"true":"false":s.value),s=p,s!==u?(a.setValue(s),!0):!1}function wr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function fs(s,a){var u=a.checked;return oe({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function go(s,a){var u=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;u=He(a.value!=null?a.value:u),s._wrapperState={initialChecked:p,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Ma(s,a){a=a.checked,a!=null&&D(s,"checked",a,!1)}function La(s,a){Ma(s,a);var u=He(a.value),p=a.type;if(u!=null)p==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?yo(s,a.type,u):a.hasOwnProperty("defaultValue")&&yo(s,a.type,He(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Uc(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function yo(s,a,u){(a!=="number"||wr(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Li=Array.isArray;function Fi(s,a,u,p){if(s=s.options,a){a={};for(var g=0;g<u.length;g++)a["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=a.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&p&&(s[u].defaultSelected=!0)}else{for(u=""+He(u),a=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,p&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function Fa(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function _o(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(t(92));if(Li(u)){if(1<u.length)throw Error(t(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:He(u)}}function vo(s,a){var u=He(a.value),p=He(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),p!=null&&(s.defaultValue=""+p)}function ja(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function gt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?gt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ji,Ua=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,p,g){MSApp.execUnsafeLocalFunction(function(){return s(a,u,p,g)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(ji=ji||document.createElement("div"),ji.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=ji.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function xr(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var ps={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ms=["Webkit","ms","Moz","O"];Object.keys(ps).forEach(function(s){ms.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),ps[a]=ps[s]})});function za(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||ps.hasOwnProperty(s)&&ps[s]?(""+a).trim():a+"px"}function Ba(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var p=u.indexOf("--")===0,g=za(u,a[u],p);u==="float"&&(u="cssFloat"),p?s.setProperty(u,g):s[u]=g}}var Ha=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $a(s,a){if(a){if(Ha[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Wa(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gs=null;function wo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Va=null,In=null,di=null;function xo(s){if(s=gl(s)){if(typeof Va!="function")throw Error(t(280));var a=s.stateNode;a&&(a=pu(a),Va(s.stateNode,s.type,a))}}function Ui(s){In?di?di.push(s):di=[s]:In=s}function Ga(){if(In){var s=In,a=di;if(di=In=null,xo(s),a)for(s=0;s<a.length;s++)xo(a[s])}}function So(s,a){return s(a)}function Ka(){}var zi=!1;function qa(s,a,u){if(zi)return s(a,u);zi=!0;try{return So(s,a,u)}finally{zi=!1,(In!==null||di!==null)&&(Ka(),Ga())}}function ht(s,a){var u=s.stateNode;if(u===null)return null;var p=pu(u);if(p===null)return null;u=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,a,typeof u));return u}var Eo=!1;if(c)try{var Hn={};Object.defineProperty(Hn,"passive",{get:function(){Eo=!0}}),window.addEventListener("test",Hn,Hn),window.removeEventListener("test",Hn,Hn)}catch{Eo=!1}function ys(s,a,u,p,g,v,T,L,z){var Y=Array.prototype.slice.call(arguments,3);try{a.apply(u,Y)}catch(te){this.onError(te)}}var _s=!1,bo=null,$n=!1,Ya=null,Bd={onError:function(s){_s=!0,bo=s}};function Xa(s,a,u,p,g,v,T,L,z){_s=!1,bo=null,ys.apply(Bd,arguments)}function Hd(s,a,u,p,g,v,T,L,z){if(Xa.apply(this,arguments),_s){if(_s){var Y=bo;_s=!1,bo=null}else throw Error(t(198));$n||($n=!0,Ya=Y)}}function Wn(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function vs(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Vn(s){if(Wn(s)!==s)throw Error(t(188))}function zc(s){var a=s.alternate;if(!a){if(a=Wn(s),a===null)throw Error(t(188));return a!==s?null:s}for(var u=s,p=a;;){var g=u.return;if(g===null)break;var v=g.alternate;if(v===null){if(p=g.return,p!==null){u=p;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===u)return Vn(g),s;if(v===p)return Vn(g),a;v=v.sibling}throw Error(t(188))}if(u.return!==p.return)u=g,p=v;else{for(var T=!1,L=g.child;L;){if(L===u){T=!0,u=g,p=v;break}if(L===p){T=!0,p=g,u=v;break}L=L.sibling}if(!T){for(L=v.child;L;){if(L===u){T=!0,u=v,p=g;break}if(L===p){T=!0,p=v,u=g;break}L=L.sibling}if(!T)throw Error(t(189))}}if(u.alternate!==p)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:a}function Qa(s){return s=zc(s),s!==null?To(s):null}function To(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=To(s);if(a!==null)return a;s=s.sibling}return null}var Co=e.unstable_scheduleCallback,Ja=e.unstable_cancelCallback,Bc=e.unstable_shouldYield,$d=e.unstable_requestPaint,Xe=e.unstable_now,Hc=e.unstable_getCurrentPriorityLevel,ws=e.unstable_ImmediatePriority,Sr=e.unstable_UserBlockingPriority,Pn=e.unstable_NormalPriority,Za=e.unstable_LowPriority,$c=e.unstable_IdlePriority,xs=null,vn=null;function Wc(s){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(xs,s,void 0,(s.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:Gc,el=Math.log,Vc=Math.LN2;function Gc(s){return s>>>=0,s===0?32:31-(el(s)/Vc|0)|0}var ko=64,Io=4194304;function Er(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ss(s,a){var u=s.pendingLanes;if(u===0)return 0;var p=0,g=s.suspendedLanes,v=s.pingedLanes,T=u&268435455;if(T!==0){var L=T&~g;L!==0?p=Er(L):(v&=T,v!==0&&(p=Er(v)))}else T=u&~g,T!==0?p=Er(T):v!==0&&(p=Er(v));if(p===0)return 0;if(a!==0&&a!==p&&(a&g)===0&&(g=p&-p,v=a&-a,g>=v||g===16&&(v&4194240)!==0))return a;if((p&4)!==0&&(p|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)u=31-qt(a),g=1<<u,p|=s[u],a&=~g;return p}function Wd(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bi(s,a){for(var u=s.suspendedLanes,p=s.pingedLanes,g=s.expirationTimes,v=s.pendingLanes;0<v;){var T=31-qt(v),L=1<<T,z=g[T];z===-1?((L&u)===0||(L&p)!==0)&&(g[T]=Wd(L,a)):z<=a&&(s.expiredLanes|=L),v&=~L}}function wn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Es(){var s=ko;return ko<<=1,(ko&4194240)===0&&(ko=64),s}function br(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function Tr(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-qt(a),s[a]=u}function qe(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<u;){var g=31-qt(u),v=1<<g;a[g]=0,p[g]=-1,s[g]=-1,u&=~v}}function Cr(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var p=31-qt(u),g=1<<p;g&a|s[p]&a&&(s[p]|=a),u&=~g}}var Re=0;function kr(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Kc,Po,qc,Yc,Xc,tl=!1,fi=[],At=null,Gn=null,Kn=null,Ir=new Map,Rn=new Map,pi=[],Vd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qc(s,a){switch(s){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":Ir.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rn.delete(a.pointerId)}}function en(s,a,u,p,g,v){return s===null||s.nativeEvent!==v?(s={blockedOn:a,domEventName:u,eventSystemFlags:p,nativeEvent:v,targetContainers:[g]},a!==null&&(a=gl(a),a!==null&&Po(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function Gd(s,a,u,p,g){switch(a){case"focusin":return At=en(At,s,a,u,p,g),!0;case"dragenter":return Gn=en(Gn,s,a,u,p,g),!0;case"mouseover":return Kn=en(Kn,s,a,u,p,g),!0;case"pointerover":var v=g.pointerId;return Ir.set(v,en(Ir.get(v)||null,s,a,u,p,g)),!0;case"gotpointercapture":return v=g.pointerId,Rn.set(v,en(Rn.get(v)||null,s,a,u,p,g)),!0}return!1}function Jc(s){var a=ks(s.target);if(a!==null){var u=Wn(a);if(u!==null){if(a=u.tag,a===13){if(a=vs(u),a!==null){s.blockedOn=a,Xc(s.priority,function(){qc(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Hi(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=Ro(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var p=new u.constructor(u.type,u);gs=p,u.target.dispatchEvent(p),gs=null}else return a=gl(u),a!==null&&Po(a),s.blockedOn=u,!1;a.shift()}return!0}function bs(s,a,u){Hi(s)&&u.delete(a)}function Zc(){tl=!1,At!==null&&Hi(At)&&(At=null),Gn!==null&&Hi(Gn)&&(Gn=null),Kn!==null&&Hi(Kn)&&(Kn=null),Ir.forEach(bs),Rn.forEach(bs)}function qn(s,a){s.blockedOn===a&&(s.blockedOn=null,tl||(tl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Zc)))}function Yn(s){function a(g){return qn(g,s)}if(0<fi.length){qn(fi[0],s);for(var u=1;u<fi.length;u++){var p=fi[u];p.blockedOn===s&&(p.blockedOn=null)}}for(At!==null&&qn(At,s),Gn!==null&&qn(Gn,s),Kn!==null&&qn(Kn,s),Ir.forEach(a),Rn.forEach(a),u=0;u<pi.length;u++)p=pi[u],p.blockedOn===s&&(p.blockedOn=null);for(;0<pi.length&&(u=pi[0],u.blockedOn===null);)Jc(u),u.blockedOn===null&&pi.shift()}var $i=H.ReactCurrentBatchConfig,Pr=!0;function st(s,a,u,p){var g=Re,v=$i.transition;$i.transition=null;try{Re=1,nl(s,a,u,p)}finally{Re=g,$i.transition=v}}function Kd(s,a,u,p){var g=Re,v=$i.transition;$i.transition=null;try{Re=4,nl(s,a,u,p)}finally{Re=g,$i.transition=v}}function nl(s,a,u,p){if(Pr){var g=Ro(s,a,u,p);if(g===null)sf(s,a,p,Ts,u),Qc(s,p);else if(Gd(g,s,a,u,p))p.stopPropagation();else if(Qc(s,p),a&4&&-1<Vd.indexOf(s)){for(;g!==null;){var v=gl(g);if(v!==null&&Kc(v),v=Ro(s,a,u,p),v===null&&sf(s,a,p,Ts,u),v===g)break;g=v}g!==null&&p.stopPropagation()}else sf(s,a,p,null,u)}}var Ts=null;function Ro(s,a,u,p){if(Ts=null,s=wo(p),s=ks(s),s!==null)if(a=Wn(s),a===null)s=null;else if(u=a.tag,u===13){if(s=vs(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Ts=s,null}function il(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hc()){case ws:return 1;case Sr:return 4;case Pn:case Za:return 16;case $c:return 536870912;default:return 16}default:return 16}}var xn=null,Ao=null,tn=null;function rl(){if(tn)return tn;var s,a=Ao,u=a.length,p,g="value"in xn?xn.value:xn.textContent,v=g.length;for(s=0;s<u&&a[s]===g[s];s++);var T=u-s;for(p=1;p<=T&&a[u-p]===g[v-p];p++);return tn=g.slice(s,1<p?1-p:void 0)}function No(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function mi(){return!0}function sl(){return!1}function Nt(s){function a(u,p,g,v,T){this._reactName=u,this._targetInst=g,this.type=p,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var L in s)s.hasOwnProperty(L)&&(u=s[L],this[L]=u?u(v):v[L]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?mi:sl,this.isPropagationStopped=sl,this}return oe(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),a}var Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oo=Nt(Xn),gi=oe({},Xn,{view:0,detail:0}),qd=Nt(gi),Do,Wi,Rr,Cs=oe({},gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:d,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Rr&&(Rr&&s.type==="mousemove"?(Do=s.screenX-Rr.screenX,Wi=s.screenY-Rr.screenY):Wi=Do=0,Rr=s),Do)},movementY:function(s){return"movementY"in s?s.movementY:Wi}}),Mo=Nt(Cs),ol=oe({},Cs,{dataTransfer:0}),eu=Nt(ol),Lo=oe({},gi,{relatedTarget:0}),Fo=Nt(Lo),tu=oe({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0}),Vi=Nt(tu),nu=oe({},Xn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),iu=Nt(nu),ru=oe({},Xn,{data:0}),al=Nt(ru),nn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ar(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=ou[s])?!!a[s]:!1}function d(){return Ar}var _=oe({},gi,{key:function(s){if(s.key){var a=nn[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=No(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?su[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:d,charCode:function(s){return s.type==="keypress"?No(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?No(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),x=Nt(_),P=oe({},Cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V=Nt(P),X=oe({},gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:d}),se=Nt(X),Ve=oe({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),_t=Nt(Ve),De=oe({},Cs,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Et=Nt(De),bt=[9,13,27,32],yi=c&&"CompositionEvent"in window,Ot=null;c&&"documentMode"in document&&(Ot=document.documentMode);var jo=c&&"TextEvent"in window&&!Ot,Uo=c&&(!yi||Ot&&8<Ot&&11>=Ot),sy=" ",oy=!1;function ay(s,a){switch(s){case"keyup":return bt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ly(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var zo=!1;function PT(s,a){switch(s){case"compositionend":return ly(a);case"keypress":return a.which!==32?null:(oy=!0,sy);case"textInput":return s=a.data,s===sy&&oy?null:s;default:return null}}function RT(s,a){if(zo)return s==="compositionend"||!yi&&ay(s,a)?(s=rl(),tn=Ao=xn=null,zo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Uo&&a.locale!=="ko"?null:a.data;default:return null}}var AT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cy(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!AT[s.type]:a==="textarea"}function uy(s,a,u,p){Ui(p),a=hu(a,"onChange"),0<a.length&&(u=new Oo("onChange","change",null,u,p),s.push({event:u,listeners:a}))}var ll=null,cl=null;function NT(s){Iy(s,0)}function au(s){var a=Vo(s);if(mo(a))return s}function OT(s,a){if(s==="change")return a}var hy=!1;if(c){var Yd;if(c){var Xd="oninput"in document;if(!Xd){var dy=document.createElement("div");dy.setAttribute("oninput","return;"),Xd=typeof dy.oninput=="function"}Yd=Xd}else Yd=!1;hy=Yd&&(!document.documentMode||9<document.documentMode)}function fy(){ll&&(ll.detachEvent("onpropertychange",py),cl=ll=null)}function py(s){if(s.propertyName==="value"&&au(cl)){var a=[];uy(a,cl,s,wo(s)),qa(NT,a)}}function DT(s,a,u){s==="focusin"?(fy(),ll=a,cl=u,ll.attachEvent("onpropertychange",py)):s==="focusout"&&fy()}function MT(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return au(cl)}function LT(s,a){if(s==="click")return au(a)}function FT(s,a){if(s==="input"||s==="change")return au(a)}function jT(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Qn=typeof Object.is=="function"?Object.is:jT;function ul(s,a){if(Qn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),p=Object.keys(a);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var g=u[p];if(!h.call(a,g)||!Qn(s[g],a[g]))return!1}return!0}function my(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function gy(s,a){var u=my(s);s=0;for(var p;u;){if(u.nodeType===3){if(p=s+u.textContent.length,s<=a&&p>=a)return{node:u,offset:a-s};s=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=my(u)}}function yy(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?yy(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function _y(){for(var s=window,a=wr();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=wr(s.document)}return a}function Qd(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function UT(s){var a=_y(),u=s.focusedElem,p=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&yy(u.ownerDocument.documentElement,u)){if(p!==null&&Qd(u)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=u.textContent.length,v=Math.min(p.start,g);p=p.end===void 0?v:Math.min(p.end,g),!s.extend&&v>p&&(g=p,p=v,v=g),g=gy(u,v);var T=gy(u,p);g&&T&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),v>p?(s.addRange(a),s.extend(T.node,T.offset)):(a.setEnd(T.node,T.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var zT=c&&"documentMode"in document&&11>=document.documentMode,Bo=null,Jd=null,hl=null,Zd=!1;function vy(s,a,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Zd||Bo==null||Bo!==wr(p)||(p=Bo,"selectionStart"in p&&Qd(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),hl&&ul(hl,p)||(hl=p,p=hu(Jd,"onSelect"),0<p.length&&(a=new Oo("onSelect","select",null,a,u),s.push({event:a,listeners:p}),a.target=Bo)))}function lu(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Ho={animationend:lu("Animation","AnimationEnd"),animationiteration:lu("Animation","AnimationIteration"),animationstart:lu("Animation","AnimationStart"),transitionend:lu("Transition","TransitionEnd")},ef={},wy={};c&&(wy=document.createElement("div").style,"AnimationEvent"in window||(delete Ho.animationend.animation,delete Ho.animationiteration.animation,delete Ho.animationstart.animation),"TransitionEvent"in window||delete Ho.transitionend.transition);function cu(s){if(ef[s])return ef[s];if(!Ho[s])return s;var a=Ho[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in wy)return ef[s]=a[u];return s}var xy=cu("animationend"),Sy=cu("animationiteration"),Ey=cu("animationstart"),by=cu("transitionend"),Ty=new Map,Cy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(s,a){Ty.set(s,a),o(a,[s])}for(var tf=0;tf<Cy.length;tf++){var nf=Cy[tf],BT=nf.toLowerCase(),HT=nf[0].toUpperCase()+nf.slice(1);Nr(BT,"on"+HT)}Nr(xy,"onAnimationEnd"),Nr(Sy,"onAnimationIteration"),Nr(Ey,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(by,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$T=new Set("cancel close invalid load scroll toggle".split(" ").concat(dl));function ky(s,a,u){var p=s.type||"unknown-event";s.currentTarget=u,Hd(p,a,void 0,s),s.currentTarget=null}function Iy(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var p=s[u],g=p.event;p=p.listeners;e:{var v=void 0;if(a)for(var T=p.length-1;0<=T;T--){var L=p[T],z=L.instance,Y=L.currentTarget;if(L=L.listener,z!==v&&g.isPropagationStopped())break e;ky(g,L,Y),v=z}else for(T=0;T<p.length;T++){if(L=p[T],z=L.instance,Y=L.currentTarget,L=L.listener,z!==v&&g.isPropagationStopped())break e;ky(g,L,Y),v=z}}}if($n)throw s=Ya,$n=!1,Ya=null,s}function Je(s,a){var u=a[hf];u===void 0&&(u=a[hf]=new Set);var p=s+"__bubble";u.has(p)||(Py(a,s,2,!1),u.add(p))}function rf(s,a,u){var p=0;a&&(p|=4),Py(u,s,p,a)}var uu="_reactListening"+Math.random().toString(36).slice(2);function fl(s){if(!s[uu]){s[uu]=!0,i.forEach(function(u){u!=="selectionchange"&&($T.has(u)||rf(u,!1,s),rf(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[uu]||(a[uu]=!0,rf("selectionchange",!1,a))}}function Py(s,a,u,p){switch(il(a)){case 1:var g=st;break;case 4:g=Kd;break;default:g=nl}u=g.bind(null,a,u,s),g=void 0,!Eo||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),p?g!==void 0?s.addEventListener(a,u,{capture:!0,passive:g}):s.addEventListener(a,u,!0):g!==void 0?s.addEventListener(a,u,{passive:g}):s.addEventListener(a,u,!1)}function sf(s,a,u,p,g){var v=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var T=p.tag;if(T===3||T===4){var L=p.stateNode.containerInfo;if(L===g||L.nodeType===8&&L.parentNode===g)break;if(T===4)for(T=p.return;T!==null;){var z=T.tag;if((z===3||z===4)&&(z=T.stateNode.containerInfo,z===g||z.nodeType===8&&z.parentNode===g))return;T=T.return}for(;L!==null;){if(T=ks(L),T===null)return;if(z=T.tag,z===5||z===6){p=v=T;continue e}L=L.parentNode}}p=p.return}qa(function(){var Y=v,te=wo(u),ne=[];e:{var ee=Ty.get(s);if(ee!==void 0){var le=Oo,ue=s;switch(s){case"keypress":if(No(u)===0)break e;case"keydown":case"keyup":le=x;break;case"focusin":ue="focus",le=Fo;break;case"focusout":ue="blur",le=Fo;break;case"beforeblur":case"afterblur":le=Fo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=se;break;case xy:case Sy:case Ey:le=Vi;break;case by:le=_t;break;case"scroll":le=qd;break;case"wheel":le=Et;break;case"copy":case"cut":case"paste":le=iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=V}var de=(a&4)!==0,dt=!de&&s==="scroll",G=de?ee!==null?ee+"Capture":null:ee;de=[];for(var $=Y,K;$!==null;){K=$;var ie=K.stateNode;if(K.tag===5&&ie!==null&&(K=ie,G!==null&&(ie=ht($,G),ie!=null&&de.push(pl($,ie,K)))),dt)break;$=$.return}0<de.length&&(ee=new le(ee,ue,null,u,te),ne.push({event:ee,listeners:de}))}}if((a&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",le=s==="mouseout"||s==="pointerout",ee&&u!==gs&&(ue=u.relatedTarget||u.fromElement)&&(ks(ue)||ue[Gi]))break e;if((le||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,le?(ue=u.relatedTarget||u.toElement,le=Y,ue=ue?ks(ue):null,ue!==null&&(dt=Wn(ue),ue!==dt||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(le=null,ue=Y),le!==ue)){if(de=Mo,ie="onMouseLeave",G="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(de=V,ie="onPointerLeave",G="onPointerEnter",$="pointer"),dt=le==null?ee:Vo(le),K=ue==null?ee:Vo(ue),ee=new de(ie,$+"leave",le,u,te),ee.target=dt,ee.relatedTarget=K,ie=null,ks(te)===Y&&(de=new de(G,$+"enter",ue,u,te),de.target=K,de.relatedTarget=dt,ie=de),dt=ie,le&&ue)t:{for(de=le,G=ue,$=0,K=de;K;K=$o(K))$++;for(K=0,ie=G;ie;ie=$o(ie))K++;for(;0<$-K;)de=$o(de),$--;for(;0<K-$;)G=$o(G),K--;for(;$--;){if(de===G||G!==null&&de===G.alternate)break t;de=$o(de),G=$o(G)}de=null}else de=null;le!==null&&Ry(ne,ee,le,de,!1),ue!==null&&dt!==null&&Ry(ne,dt,ue,de,!0)}}e:{if(ee=Y?Vo(Y):window,le=ee.nodeName&&ee.nodeName.toLowerCase(),le==="select"||le==="input"&&ee.type==="file")var fe=OT;else if(cy(ee))if(hy)fe=FT;else{fe=MT;var me=DT}else(le=ee.nodeName)&&le.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(fe=LT);if(fe&&(fe=fe(s,Y))){uy(ne,fe,u,te);break e}me&&me(s,ee,Y),s==="focusout"&&(me=ee._wrapperState)&&me.controlled&&ee.type==="number"&&yo(ee,"number",ee.value)}switch(me=Y?Vo(Y):window,s){case"focusin":(cy(me)||me.contentEditable==="true")&&(Bo=me,Jd=Y,hl=null);break;case"focusout":hl=Jd=Bo=null;break;case"mousedown":Zd=!0;break;case"contextmenu":case"mouseup":case"dragend":Zd=!1,vy(ne,u,te);break;case"selectionchange":if(zT)break;case"keydown":case"keyup":vy(ne,u,te)}var ge;if(yi)e:{switch(s){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else zo?ay(s,u)&&(we="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(we="onCompositionStart");we&&(Uo&&u.locale!=="ko"&&(zo||we!=="onCompositionStart"?we==="onCompositionEnd"&&zo&&(ge=rl()):(xn=te,Ao="value"in xn?xn.value:xn.textContent,zo=!0)),me=hu(Y,we),0<me.length&&(we=new al(we,s,null,u,te),ne.push({event:we,listeners:me}),ge?we.data=ge:(ge=ly(u),ge!==null&&(we.data=ge)))),(ge=jo?PT(s,u):RT(s,u))&&(Y=hu(Y,"onBeforeInput"),0<Y.length&&(te=new al("onBeforeInput","beforeinput",null,u,te),ne.push({event:te,listeners:Y}),te.data=ge))}Iy(ne,a)})}function pl(s,a,u){return{instance:s,listener:a,currentTarget:u}}function hu(s,a){for(var u=a+"Capture",p=[];s!==null;){var g=s,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=ht(s,u),v!=null&&p.unshift(pl(s,v,g)),v=ht(s,a),v!=null&&p.push(pl(s,v,g))),s=s.return}return p}function $o(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Ry(s,a,u,p,g){for(var v=a._reactName,T=[];u!==null&&u!==p;){var L=u,z=L.alternate,Y=L.stateNode;if(z!==null&&z===p)break;L.tag===5&&Y!==null&&(L=Y,g?(z=ht(u,v),z!=null&&T.unshift(pl(u,z,L))):g||(z=ht(u,v),z!=null&&T.push(pl(u,z,L)))),u=u.return}T.length!==0&&s.push({event:a,listeners:T})}var WT=/\r\n?/g,VT=/\u0000|\uFFFD/g;function Ay(s){return(typeof s=="string"?s:""+s).replace(WT,`
`).replace(VT,"")}function du(s,a,u){if(a=Ay(a),Ay(s)!==a&&u)throw Error(t(425))}function fu(){}var of=null,af=null;function lf(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var cf=typeof setTimeout=="function"?setTimeout:void 0,GT=typeof clearTimeout=="function"?clearTimeout:void 0,Ny=typeof Promise=="function"?Promise:void 0,KT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ny<"u"?function(s){return Ny.resolve(null).then(s).catch(qT)}:cf;function qT(s){setTimeout(function(){throw s})}function uf(s,a){var u=a,p=0;do{var g=u.nextSibling;if(s.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(p===0){s.removeChild(g),Yn(a);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=g}while(u);Yn(a)}function Or(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Oy(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var Wo=Math.random().toString(36).slice(2),_i="__reactFiber$"+Wo,ml="__reactProps$"+Wo,Gi="__reactContainer$"+Wo,hf="__reactEvents$"+Wo,YT="__reactListeners$"+Wo,XT="__reactHandles$"+Wo;function ks(s){var a=s[_i];if(a)return a;for(var u=s.parentNode;u;){if(a=u[Gi]||u[_i]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=Oy(s);s!==null;){if(u=s[_i])return u;s=Oy(s)}return a}s=u,u=s.parentNode}return null}function gl(s){return s=s[_i]||s[Gi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Vo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function pu(s){return s[ml]||null}var df=[],Go=-1;function Dr(s){return{current:s}}function Ze(s){0>Go||(s.current=df[Go],df[Go]=null,Go--)}function Qe(s,a){Go++,df[Go]=s.current,s.current=a}var Mr={},jt=Dr(Mr),rn=Dr(!1),Is=Mr;function Ko(s,a){var u=s.type.contextTypes;if(!u)return Mr;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in u)g[v]=a[v];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function sn(s){return s=s.childContextTypes,s!=null}function mu(){Ze(rn),Ze(jt)}function Dy(s,a,u){if(jt.current!==Mr)throw Error(t(168));Qe(jt,a),Qe(rn,u)}function My(s,a,u){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var g in p)if(!(g in a))throw Error(t(108,Be(s)||"Unknown",g));return oe({},u,p)}function gu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Mr,Is=jt.current,Qe(jt,s),Qe(rn,rn.current),!0}function Ly(s,a,u){var p=s.stateNode;if(!p)throw Error(t(169));u?(s=My(s,a,Is),p.__reactInternalMemoizedMergedChildContext=s,Ze(rn),Ze(jt),Qe(jt,s)):Ze(rn),Qe(rn,u)}var Ki=null,yu=!1,ff=!1;function Fy(s){Ki===null?Ki=[s]:Ki.push(s)}function QT(s){yu=!0,Fy(s)}function Lr(){if(!ff&&Ki!==null){ff=!0;var s=0,a=Re;try{var u=Ki;for(Re=1;s<u.length;s++){var p=u[s];do p=p(!0);while(p!==null)}Ki=null,yu=!1}catch(g){throw Ki!==null&&(Ki=Ki.slice(s+1)),Co(ws,Lr),g}finally{Re=a,ff=!1}}return null}var qo=[],Yo=0,_u=null,vu=0,An=[],Nn=0,Ps=null,qi=1,Yi="";function Rs(s,a){qo[Yo++]=vu,qo[Yo++]=_u,_u=s,vu=a}function jy(s,a,u){An[Nn++]=qi,An[Nn++]=Yi,An[Nn++]=Ps,Ps=s;var p=qi;s=Yi;var g=32-qt(p)-1;p&=~(1<<g),u+=1;var v=32-qt(a)+g;if(30<v){var T=g-g%5;v=(p&(1<<T)-1).toString(32),p>>=T,g-=T,qi=1<<32-qt(a)+g|u<<g|p,Yi=v+s}else qi=1<<v|u<<g|p,Yi=s}function pf(s){s.return!==null&&(Rs(s,1),jy(s,1,0))}function mf(s){for(;s===_u;)_u=qo[--Yo],qo[Yo]=null,vu=qo[--Yo],qo[Yo]=null;for(;s===Ps;)Ps=An[--Nn],An[Nn]=null,Yi=An[--Nn],An[Nn]=null,qi=An[--Nn],An[Nn]=null}var Sn=null,En=null,rt=!1,Jn=null;function Uy(s,a){var u=Ln(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function zy(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Sn=s,En=Or(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Sn=s,En=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=Ps!==null?{id:qi,overflow:Yi}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=Ln(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,Sn=s,En=null,!0):!1;default:return!1}}function gf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function yf(s){if(rt){var a=En;if(a){var u=a;if(!zy(s,a)){if(gf(s))throw Error(t(418));a=Or(u.nextSibling);var p=Sn;a&&zy(s,a)?Uy(p,u):(s.flags=s.flags&-4097|2,rt=!1,Sn=s)}}else{if(gf(s))throw Error(t(418));s.flags=s.flags&-4097|2,rt=!1,Sn=s}}}function By(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Sn=s}function wu(s){if(s!==Sn)return!1;if(!rt)return By(s),rt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!lf(s.type,s.memoizedProps)),a&&(a=En)){if(gf(s))throw Hy(),Error(t(418));for(;a;)Uy(s,a),a=Or(a.nextSibling)}if(By(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){En=Or(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}En=null}}else En=Sn?Or(s.stateNode.nextSibling):null;return!0}function Hy(){for(var s=En;s;)s=Or(s.nextSibling)}function Xo(){En=Sn=null,rt=!1}function _f(s){Jn===null?Jn=[s]:Jn.push(s)}var JT=H.ReactCurrentBatchConfig;function yl(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var p=u.stateNode}if(!p)throw Error(t(147,s));var g=p,v=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===v?a.ref:(a=function(T){var L=g.refs;T===null?delete L[v]:L[v]=T},a._stringRef=v,a)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function xu(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function $y(s){var a=s._init;return a(s._payload)}function Wy(s){function a(G,$){if(s){var K=G.deletions;K===null?(G.deletions=[$],G.flags|=16):K.push($)}}function u(G,$){if(!s)return null;for(;$!==null;)a(G,$),$=$.sibling;return null}function p(G,$){for(G=new Map;$!==null;)$.key!==null?G.set($.key,$):G.set($.index,$),$=$.sibling;return G}function g(G,$){return G=Wr(G,$),G.index=0,G.sibling=null,G}function v(G,$,K){return G.index=K,s?(K=G.alternate,K!==null?(K=K.index,K<$?(G.flags|=2,$):K):(G.flags|=2,$)):(G.flags|=1048576,$)}function T(G){return s&&G.alternate===null&&(G.flags|=2),G}function L(G,$,K,ie){return $===null||$.tag!==6?($=cp(K,G.mode,ie),$.return=G,$):($=g($,K),$.return=G,$)}function z(G,$,K,ie){var fe=K.type;return fe===N?te(G,$,K.props.children,ie,K.key):$!==null&&($.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===ke&&$y(fe)===$.type)?(ie=g($,K.props),ie.ref=yl(G,$,K),ie.return=G,ie):(ie=Vu(K.type,K.key,K.props,null,G.mode,ie),ie.ref=yl(G,$,K),ie.return=G,ie)}function Y(G,$,K,ie){return $===null||$.tag!==4||$.stateNode.containerInfo!==K.containerInfo||$.stateNode.implementation!==K.implementation?($=up(K,G.mode,ie),$.return=G,$):($=g($,K.children||[]),$.return=G,$)}function te(G,$,K,ie,fe){return $===null||$.tag!==7?($=js(K,G.mode,ie,fe),$.return=G,$):($=g($,K),$.return=G,$)}function ne(G,$,K){if(typeof $=="string"&&$!==""||typeof $=="number")return $=cp(""+$,G.mode,K),$.return=G,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case q:return K=Vu($.type,$.key,$.props,null,G.mode,K),K.ref=yl(G,null,$),K.return=G,K;case J:return $=up($,G.mode,K),$.return=G,$;case ke:var ie=$._init;return ne(G,ie($._payload),K)}if(Li($)||pe($))return $=js($,G.mode,K,null),$.return=G,$;xu(G,$)}return null}function ee(G,$,K,ie){var fe=$!==null?$.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return fe!==null?null:L(G,$,""+K,ie);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case q:return K.key===fe?z(G,$,K,ie):null;case J:return K.key===fe?Y(G,$,K,ie):null;case ke:return fe=K._init,ee(G,$,fe(K._payload),ie)}if(Li(K)||pe(K))return fe!==null?null:te(G,$,K,ie,null);xu(G,K)}return null}function le(G,$,K,ie,fe){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return G=G.get(K)||null,L($,G,""+ie,fe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case q:return G=G.get(ie.key===null?K:ie.key)||null,z($,G,ie,fe);case J:return G=G.get(ie.key===null?K:ie.key)||null,Y($,G,ie,fe);case ke:var me=ie._init;return le(G,$,K,me(ie._payload),fe)}if(Li(ie)||pe(ie))return G=G.get(K)||null,te($,G,ie,fe,null);xu($,ie)}return null}function ue(G,$,K,ie){for(var fe=null,me=null,ge=$,we=$=0,kt=null;ge!==null&&we<K.length;we++){ge.index>we?(kt=ge,ge=null):kt=ge.sibling;var Ue=ee(G,ge,K[we],ie);if(Ue===null){ge===null&&(ge=kt);break}s&&ge&&Ue.alternate===null&&a(G,ge),$=v(Ue,$,we),me===null?fe=Ue:me.sibling=Ue,me=Ue,ge=kt}if(we===K.length)return u(G,ge),rt&&Rs(G,we),fe;if(ge===null){for(;we<K.length;we++)ge=ne(G,K[we],ie),ge!==null&&($=v(ge,$,we),me===null?fe=ge:me.sibling=ge,me=ge);return rt&&Rs(G,we),fe}for(ge=p(G,ge);we<K.length;we++)kt=le(ge,G,we,K[we],ie),kt!==null&&(s&&kt.alternate!==null&&ge.delete(kt.key===null?we:kt.key),$=v(kt,$,we),me===null?fe=kt:me.sibling=kt,me=kt);return s&&ge.forEach(function(Vr){return a(G,Vr)}),rt&&Rs(G,we),fe}function de(G,$,K,ie){var fe=pe(K);if(typeof fe!="function")throw Error(t(150));if(K=fe.call(K),K==null)throw Error(t(151));for(var me=fe=null,ge=$,we=$=0,kt=null,Ue=K.next();ge!==null&&!Ue.done;we++,Ue=K.next()){ge.index>we?(kt=ge,ge=null):kt=ge.sibling;var Vr=ee(G,ge,Ue.value,ie);if(Vr===null){ge===null&&(ge=kt);break}s&&ge&&Vr.alternate===null&&a(G,ge),$=v(Vr,$,we),me===null?fe=Vr:me.sibling=Vr,me=Vr,ge=kt}if(Ue.done)return u(G,ge),rt&&Rs(G,we),fe;if(ge===null){for(;!Ue.done;we++,Ue=K.next())Ue=ne(G,Ue.value,ie),Ue!==null&&($=v(Ue,$,we),me===null?fe=Ue:me.sibling=Ue,me=Ue);return rt&&Rs(G,we),fe}for(ge=p(G,ge);!Ue.done;we++,Ue=K.next())Ue=le(ge,G,we,Ue.value,ie),Ue!==null&&(s&&Ue.alternate!==null&&ge.delete(Ue.key===null?we:Ue.key),$=v(Ue,$,we),me===null?fe=Ue:me.sibling=Ue,me=Ue);return s&&ge.forEach(function(A1){return a(G,A1)}),rt&&Rs(G,we),fe}function dt(G,$,K,ie){if(typeof K=="object"&&K!==null&&K.type===N&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case q:e:{for(var fe=K.key,me=$;me!==null;){if(me.key===fe){if(fe=K.type,fe===N){if(me.tag===7){u(G,me.sibling),$=g(me,K.props.children),$.return=G,G=$;break e}}else if(me.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===ke&&$y(fe)===me.type){u(G,me.sibling),$=g(me,K.props),$.ref=yl(G,me,K),$.return=G,G=$;break e}u(G,me);break}else a(G,me);me=me.sibling}K.type===N?($=js(K.props.children,G.mode,ie,K.key),$.return=G,G=$):(ie=Vu(K.type,K.key,K.props,null,G.mode,ie),ie.ref=yl(G,$,K),ie.return=G,G=ie)}return T(G);case J:e:{for(me=K.key;$!==null;){if($.key===me)if($.tag===4&&$.stateNode.containerInfo===K.containerInfo&&$.stateNode.implementation===K.implementation){u(G,$.sibling),$=g($,K.children||[]),$.return=G,G=$;break e}else{u(G,$);break}else a(G,$);$=$.sibling}$=up(K,G.mode,ie),$.return=G,G=$}return T(G);case ke:return me=K._init,dt(G,$,me(K._payload),ie)}if(Li(K))return ue(G,$,K,ie);if(pe(K))return de(G,$,K,ie);xu(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,$!==null&&$.tag===6?(u(G,$.sibling),$=g($,K),$.return=G,G=$):(u(G,$),$=cp(K,G.mode,ie),$.return=G,G=$),T(G)):u(G,$)}return dt}var Qo=Wy(!0),Vy=Wy(!1),Su=Dr(null),Eu=null,Jo=null,vf=null;function wf(){vf=Jo=Eu=null}function xf(s){var a=Su.current;Ze(Su),s._currentValue=a}function Sf(s,a,u){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===u)break;s=s.return}}function Zo(s,a){Eu=s,vf=Jo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(on=!0),s.firstContext=null)}function On(s){var a=s._currentValue;if(vf!==s)if(s={context:s,memoizedValue:a,next:null},Jo===null){if(Eu===null)throw Error(t(308));Jo=s,Eu.dependencies={lanes:0,firstContext:s}}else Jo=Jo.next=s;return a}var As=null;function Ef(s){As===null?As=[s]:As.push(s)}function Gy(s,a,u,p){var g=a.interleaved;return g===null?(u.next=u,Ef(a)):(u.next=g.next,g.next=u),a.interleaved=u,Xi(s,p)}function Xi(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Fr=!1;function bf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ky(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Qi(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function jr(s,a,u){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(je&2)!==0){var g=p.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),p.pending=a,Xi(s,u)}return g=p.interleaved,g===null?(a.next=a,Ef(p)):(a.next=g.next,g.next=a),p.interleaved=a,Xi(s,u)}function bu(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,u|=p,a.lanes=u,Cr(s,u)}}function qy(s,a){var u=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var g=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?g=v=T:v=v.next=T,u=u.next}while(u!==null);v===null?g=v=a:v=v.next=a}else g=v=a;u={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:p.shared,effects:p.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function Tu(s,a,u,p){var g=s.updateQueue;Fr=!1;var v=g.firstBaseUpdate,T=g.lastBaseUpdate,L=g.shared.pending;if(L!==null){g.shared.pending=null;var z=L,Y=z.next;z.next=null,T===null?v=Y:T.next=Y,T=z;var te=s.alternate;te!==null&&(te=te.updateQueue,L=te.lastBaseUpdate,L!==T&&(L===null?te.firstBaseUpdate=Y:L.next=Y,te.lastBaseUpdate=z))}if(v!==null){var ne=g.baseState;T=0,te=Y=z=null,L=v;do{var ee=L.lane,le=L.eventTime;if((p&ee)===ee){te!==null&&(te=te.next={eventTime:le,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var ue=s,de=L;switch(ee=a,le=u,de.tag){case 1:if(ue=de.payload,typeof ue=="function"){ne=ue.call(le,ne,ee);break e}ne=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=de.payload,ee=typeof ue=="function"?ue.call(le,ne,ee):ue,ee==null)break e;ne=oe({},ne,ee);break e;case 2:Fr=!0}}L.callback!==null&&L.lane!==0&&(s.flags|=64,ee=g.effects,ee===null?g.effects=[L]:ee.push(L))}else le={eventTime:le,lane:ee,tag:L.tag,payload:L.payload,callback:L.callback,next:null},te===null?(Y=te=le,z=ne):te=te.next=le,T|=ee;if(L=L.next,L===null){if(L=g.shared.pending,L===null)break;ee=L,L=ee.next,ee.next=null,g.lastBaseUpdate=ee,g.shared.pending=null}}while(!0);if(te===null&&(z=ne),g.baseState=z,g.firstBaseUpdate=Y,g.lastBaseUpdate=te,a=g.shared.interleaved,a!==null){g=a;do T|=g.lane,g=g.next;while(g!==a)}else v===null&&(g.shared.lanes=0);Ds|=T,s.lanes=T,s.memoizedState=ne}}function Yy(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],g=p.callback;if(g!==null){if(p.callback=null,p=u,typeof g!="function")throw Error(t(191,g));g.call(p)}}}var _l={},vi=Dr(_l),vl=Dr(_l),wl=Dr(_l);function Ns(s){if(s===_l)throw Error(t(174));return s}function Tf(s,a){switch(Qe(wl,a),Qe(vl,s),Qe(vi,_l),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:yt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=yt(a,s)}Ze(vi),Qe(vi,a)}function ea(){Ze(vi),Ze(vl),Ze(wl)}function Xy(s){Ns(wl.current);var a=Ns(vi.current),u=yt(a,s.type);a!==u&&(Qe(vl,s),Qe(vi,u))}function Cf(s){vl.current===s&&(Ze(vi),Ze(vl))}var ot=Dr(0);function Cu(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var kf=[];function If(){for(var s=0;s<kf.length;s++)kf[s]._workInProgressVersionPrimary=null;kf.length=0}var ku=H.ReactCurrentDispatcher,Pf=H.ReactCurrentBatchConfig,Os=0,at=null,vt=null,Tt=null,Iu=!1,xl=!1,Sl=0,ZT=0;function Ut(){throw Error(t(321))}function Rf(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!Qn(s[u],a[u]))return!1;return!0}function Af(s,a,u,p,g,v){if(Os=v,at=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ku.current=s===null||s.memoizedState===null?i1:r1,s=u(p,g),xl){v=0;do{if(xl=!1,Sl=0,25<=v)throw Error(t(301));v+=1,Tt=vt=null,a.updateQueue=null,ku.current=s1,s=u(p,g)}while(xl)}if(ku.current=Au,a=vt!==null&&vt.next!==null,Os=0,Tt=vt=at=null,Iu=!1,a)throw Error(t(300));return s}function Nf(){var s=Sl!==0;return Sl=0,s}function wi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?at.memoizedState=Tt=s:Tt=Tt.next=s,Tt}function Dn(){if(vt===null){var s=at.alternate;s=s!==null?s.memoizedState:null}else s=vt.next;var a=Tt===null?at.memoizedState:Tt.next;if(a!==null)Tt=a,vt=s;else{if(s===null)throw Error(t(310));vt=s,s={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Tt===null?at.memoizedState=Tt=s:Tt=Tt.next=s}return Tt}function El(s,a){return typeof a=="function"?a(s):a}function Of(s){var a=Dn(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var p=vt,g=p.baseQueue,v=u.pending;if(v!==null){if(g!==null){var T=g.next;g.next=v.next,v.next=T}p.baseQueue=g=v,u.pending=null}if(g!==null){v=g.next,p=p.baseState;var L=T=null,z=null,Y=v;do{var te=Y.lane;if((Os&te)===te)z!==null&&(z=z.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),p=Y.hasEagerState?Y.eagerState:s(p,Y.action);else{var ne={lane:te,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};z===null?(L=z=ne,T=p):z=z.next=ne,at.lanes|=te,Ds|=te}Y=Y.next}while(Y!==null&&Y!==v);z===null?T=p:z.next=L,Qn(p,a.memoizedState)||(on=!0),a.memoizedState=p,a.baseState=T,a.baseQueue=z,u.lastRenderedState=p}if(s=u.interleaved,s!==null){g=s;do v=g.lane,at.lanes|=v,Ds|=v,g=g.next;while(g!==s)}else g===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function Df(s){var a=Dn(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var p=u.dispatch,g=u.pending,v=a.memoizedState;if(g!==null){u.pending=null;var T=g=g.next;do v=s(v,T.action),T=T.next;while(T!==g);Qn(v,a.memoizedState)||(on=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),u.lastRenderedState=v}return[v,p]}function Qy(){}function Jy(s,a){var u=at,p=Dn(),g=a(),v=!Qn(p.memoizedState,g);if(v&&(p.memoizedState=g,on=!0),p=p.queue,Mf(t_.bind(null,u,p,s),[s]),p.getSnapshot!==a||v||Tt!==null&&Tt.memoizedState.tag&1){if(u.flags|=2048,bl(9,e_.bind(null,u,p,g,a),void 0,null),Ct===null)throw Error(t(349));(Os&30)!==0||Zy(u,a,g)}return g}function Zy(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=at.updateQueue,a===null?(a={lastEffect:null,stores:null},at.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function e_(s,a,u,p){a.value=u,a.getSnapshot=p,n_(a)&&i_(s)}function t_(s,a,u){return u(function(){n_(a)&&i_(s)})}function n_(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!Qn(s,u)}catch{return!0}}function i_(s){var a=Xi(s,1);a!==null&&ni(a,s,1,-1)}function r_(s){var a=wi();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:El,lastRenderedState:s},a.queue=s,s=s.dispatch=n1.bind(null,at,s),[a.memoizedState,s]}function bl(s,a,u,p){return s={tag:s,create:a,destroy:u,deps:p,next:null},a=at.updateQueue,a===null?(a={lastEffect:null,stores:null},at.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(p=u.next,u.next=s,s.next=p,a.lastEffect=s)),s}function s_(){return Dn().memoizedState}function Pu(s,a,u,p){var g=wi();at.flags|=s,g.memoizedState=bl(1|a,u,void 0,p===void 0?null:p)}function Ru(s,a,u,p){var g=Dn();p=p===void 0?null:p;var v=void 0;if(vt!==null){var T=vt.memoizedState;if(v=T.destroy,p!==null&&Rf(p,T.deps)){g.memoizedState=bl(a,u,v,p);return}}at.flags|=s,g.memoizedState=bl(1|a,u,v,p)}function o_(s,a){return Pu(8390656,8,s,a)}function Mf(s,a){return Ru(2048,8,s,a)}function a_(s,a){return Ru(4,2,s,a)}function l_(s,a){return Ru(4,4,s,a)}function c_(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function u_(s,a,u){return u=u!=null?u.concat([s]):null,Ru(4,4,c_.bind(null,a,s),u)}function Lf(){}function h_(s,a){var u=Dn();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&Rf(a,p[1])?p[0]:(u.memoizedState=[s,a],s)}function d_(s,a){var u=Dn();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&Rf(a,p[1])?p[0]:(s=s(),u.memoizedState=[s,a],s)}function f_(s,a,u){return(Os&21)===0?(s.baseState&&(s.baseState=!1,on=!0),s.memoizedState=u):(Qn(u,a)||(u=Es(),at.lanes|=u,Ds|=u,s.baseState=!0),a)}function e1(s,a){var u=Re;Re=u!==0&&4>u?u:4,s(!0);var p=Pf.transition;Pf.transition={};try{s(!1),a()}finally{Re=u,Pf.transition=p}}function p_(){return Dn().memoizedState}function t1(s,a,u){var p=Hr(s);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},m_(s))g_(a,u);else if(u=Gy(s,a,u,p),u!==null){var g=Xt();ni(u,s,p,g),y_(u,a,p)}}function n1(s,a,u){var p=Hr(s),g={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(m_(s))g_(a,g);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var T=a.lastRenderedState,L=v(T,u);if(g.hasEagerState=!0,g.eagerState=L,Qn(L,T)){var z=a.interleaved;z===null?(g.next=g,Ef(a)):(g.next=z.next,z.next=g),a.interleaved=g;return}}catch{}finally{}u=Gy(s,a,g,p),u!==null&&(g=Xt(),ni(u,s,p,g),y_(u,a,p))}}function m_(s){var a=s.alternate;return s===at||a!==null&&a===at}function g_(s,a){xl=Iu=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function y_(s,a,u){if((u&4194240)!==0){var p=a.lanes;p&=s.pendingLanes,u|=p,a.lanes=u,Cr(s,u)}}var Au={readContext:On,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},i1={readContext:On,useCallback:function(s,a){return wi().memoizedState=[s,a===void 0?null:a],s},useContext:On,useEffect:o_,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,Pu(4194308,4,c_.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Pu(4194308,4,s,a)},useInsertionEffect:function(s,a){return Pu(4,2,s,a)},useMemo:function(s,a){var u=wi();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var p=wi();return a=u!==void 0?u(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=t1.bind(null,at,s),[p.memoizedState,s]},useRef:function(s){var a=wi();return s={current:s},a.memoizedState=s},useState:r_,useDebugValue:Lf,useDeferredValue:function(s){return wi().memoizedState=s},useTransition:function(){var s=r_(!1),a=s[0];return s=e1.bind(null,s[1]),wi().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var p=at,g=wi();if(rt){if(u===void 0)throw Error(t(407));u=u()}else{if(u=a(),Ct===null)throw Error(t(349));(Os&30)!==0||Zy(p,a,u)}g.memoizedState=u;var v={value:u,getSnapshot:a};return g.queue=v,o_(t_.bind(null,p,v,s),[s]),p.flags|=2048,bl(9,e_.bind(null,p,v,u,a),void 0,null),u},useId:function(){var s=wi(),a=Ct.identifierPrefix;if(rt){var u=Yi,p=qi;u=(p&~(1<<32-qt(p)-1)).toString(32)+u,a=":"+a+"R"+u,u=Sl++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=ZT++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},r1={readContext:On,useCallback:h_,useContext:On,useEffect:Mf,useImperativeHandle:u_,useInsertionEffect:a_,useLayoutEffect:l_,useMemo:d_,useReducer:Of,useRef:s_,useState:function(){return Of(El)},useDebugValue:Lf,useDeferredValue:function(s){var a=Dn();return f_(a,vt.memoizedState,s)},useTransition:function(){var s=Of(El)[0],a=Dn().memoizedState;return[s,a]},useMutableSource:Qy,useSyncExternalStore:Jy,useId:p_,unstable_isNewReconciler:!1},s1={readContext:On,useCallback:h_,useContext:On,useEffect:Mf,useImperativeHandle:u_,useInsertionEffect:a_,useLayoutEffect:l_,useMemo:d_,useReducer:Df,useRef:s_,useState:function(){return Df(El)},useDebugValue:Lf,useDeferredValue:function(s){var a=Dn();return vt===null?a.memoizedState=s:f_(a,vt.memoizedState,s)},useTransition:function(){var s=Df(El)[0],a=Dn().memoizedState;return[s,a]},useMutableSource:Qy,useSyncExternalStore:Jy,useId:p_,unstable_isNewReconciler:!1};function Zn(s,a){if(s&&s.defaultProps){a=oe({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function Ff(s,a,u,p){a=s.memoizedState,u=u(p,a),u=u==null?a:oe({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Nu={isMounted:function(s){return(s=s._reactInternals)?Wn(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var p=Xt(),g=Hr(s),v=Qi(p,g);v.payload=a,u!=null&&(v.callback=u),a=jr(s,v,g),a!==null&&(ni(a,s,g,p),bu(a,s,g))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var p=Xt(),g=Hr(s),v=Qi(p,g);v.tag=1,v.payload=a,u!=null&&(v.callback=u),a=jr(s,v,g),a!==null&&(ni(a,s,g,p),bu(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=Xt(),p=Hr(s),g=Qi(u,p);g.tag=2,a!=null&&(g.callback=a),a=jr(s,g,p),a!==null&&(ni(a,s,p,u),bu(a,s,p))}};function __(s,a,u,p,g,v,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,v,T):a.prototype&&a.prototype.isPureReactComponent?!ul(u,p)||!ul(g,v):!0}function v_(s,a,u){var p=!1,g=Mr,v=a.contextType;return typeof v=="object"&&v!==null?v=On(v):(g=sn(a)?Is:jt.current,p=a.contextTypes,v=(p=p!=null)?Ko(s,g):Mr),a=new a(u,v),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Nu,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=v),a}function w_(s,a,u,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,p),a.state!==s&&Nu.enqueueReplaceState(a,a.state,null)}function jf(s,a,u,p){var g=s.stateNode;g.props=u,g.state=s.memoizedState,g.refs={},bf(s);var v=a.contextType;typeof v=="object"&&v!==null?g.context=On(v):(v=sn(a)?Is:jt.current,g.context=Ko(s,v)),g.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Ff(s,a,v,u),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Nu.enqueueReplaceState(g,g.state,null),Tu(s,u,g,p),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function ta(s,a){try{var u="",p=a;do u+=Se(p),p=p.return;while(p);var g=u}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:s,source:a,stack:g,digest:null}}function Uf(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function zf(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var o1=typeof WeakMap=="function"?WeakMap:Map;function x_(s,a,u){u=Qi(-1,u),u.tag=3,u.payload={element:null};var p=a.value;return u.callback=function(){Uu||(Uu=!0,tp=p),zf(s,a)},u}function S_(s,a,u){u=Qi(-1,u),u.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var g=a.value;u.payload=function(){return p(g)},u.callback=function(){zf(s,a)}}var v=s.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){zf(s,a),typeof p!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})}),u}function E_(s,a,u){var p=s.pingCache;if(p===null){p=s.pingCache=new o1;var g=new Set;p.set(a,g)}else g=p.get(a),g===void 0&&(g=new Set,p.set(a,g));g.has(u)||(g.add(u),s=w1.bind(null,s,a,u),a.then(s,s))}function b_(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function T_(s,a,u,p,g){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=Qi(-1,1),a.tag=2,jr(u,a,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var a1=H.ReactCurrentOwner,on=!1;function Yt(s,a,u,p){a.child=s===null?Vy(a,null,u,p):Qo(a,s.child,u,p)}function C_(s,a,u,p,g){u=u.render;var v=a.ref;return Zo(a,g),p=Af(s,a,u,p,v,g),u=Nf(),s!==null&&!on?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Ji(s,a,g)):(rt&&u&&pf(a),a.flags|=1,Yt(s,a,p,g),a.child)}function k_(s,a,u,p,g){if(s===null){var v=u.type;return typeof v=="function"&&!lp(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=v,I_(s,a,v,p,g)):(s=Vu(u.type,null,p,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(v=s.child,(s.lanes&g)===0){var T=v.memoizedProps;if(u=u.compare,u=u!==null?u:ul,u(T,p)&&s.ref===a.ref)return Ji(s,a,g)}return a.flags|=1,s=Wr(v,p),s.ref=a.ref,s.return=a,a.child=s}function I_(s,a,u,p,g){if(s!==null){var v=s.memoizedProps;if(ul(v,p)&&s.ref===a.ref)if(on=!1,a.pendingProps=p=v,(s.lanes&g)!==0)(s.flags&131072)!==0&&(on=!0);else return a.lanes=s.lanes,Ji(s,a,g)}return Bf(s,a,u,p,g)}function P_(s,a,u){var p=a.pendingProps,g=p.children,v=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(ia,bn),bn|=u;else{if((u&1073741824)===0)return s=v!==null?v.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Qe(ia,bn),bn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=v!==null?v.baseLanes:u,Qe(ia,bn),bn|=p}else v!==null?(p=v.baseLanes|u,a.memoizedState=null):p=u,Qe(ia,bn),bn|=p;return Yt(s,a,g,u),a.child}function R_(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function Bf(s,a,u,p,g){var v=sn(u)?Is:jt.current;return v=Ko(a,v),Zo(a,g),u=Af(s,a,u,p,v,g),p=Nf(),s!==null&&!on?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Ji(s,a,g)):(rt&&p&&pf(a),a.flags|=1,Yt(s,a,u,g),a.child)}function A_(s,a,u,p,g){if(sn(u)){var v=!0;gu(a)}else v=!1;if(Zo(a,g),a.stateNode===null)Du(s,a),v_(a,u,p),jf(a,u,p,g),p=!0;else if(s===null){var T=a.stateNode,L=a.memoizedProps;T.props=L;var z=T.context,Y=u.contextType;typeof Y=="object"&&Y!==null?Y=On(Y):(Y=sn(u)?Is:jt.current,Y=Ko(a,Y));var te=u.getDerivedStateFromProps,ne=typeof te=="function"||typeof T.getSnapshotBeforeUpdate=="function";ne||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(L!==p||z!==Y)&&w_(a,T,p,Y),Fr=!1;var ee=a.memoizedState;T.state=ee,Tu(a,p,T,g),z=a.memoizedState,L!==p||ee!==z||rn.current||Fr?(typeof te=="function"&&(Ff(a,u,te,p),z=a.memoizedState),(L=Fr||__(a,u,L,p,ee,z,Y))?(ne||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(a.flags|=4194308)):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=z),T.props=p,T.state=z,T.context=Y,p=L):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{T=a.stateNode,Ky(s,a),L=a.memoizedProps,Y=a.type===a.elementType?L:Zn(a.type,L),T.props=Y,ne=a.pendingProps,ee=T.context,z=u.contextType,typeof z=="object"&&z!==null?z=On(z):(z=sn(u)?Is:jt.current,z=Ko(a,z));var le=u.getDerivedStateFromProps;(te=typeof le=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(L!==ne||ee!==z)&&w_(a,T,p,z),Fr=!1,ee=a.memoizedState,T.state=ee,Tu(a,p,T,g);var ue=a.memoizedState;L!==ne||ee!==ue||rn.current||Fr?(typeof le=="function"&&(Ff(a,u,le,p),ue=a.memoizedState),(Y=Fr||__(a,u,Y,p,ee,ue,z)||!1)?(te||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(p,ue,z),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(p,ue,z)),typeof T.componentDidUpdate=="function"&&(a.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof T.componentDidUpdate!="function"||L===s.memoizedProps&&ee===s.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&ee===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=ue),T.props=p,T.state=ue,T.context=z,p=Y):(typeof T.componentDidUpdate!="function"||L===s.memoizedProps&&ee===s.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&ee===s.memoizedState||(a.flags|=1024),p=!1)}return Hf(s,a,u,p,v,g)}function Hf(s,a,u,p,g,v){R_(s,a);var T=(a.flags&128)!==0;if(!p&&!T)return g&&Ly(a,u,!1),Ji(s,a,v);p=a.stateNode,a1.current=a;var L=T&&typeof u.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&T?(a.child=Qo(a,s.child,null,v),a.child=Qo(a,null,L,v)):Yt(s,a,L,v),a.memoizedState=p.state,g&&Ly(a,u,!0),a.child}function N_(s){var a=s.stateNode;a.pendingContext?Dy(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Dy(s,a.context,!1),Tf(s,a.containerInfo)}function O_(s,a,u,p,g){return Xo(),_f(g),a.flags|=256,Yt(s,a,u,p),a.child}var $f={dehydrated:null,treeContext:null,retryLane:0};function Wf(s){return{baseLanes:s,cachePool:null,transitions:null}}function D_(s,a,u){var p=a.pendingProps,g=ot.current,v=!1,T=(a.flags&128)!==0,L;if((L=T)||(L=s!==null&&s.memoizedState===null?!1:(g&2)!==0),L?(v=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),Qe(ot,g&1),s===null)return yf(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(T=p.children,s=p.fallback,v?(p=a.mode,v=a.child,T={mode:"hidden",children:T},(p&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=T):v=Gu(T,p,0,null),s=js(s,p,u,null),v.return=a,s.return=a,v.sibling=s,a.child=v,a.child.memoizedState=Wf(u),a.memoizedState=$f,s):Vf(a,T));if(g=s.memoizedState,g!==null&&(L=g.dehydrated,L!==null))return l1(s,a,T,p,L,g,u);if(v){v=p.fallback,T=a.mode,g=s.child,L=g.sibling;var z={mode:"hidden",children:p.children};return(T&1)===0&&a.child!==g?(p=a.child,p.childLanes=0,p.pendingProps=z,a.deletions=null):(p=Wr(g,z),p.subtreeFlags=g.subtreeFlags&14680064),L!==null?v=Wr(L,v):(v=js(v,T,u,null),v.flags|=2),v.return=a,p.return=a,p.sibling=v,a.child=p,p=v,v=a.child,T=s.child.memoizedState,T=T===null?Wf(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},v.memoizedState=T,v.childLanes=s.childLanes&~u,a.memoizedState=$f,p}return v=s.child,s=v.sibling,p=Wr(v,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=u),p.return=a,p.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=p,a.memoizedState=null,p}function Vf(s,a){return a=Gu({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Ou(s,a,u,p){return p!==null&&_f(p),Qo(a,s.child,null,u),s=Vf(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function l1(s,a,u,p,g,v,T){if(u)return a.flags&256?(a.flags&=-257,p=Uf(Error(t(422))),Ou(s,a,T,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(v=p.fallback,g=a.mode,p=Gu({mode:"visible",children:p.children},g,0,null),v=js(v,g,T,null),v.flags|=2,p.return=a,v.return=a,p.sibling=v,a.child=p,(a.mode&1)!==0&&Qo(a,s.child,null,T),a.child.memoizedState=Wf(T),a.memoizedState=$f,v);if((a.mode&1)===0)return Ou(s,a,T,null);if(g.data==="$!"){if(p=g.nextSibling&&g.nextSibling.dataset,p)var L=p.dgst;return p=L,v=Error(t(419)),p=Uf(v,p,void 0),Ou(s,a,T,p)}if(L=(T&s.childLanes)!==0,on||L){if(p=Ct,p!==null){switch(T&-T){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(p.suspendedLanes|T))!==0?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,Xi(s,g),ni(p,s,g,-1))}return ap(),p=Uf(Error(t(421))),Ou(s,a,T,p)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=x1.bind(null,s),g._reactRetry=a,null):(s=v.treeContext,En=Or(g.nextSibling),Sn=a,rt=!0,Jn=null,s!==null&&(An[Nn++]=qi,An[Nn++]=Yi,An[Nn++]=Ps,qi=s.id,Yi=s.overflow,Ps=a),a=Vf(a,p.children),a.flags|=4096,a)}function M_(s,a,u){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),Sf(s.return,a,u)}function Gf(s,a,u,p,g){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:g}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=p,v.tail=u,v.tailMode=g)}function L_(s,a,u){var p=a.pendingProps,g=p.revealOrder,v=p.tail;if(Yt(s,a,p.children,u),p=ot.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&M_(s,u,a);else if(s.tag===19)M_(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(Qe(ot,p),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(u=a.child,g=null;u!==null;)s=u.alternate,s!==null&&Cu(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=a.child,a.child=null):(g=u.sibling,u.sibling=null),Gf(a,!1,g,u,v);break;case"backwards":for(u=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Cu(s)===null){a.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}Gf(a,!0,u,null,v);break;case"together":Gf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Du(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Ji(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),Ds|=a.lanes,(u&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,u=Wr(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Wr(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function c1(s,a,u){switch(a.tag){case 3:N_(a),Xo();break;case 5:Xy(a);break;case 1:sn(a.type)&&gu(a);break;case 4:Tf(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,g=a.memoizedProps.value;Qe(Su,p._currentValue),p._currentValue=g;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(Qe(ot,ot.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?D_(s,a,u):(Qe(ot,ot.current&1),s=Ji(s,a,u),s!==null?s.sibling:null);Qe(ot,ot.current&1);break;case 19:if(p=(u&a.childLanes)!==0,(s.flags&128)!==0){if(p)return L_(s,a,u);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Qe(ot,ot.current),p)break;return null;case 22:case 23:return a.lanes=0,P_(s,a,u)}return Ji(s,a,u)}var F_,Kf,j_,U_;F_=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Kf=function(){},j_=function(s,a,u,p){var g=s.memoizedProps;if(g!==p){s=a.stateNode,Ns(vi.current);var v=null;switch(u){case"input":g=fs(s,g),p=fs(s,p),v=[];break;case"select":g=oe({},g,{value:void 0}),p=oe({},p,{value:void 0}),v=[];break;case"textarea":g=Fa(s,g),p=Fa(s,p),v=[];break;default:typeof g.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=fu)}$a(u,p);var T;u=null;for(Y in g)if(!p.hasOwnProperty(Y)&&g.hasOwnProperty(Y)&&g[Y]!=null)if(Y==="style"){var L=g[Y];for(T in L)L.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(r.hasOwnProperty(Y)?v||(v=[]):(v=v||[]).push(Y,null));for(Y in p){var z=p[Y];if(L=g!=null?g[Y]:void 0,p.hasOwnProperty(Y)&&z!==L&&(z!=null||L!=null))if(Y==="style")if(L){for(T in L)!L.hasOwnProperty(T)||z&&z.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in z)z.hasOwnProperty(T)&&L[T]!==z[T]&&(u||(u={}),u[T]=z[T])}else u||(v||(v=[]),v.push(Y,u)),u=z;else Y==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,L=L?L.__html:void 0,z!=null&&L!==z&&(v=v||[]).push(Y,z)):Y==="children"?typeof z!="string"&&typeof z!="number"||(v=v||[]).push(Y,""+z):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(r.hasOwnProperty(Y)?(z!=null&&Y==="onScroll"&&Je("scroll",s),v||L===z||(v=[])):(v=v||[]).push(Y,z))}u&&(v=v||[]).push("style",u);var Y=v;(a.updateQueue=Y)&&(a.flags|=4)}},U_=function(s,a,u,p){u!==p&&(a.flags|=4)};function Tl(s,a){if(!rt)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function zt(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,p=0;if(a)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,p|=g.subtreeFlags&14680064,p|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=p,s.childLanes=u,a}function u1(s,a,u){var p=a.pendingProps;switch(mf(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(a),null;case 1:return sn(a.type)&&mu(),zt(a),null;case 3:return p=a.stateNode,ea(),Ze(rn),Ze(jt),If(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(wu(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Jn!==null&&(rp(Jn),Jn=null))),Kf(s,a),zt(a),null;case 5:Cf(a);var g=Ns(wl.current);if(u=a.type,s!==null&&a.stateNode!=null)j_(s,a,u,p,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return zt(a),null}if(s=Ns(vi.current),wu(a)){p=a.stateNode,u=a.type;var v=a.memoizedProps;switch(p[_i]=a,p[ml]=v,s=(a.mode&1)!==0,u){case"dialog":Je("cancel",p),Je("close",p);break;case"iframe":case"object":case"embed":Je("load",p);break;case"video":case"audio":for(g=0;g<dl.length;g++)Je(dl[g],p);break;case"source":Je("error",p);break;case"img":case"image":case"link":Je("error",p),Je("load",p);break;case"details":Je("toggle",p);break;case"input":go(p,v),Je("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!v.multiple},Je("invalid",p);break;case"textarea":_o(p,v),Je("invalid",p)}$a(u,v),g=null;for(var T in v)if(v.hasOwnProperty(T)){var L=v[T];T==="children"?typeof L=="string"?p.textContent!==L&&(v.suppressHydrationWarning!==!0&&du(p.textContent,L,s),g=["children",L]):typeof L=="number"&&p.textContent!==""+L&&(v.suppressHydrationWarning!==!0&&du(p.textContent,L,s),g=["children",""+L]):r.hasOwnProperty(T)&&L!=null&&T==="onScroll"&&Je("scroll",p)}switch(u){case"input":Mi(p),Uc(p,v,!0);break;case"textarea":Mi(p),ja(p);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(p.onclick=fu)}p=g,a.updateQueue=p,p!==null&&(a.flags|=4)}else{T=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=gt(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=T.createElement(u,{is:p.is}):(s=T.createElement(u),u==="select"&&(T=s,p.multiple?T.multiple=!0:p.size&&(T.size=p.size))):s=T.createElementNS(s,u),s[_i]=a,s[ml]=p,F_(s,a,!1,!1),a.stateNode=s;e:{switch(T=Wa(u,p),u){case"dialog":Je("cancel",s),Je("close",s),g=p;break;case"iframe":case"object":case"embed":Je("load",s),g=p;break;case"video":case"audio":for(g=0;g<dl.length;g++)Je(dl[g],s);g=p;break;case"source":Je("error",s),g=p;break;case"img":case"image":case"link":Je("error",s),Je("load",s),g=p;break;case"details":Je("toggle",s),g=p;break;case"input":go(s,p),g=fs(s,p),Je("invalid",s);break;case"option":g=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},g=oe({},p,{value:void 0}),Je("invalid",s);break;case"textarea":_o(s,p),g=Fa(s,p),Je("invalid",s);break;default:g=p}$a(u,g),L=g;for(v in L)if(L.hasOwnProperty(v)){var z=L[v];v==="style"?Ba(s,z):v==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Ua(s,z)):v==="children"?typeof z=="string"?(u!=="textarea"||z!=="")&&xr(s,z):typeof z=="number"&&xr(s,""+z):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(r.hasOwnProperty(v)?z!=null&&v==="onScroll"&&Je("scroll",s):z!=null&&D(s,v,z,T))}switch(u){case"input":Mi(s),Uc(s,p,!1);break;case"textarea":Mi(s),ja(s);break;case"option":p.value!=null&&s.setAttribute("value",""+He(p.value));break;case"select":s.multiple=!!p.multiple,v=p.value,v!=null?Fi(s,!!p.multiple,v,!1):p.defaultValue!=null&&Fi(s,!!p.multiple,p.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=fu)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return zt(a),null;case 6:if(s&&a.stateNode!=null)U_(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(u=Ns(wl.current),Ns(vi.current),wu(a)){if(p=a.stateNode,u=a.memoizedProps,p[_i]=a,(v=p.nodeValue!==u)&&(s=Sn,s!==null))switch(s.tag){case 3:du(p.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&du(p.nodeValue,u,(s.mode&1)!==0)}v&&(a.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[_i]=a,a.stateNode=p}return zt(a),null;case 13:if(Ze(ot),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(rt&&En!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Hy(),Xo(),a.flags|=98560,v=!1;else if(v=wu(a),p!==null&&p.dehydrated!==null){if(s===null){if(!v)throw Error(t(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[_i]=a}else Xo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;zt(a),v=!1}else Jn!==null&&(rp(Jn),Jn=null),v=!0;if(!v)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(ot.current&1)!==0?wt===0&&(wt=3):ap())),a.updateQueue!==null&&(a.flags|=4),zt(a),null);case 4:return ea(),Kf(s,a),s===null&&fl(a.stateNode.containerInfo),zt(a),null;case 10:return xf(a.type._context),zt(a),null;case 17:return sn(a.type)&&mu(),zt(a),null;case 19:if(Ze(ot),v=a.memoizedState,v===null)return zt(a),null;if(p=(a.flags&128)!==0,T=v.rendering,T===null)if(p)Tl(v,!1);else{if(wt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(T=Cu(s),T!==null){for(a.flags|=128,Tl(v,!1),p=T.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=u,u=a.child;u!==null;)v=u,s=p,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=s,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,s=T.dependencies,v.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return Qe(ot,ot.current&1|2),a.child}s=s.sibling}v.tail!==null&&Xe()>ra&&(a.flags|=128,p=!0,Tl(v,!1),a.lanes=4194304)}else{if(!p)if(s=Cu(T),s!==null){if(a.flags|=128,p=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),Tl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!rt)return zt(a),null}else 2*Xe()-v.renderingStartTime>ra&&u!==1073741824&&(a.flags|=128,p=!0,Tl(v,!1),a.lanes=4194304);v.isBackwards?(T.sibling=a.child,a.child=T):(u=v.last,u!==null?u.sibling=T:a.child=T,v.last=T)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=Xe(),a.sibling=null,u=ot.current,Qe(ot,p?u&1|2:u&1),a):(zt(a),null);case 22:case 23:return op(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(bn&1073741824)!==0&&(zt(a),a.subtreeFlags&6&&(a.flags|=8192)):zt(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function h1(s,a){switch(mf(a),a.tag){case 1:return sn(a.type)&&mu(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ea(),Ze(rn),Ze(jt),If(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Cf(a),null;case 13:if(Ze(ot),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Xo()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Ze(ot),null;case 4:return ea(),null;case 10:return xf(a.type._context),null;case 22:case 23:return op(),null;case 24:return null;default:return null}}var Mu=!1,Bt=!1,d1=typeof WeakSet=="function"?WeakSet:Set,ce=null;function na(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){ut(s,a,p)}else u.current=null}function qf(s,a,u){try{u()}catch(p){ut(s,a,p)}}var z_=!1;function f1(s,a){if(of=Pr,s=_y(),Qd(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var g=p.anchorOffset,v=p.focusNode;p=p.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var T=0,L=-1,z=-1,Y=0,te=0,ne=s,ee=null;t:for(;;){for(var le;ne!==u||g!==0&&ne.nodeType!==3||(L=T+g),ne!==v||p!==0&&ne.nodeType!==3||(z=T+p),ne.nodeType===3&&(T+=ne.nodeValue.length),(le=ne.firstChild)!==null;)ee=ne,ne=le;for(;;){if(ne===s)break t;if(ee===u&&++Y===g&&(L=T),ee===v&&++te===p&&(z=T),(le=ne.nextSibling)!==null)break;ne=ee,ee=ne.parentNode}ne=le}u=L===-1||z===-1?null:{start:L,end:z}}else u=null}u=u||{start:0,end:0}}else u=null;for(af={focusedElem:s,selectionRange:u},Pr=!1,ce=a;ce!==null;)if(a=ce,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,ce=s;else for(;ce!==null;){a=ce;try{var ue=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var de=ue.memoizedProps,dt=ue.memoizedState,G=a.stateNode,$=G.getSnapshotBeforeUpdate(a.elementType===a.type?de:Zn(a.type,de),dt);G.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var K=a.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){ut(a,a.return,ie)}if(s=a.sibling,s!==null){s.return=a.return,ce=s;break}ce=a.return}return ue=z_,z_=!1,ue}function Cl(s,a,u){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var g=p=p.next;do{if((g.tag&s)===s){var v=g.destroy;g.destroy=void 0,v!==void 0&&qf(a,u,v)}g=g.next}while(g!==p)}}function Lu(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var p=u.create;u.destroy=p()}u=u.next}while(u!==a)}}function Yf(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function B_(s){var a=s.alternate;a!==null&&(s.alternate=null,B_(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[_i],delete a[ml],delete a[hf],delete a[YT],delete a[XT])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function H_(s){return s.tag===5||s.tag===3||s.tag===4}function $_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||H_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Xf(s,a,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=fu));else if(p!==4&&(s=s.child,s!==null))for(Xf(s,a,u),s=s.sibling;s!==null;)Xf(s,a,u),s=s.sibling}function Qf(s,a,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(Qf(s,a,u),s=s.sibling;s!==null;)Qf(s,a,u),s=s.sibling}var Dt=null,ei=!1;function Ur(s,a,u){for(u=u.child;u!==null;)W_(s,a,u),u=u.sibling}function W_(s,a,u){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(xs,u)}catch{}switch(u.tag){case 5:Bt||na(u,a);case 6:var p=Dt,g=ei;Dt=null,Ur(s,a,u),Dt=p,ei=g,Dt!==null&&(ei?(s=Dt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Dt.removeChild(u.stateNode));break;case 18:Dt!==null&&(ei?(s=Dt,u=u.stateNode,s.nodeType===8?uf(s.parentNode,u):s.nodeType===1&&uf(s,u),Yn(s)):uf(Dt,u.stateNode));break;case 4:p=Dt,g=ei,Dt=u.stateNode.containerInfo,ei=!0,Ur(s,a,u),Dt=p,ei=g;break;case 0:case 11:case 14:case 15:if(!Bt&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){g=p=p.next;do{var v=g,T=v.destroy;v=v.tag,T!==void 0&&((v&2)!==0||(v&4)!==0)&&qf(u,a,T),g=g.next}while(g!==p)}Ur(s,a,u);break;case 1:if(!Bt&&(na(u,a),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(L){ut(u,a,L)}Ur(s,a,u);break;case 21:Ur(s,a,u);break;case 22:u.mode&1?(Bt=(p=Bt)||u.memoizedState!==null,Ur(s,a,u),Bt=p):Ur(s,a,u);break;default:Ur(s,a,u)}}function V_(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new d1),a.forEach(function(p){var g=S1.bind(null,s,p);u.has(p)||(u.add(p),p.then(g,g))})}}function ti(s,a){var u=a.deletions;if(u!==null)for(var p=0;p<u.length;p++){var g=u[p];try{var v=s,T=a,L=T;e:for(;L!==null;){switch(L.tag){case 5:Dt=L.stateNode,ei=!1;break e;case 3:Dt=L.stateNode.containerInfo,ei=!0;break e;case 4:Dt=L.stateNode.containerInfo,ei=!0;break e}L=L.return}if(Dt===null)throw Error(t(160));W_(v,T,g),Dt=null,ei=!1;var z=g.alternate;z!==null&&(z.return=null),g.return=null}catch(Y){ut(g,a,Y)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)G_(a,s),a=a.sibling}function G_(s,a){var u=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ti(a,s),xi(s),p&4){try{Cl(3,s,s.return),Lu(3,s)}catch(de){ut(s,s.return,de)}try{Cl(5,s,s.return)}catch(de){ut(s,s.return,de)}}break;case 1:ti(a,s),xi(s),p&512&&u!==null&&na(u,u.return);break;case 5:if(ti(a,s),xi(s),p&512&&u!==null&&na(u,u.return),s.flags&32){var g=s.stateNode;try{xr(g,"")}catch(de){ut(s,s.return,de)}}if(p&4&&(g=s.stateNode,g!=null)){var v=s.memoizedProps,T=u!==null?u.memoizedProps:v,L=s.type,z=s.updateQueue;if(s.updateQueue=null,z!==null)try{L==="input"&&v.type==="radio"&&v.name!=null&&Ma(g,v),Wa(L,T);var Y=Wa(L,v);for(T=0;T<z.length;T+=2){var te=z[T],ne=z[T+1];te==="style"?Ba(g,ne):te==="dangerouslySetInnerHTML"?Ua(g,ne):te==="children"?xr(g,ne):D(g,te,ne,Y)}switch(L){case"input":La(g,v);break;case"textarea":vo(g,v);break;case"select":var ee=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var le=v.value;le!=null?Fi(g,!!v.multiple,le,!1):ee!==!!v.multiple&&(v.defaultValue!=null?Fi(g,!!v.multiple,v.defaultValue,!0):Fi(g,!!v.multiple,v.multiple?[]:"",!1))}g[ml]=v}catch(de){ut(s,s.return,de)}}break;case 6:if(ti(a,s),xi(s),p&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,v=s.memoizedProps;try{g.nodeValue=v}catch(de){ut(s,s.return,de)}}break;case 3:if(ti(a,s),xi(s),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Yn(a.containerInfo)}catch(de){ut(s,s.return,de)}break;case 4:ti(a,s),xi(s);break;case 13:ti(a,s),xi(s),g=s.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(ep=Xe())),p&4&&V_(s);break;case 22:if(te=u!==null&&u.memoizedState!==null,s.mode&1?(Bt=(Y=Bt)||te,ti(a,s),Bt=Y):ti(a,s),xi(s),p&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!te&&(s.mode&1)!==0)for(ce=s,te=s.child;te!==null;){for(ne=ce=te;ce!==null;){switch(ee=ce,le=ee.child,ee.tag){case 0:case 11:case 14:case 15:Cl(4,ee,ee.return);break;case 1:na(ee,ee.return);var ue=ee.stateNode;if(typeof ue.componentWillUnmount=="function"){p=ee,u=ee.return;try{a=p,ue.props=a.memoizedProps,ue.state=a.memoizedState,ue.componentWillUnmount()}catch(de){ut(p,u,de)}}break;case 5:na(ee,ee.return);break;case 22:if(ee.memoizedState!==null){Y_(ne);continue}}le!==null?(le.return=ee,ce=le):Y_(ne)}te=te.sibling}e:for(te=null,ne=s;;){if(ne.tag===5){if(te===null){te=ne;try{g=ne.stateNode,Y?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(L=ne.stateNode,z=ne.memoizedProps.style,T=z!=null&&z.hasOwnProperty("display")?z.display:null,L.style.display=za("display",T))}catch(de){ut(s,s.return,de)}}}else if(ne.tag===6){if(te===null)try{ne.stateNode.nodeValue=Y?"":ne.memoizedProps}catch(de){ut(s,s.return,de)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===s)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===s)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===s)break e;te===ne&&(te=null),ne=ne.return}te===ne&&(te=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:ti(a,s),xi(s),p&4&&V_(s);break;case 21:break;default:ti(a,s),xi(s)}}function xi(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(H_(u)){var p=u;break e}u=u.return}throw Error(t(160))}switch(p.tag){case 5:var g=p.stateNode;p.flags&32&&(xr(g,""),p.flags&=-33);var v=$_(s);Qf(s,v,g);break;case 3:case 4:var T=p.stateNode.containerInfo,L=$_(s);Xf(s,L,T);break;default:throw Error(t(161))}}catch(z){ut(s,s.return,z)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function p1(s,a,u){ce=s,K_(s)}function K_(s,a,u){for(var p=(s.mode&1)!==0;ce!==null;){var g=ce,v=g.child;if(g.tag===22&&p){var T=g.memoizedState!==null||Mu;if(!T){var L=g.alternate,z=L!==null&&L.memoizedState!==null||Bt;L=Mu;var Y=Bt;if(Mu=T,(Bt=z)&&!Y)for(ce=g;ce!==null;)T=ce,z=T.child,T.tag===22&&T.memoizedState!==null?X_(g):z!==null?(z.return=T,ce=z):X_(g);for(;v!==null;)ce=v,K_(v),v=v.sibling;ce=g,Mu=L,Bt=Y}q_(s)}else(g.subtreeFlags&8772)!==0&&v!==null?(v.return=g,ce=v):q_(s)}}function q_(s){for(;ce!==null;){var a=ce;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Bt||Lu(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!Bt)if(u===null)p.componentDidMount();else{var g=a.elementType===a.type?u.memoizedProps:Zn(a.type,u.memoizedProps);p.componentDidUpdate(g,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var v=a.updateQueue;v!==null&&Yy(a,v,p);break;case 3:var T=a.updateQueue;if(T!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}Yy(a,T,u)}break;case 5:var L=a.stateNode;if(u===null&&a.flags&4){u=L;var z=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&u.focus();break;case"img":z.src&&(u.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Y=a.alternate;if(Y!==null){var te=Y.memoizedState;if(te!==null){var ne=te.dehydrated;ne!==null&&Yn(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Bt||a.flags&512&&Yf(a)}catch(ee){ut(a,a.return,ee)}}if(a===s){ce=null;break}if(u=a.sibling,u!==null){u.return=a.return,ce=u;break}ce=a.return}}function Y_(s){for(;ce!==null;){var a=ce;if(a===s){ce=null;break}var u=a.sibling;if(u!==null){u.return=a.return,ce=u;break}ce=a.return}}function X_(s){for(;ce!==null;){var a=ce;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{Lu(4,a)}catch(z){ut(a,u,z)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var g=a.return;try{p.componentDidMount()}catch(z){ut(a,g,z)}}var v=a.return;try{Yf(a)}catch(z){ut(a,v,z)}break;case 5:var T=a.return;try{Yf(a)}catch(z){ut(a,T,z)}}}catch(z){ut(a,a.return,z)}if(a===s){ce=null;break}var L=a.sibling;if(L!==null){L.return=a.return,ce=L;break}ce=a.return}}var m1=Math.ceil,Fu=H.ReactCurrentDispatcher,Jf=H.ReactCurrentOwner,Mn=H.ReactCurrentBatchConfig,je=0,Ct=null,mt=null,Mt=0,bn=0,ia=Dr(0),wt=0,kl=null,Ds=0,ju=0,Zf=0,Il=null,an=null,ep=0,ra=1/0,Zi=null,Uu=!1,tp=null,zr=null,zu=!1,Br=null,Bu=0,Pl=0,np=null,Hu=-1,$u=0;function Xt(){return(je&6)!==0?Xe():Hu!==-1?Hu:Hu=Xe()}function Hr(s){return(s.mode&1)===0?1:(je&2)!==0&&Mt!==0?Mt&-Mt:JT.transition!==null?($u===0&&($u=Es()),$u):(s=Re,s!==0||(s=window.event,s=s===void 0?16:il(s.type)),s)}function ni(s,a,u,p){if(50<Pl)throw Pl=0,np=null,Error(t(185));Tr(s,u,p),((je&2)===0||s!==Ct)&&(s===Ct&&((je&2)===0&&(ju|=u),wt===4&&$r(s,Mt)),ln(s,p),u===1&&je===0&&(a.mode&1)===0&&(ra=Xe()+500,yu&&Lr()))}function ln(s,a){var u=s.callbackNode;Bi(s,a);var p=Ss(s,s===Ct?Mt:0);if(p===0)u!==null&&Ja(u),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(u!=null&&Ja(u),a===1)s.tag===0?QT(J_.bind(null,s)):Fy(J_.bind(null,s)),KT(function(){(je&6)===0&&Lr()}),u=null;else{switch(kr(p)){case 1:u=ws;break;case 4:u=Sr;break;case 16:u=Pn;break;case 536870912:u=$c;break;default:u=Pn}u=ov(u,Q_.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function Q_(s,a){if(Hu=-1,$u=0,(je&6)!==0)throw Error(t(327));var u=s.callbackNode;if(sa()&&s.callbackNode!==u)return null;var p=Ss(s,s===Ct?Mt:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||a)a=Wu(s,p);else{a=p;var g=je;je|=2;var v=ev();(Ct!==s||Mt!==a)&&(Zi=null,ra=Xe()+500,Ls(s,a));do try{_1();break}catch(L){Z_(s,L)}while(!0);wf(),Fu.current=v,je=g,mt!==null?a=0:(Ct=null,Mt=0,a=wt)}if(a!==0){if(a===2&&(g=wn(s),g!==0&&(p=g,a=ip(s,g))),a===1)throw u=kl,Ls(s,0),$r(s,p),ln(s,Xe()),u;if(a===6)$r(s,p);else{if(g=s.current.alternate,(p&30)===0&&!g1(g)&&(a=Wu(s,p),a===2&&(v=wn(s),v!==0&&(p=v,a=ip(s,v))),a===1))throw u=kl,Ls(s,0),$r(s,p),ln(s,Xe()),u;switch(s.finishedWork=g,s.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:Fs(s,an,Zi);break;case 3:if($r(s,p),(p&130023424)===p&&(a=ep+500-Xe(),10<a)){if(Ss(s,0)!==0)break;if(g=s.suspendedLanes,(g&p)!==p){Xt(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=cf(Fs.bind(null,s,an,Zi),a);break}Fs(s,an,Zi);break;case 4:if($r(s,p),(p&4194240)===p)break;for(a=s.eventTimes,g=-1;0<p;){var T=31-qt(p);v=1<<T,T=a[T],T>g&&(g=T),p&=~v}if(p=g,p=Xe()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*m1(p/1960))-p,10<p){s.timeoutHandle=cf(Fs.bind(null,s,an,Zi),p);break}Fs(s,an,Zi);break;case 5:Fs(s,an,Zi);break;default:throw Error(t(329))}}}return ln(s,Xe()),s.callbackNode===u?Q_.bind(null,s):null}function ip(s,a){var u=Il;return s.current.memoizedState.isDehydrated&&(Ls(s,a).flags|=256),s=Wu(s,a),s!==2&&(a=an,an=u,a!==null&&rp(a)),s}function rp(s){an===null?an=s:an.push.apply(an,s)}function g1(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var g=u[p],v=g.getSnapshot;g=g.value;try{if(!Qn(v(),g))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function $r(s,a){for(a&=~Zf,a&=~ju,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-qt(a),p=1<<u;s[u]=-1,a&=~p}}function J_(s){if((je&6)!==0)throw Error(t(327));sa();var a=Ss(s,0);if((a&1)===0)return ln(s,Xe()),null;var u=Wu(s,a);if(s.tag!==0&&u===2){var p=wn(s);p!==0&&(a=p,u=ip(s,p))}if(u===1)throw u=kl,Ls(s,0),$r(s,a),ln(s,Xe()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Fs(s,an,Zi),ln(s,Xe()),null}function sp(s,a){var u=je;je|=1;try{return s(a)}finally{je=u,je===0&&(ra=Xe()+500,yu&&Lr())}}function Ms(s){Br!==null&&Br.tag===0&&(je&6)===0&&sa();var a=je;je|=1;var u=Mn.transition,p=Re;try{if(Mn.transition=null,Re=1,s)return s()}finally{Re=p,Mn.transition=u,je=a,(je&6)===0&&Lr()}}function op(){bn=ia.current,Ze(ia)}function Ls(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,GT(u)),mt!==null)for(u=mt.return;u!==null;){var p=u;switch(mf(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&mu();break;case 3:ea(),Ze(rn),Ze(jt),If();break;case 5:Cf(p);break;case 4:ea();break;case 13:Ze(ot);break;case 19:Ze(ot);break;case 10:xf(p.type._context);break;case 22:case 23:op()}u=u.return}if(Ct=s,mt=s=Wr(s.current,null),Mt=bn=a,wt=0,kl=null,Zf=ju=Ds=0,an=Il=null,As!==null){for(a=0;a<As.length;a++)if(u=As[a],p=u.interleaved,p!==null){u.interleaved=null;var g=p.next,v=u.pending;if(v!==null){var T=v.next;v.next=g,p.next=T}u.pending=p}As=null}return s}function Z_(s,a){do{var u=mt;try{if(wf(),ku.current=Au,Iu){for(var p=at.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}Iu=!1}if(Os=0,Tt=vt=at=null,xl=!1,Sl=0,Jf.current=null,u===null||u.return===null){wt=1,kl=a,mt=null;break}e:{var v=s,T=u.return,L=u,z=a;if(a=Mt,L.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var Y=z,te=L,ne=te.tag;if((te.mode&1)===0&&(ne===0||ne===11||ne===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var le=b_(T);if(le!==null){le.flags&=-257,T_(le,T,L,v,a),le.mode&1&&E_(v,Y,a),a=le,z=Y;var ue=a.updateQueue;if(ue===null){var de=new Set;de.add(z),a.updateQueue=de}else ue.add(z);break e}else{if((a&1)===0){E_(v,Y,a),ap();break e}z=Error(t(426))}}else if(rt&&L.mode&1){var dt=b_(T);if(dt!==null){(dt.flags&65536)===0&&(dt.flags|=256),T_(dt,T,L,v,a),_f(ta(z,L));break e}}v=z=ta(z,L),wt!==4&&(wt=2),Il===null?Il=[v]:Il.push(v),v=T;do{switch(v.tag){case 3:v.flags|=65536,a&=-a,v.lanes|=a;var G=x_(v,z,a);qy(v,G);break e;case 1:L=z;var $=v.type,K=v.stateNode;if((v.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(zr===null||!zr.has(K)))){v.flags|=65536,a&=-a,v.lanes|=a;var ie=S_(v,L,a);qy(v,ie);break e}}v=v.return}while(v!==null)}nv(u)}catch(fe){a=fe,mt===u&&u!==null&&(mt=u=u.return);continue}break}while(!0)}function ev(){var s=Fu.current;return Fu.current=Au,s===null?Au:s}function ap(){(wt===0||wt===3||wt===2)&&(wt=4),Ct===null||(Ds&268435455)===0&&(ju&268435455)===0||$r(Ct,Mt)}function Wu(s,a){var u=je;je|=2;var p=ev();(Ct!==s||Mt!==a)&&(Zi=null,Ls(s,a));do try{y1();break}catch(g){Z_(s,g)}while(!0);if(wf(),je=u,Fu.current=p,mt!==null)throw Error(t(261));return Ct=null,Mt=0,wt}function y1(){for(;mt!==null;)tv(mt)}function _1(){for(;mt!==null&&!Bc();)tv(mt)}function tv(s){var a=sv(s.alternate,s,bn);s.memoizedProps=s.pendingProps,a===null?nv(s):mt=a,Jf.current=null}function nv(s){var a=s;do{var u=a.alternate;if(s=a.return,(a.flags&32768)===0){if(u=u1(u,a,bn),u!==null){mt=u;return}}else{if(u=h1(u,a),u!==null){u.flags&=32767,mt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{wt=6,mt=null;return}}if(a=a.sibling,a!==null){mt=a;return}mt=a=s}while(a!==null);wt===0&&(wt=5)}function Fs(s,a,u){var p=Re,g=Mn.transition;try{Mn.transition=null,Re=1,v1(s,a,u,p)}finally{Mn.transition=g,Re=p}return null}function v1(s,a,u,p){do sa();while(Br!==null);if((je&6)!==0)throw Error(t(327));u=s.finishedWork;var g=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var v=u.lanes|u.childLanes;if(qe(s,v),s===Ct&&(mt=Ct=null,Mt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||zu||(zu=!0,ov(Pn,function(){return sa(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=Mn.transition,Mn.transition=null;var T=Re;Re=1;var L=je;je|=4,Jf.current=null,f1(s,u),G_(u,s),UT(af),Pr=!!of,af=of=null,s.current=u,p1(u),$d(),je=L,Re=T,Mn.transition=v}else s.current=u;if(zu&&(zu=!1,Br=s,Bu=g),v=s.pendingLanes,v===0&&(zr=null),Wc(u.stateNode),ln(s,Xe()),a!==null)for(p=s.onRecoverableError,u=0;u<a.length;u++)g=a[u],p(g.value,{componentStack:g.stack,digest:g.digest});if(Uu)throw Uu=!1,s=tp,tp=null,s;return(Bu&1)!==0&&s.tag!==0&&sa(),v=s.pendingLanes,(v&1)!==0?s===np?Pl++:(Pl=0,np=s):Pl=0,Lr(),null}function sa(){if(Br!==null){var s=kr(Bu),a=Mn.transition,u=Re;try{if(Mn.transition=null,Re=16>s?16:s,Br===null)var p=!1;else{if(s=Br,Br=null,Bu=0,(je&6)!==0)throw Error(t(331));var g=je;for(je|=4,ce=s.current;ce!==null;){var v=ce,T=v.child;if((ce.flags&16)!==0){var L=v.deletions;if(L!==null){for(var z=0;z<L.length;z++){var Y=L[z];for(ce=Y;ce!==null;){var te=ce;switch(te.tag){case 0:case 11:case 15:Cl(8,te,v)}var ne=te.child;if(ne!==null)ne.return=te,ce=ne;else for(;ce!==null;){te=ce;var ee=te.sibling,le=te.return;if(B_(te),te===Y){ce=null;break}if(ee!==null){ee.return=le,ce=ee;break}ce=le}}}var ue=v.alternate;if(ue!==null){var de=ue.child;if(de!==null){ue.child=null;do{var dt=de.sibling;de.sibling=null,de=dt}while(de!==null)}}ce=v}}if((v.subtreeFlags&2064)!==0&&T!==null)T.return=v,ce=T;else e:for(;ce!==null;){if(v=ce,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Cl(9,v,v.return)}var G=v.sibling;if(G!==null){G.return=v.return,ce=G;break e}ce=v.return}}var $=s.current;for(ce=$;ce!==null;){T=ce;var K=T.child;if((T.subtreeFlags&2064)!==0&&K!==null)K.return=T,ce=K;else e:for(T=$;ce!==null;){if(L=ce,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:Lu(9,L)}}catch(fe){ut(L,L.return,fe)}if(L===T){ce=null;break e}var ie=L.sibling;if(ie!==null){ie.return=L.return,ce=ie;break e}ce=L.return}}if(je=g,Lr(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(xs,s)}catch{}p=!0}return p}finally{Re=u,Mn.transition=a}}return!1}function iv(s,a,u){a=ta(u,a),a=x_(s,a,1),s=jr(s,a,1),a=Xt(),s!==null&&(Tr(s,1,a),ln(s,a))}function ut(s,a,u){if(s.tag===3)iv(s,s,u);else for(;a!==null;){if(a.tag===3){iv(a,s,u);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(zr===null||!zr.has(p))){s=ta(u,s),s=S_(a,s,1),a=jr(a,s,1),s=Xt(),a!==null&&(Tr(a,1,s),ln(a,s));break}}a=a.return}}function w1(s,a,u){var p=s.pingCache;p!==null&&p.delete(a),a=Xt(),s.pingedLanes|=s.suspendedLanes&u,Ct===s&&(Mt&u)===u&&(wt===4||wt===3&&(Mt&130023424)===Mt&&500>Xe()-ep?Ls(s,0):Zf|=u),ln(s,a)}function rv(s,a){a===0&&((s.mode&1)===0?a=1:(a=Io,Io<<=1,(Io&130023424)===0&&(Io=4194304)));var u=Xt();s=Xi(s,a),s!==null&&(Tr(s,a,u),ln(s,u))}function x1(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),rv(s,u)}function S1(s,a){var u=0;switch(s.tag){case 13:var p=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),rv(s,u)}var sv;sv=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||rn.current)on=!0;else{if((s.lanes&u)===0&&(a.flags&128)===0)return on=!1,c1(s,a,u);on=(s.flags&131072)!==0}else on=!1,rt&&(a.flags&1048576)!==0&&jy(a,vu,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Du(s,a),s=a.pendingProps;var g=Ko(a,jt.current);Zo(a,u),g=Af(null,a,p,s,g,u);var v=Nf();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,sn(p)?(v=!0,gu(a)):v=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,bf(a),g.updater=Nu,a.stateNode=g,g._reactInternals=a,jf(a,p,s,u),a=Hf(null,a,p,!0,v,u)):(a.tag=0,rt&&v&&pf(a),Yt(null,a,g,u),a=a.child),a;case 16:p=a.elementType;e:{switch(Du(s,a),s=a.pendingProps,g=p._init,p=g(p._payload),a.type=p,g=a.tag=b1(p),s=Zn(p,s),g){case 0:a=Bf(null,a,p,s,u);break e;case 1:a=A_(null,a,p,s,u);break e;case 11:a=C_(null,a,p,s,u);break e;case 14:a=k_(null,a,p,Zn(p.type,s),u);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Zn(p,g),Bf(s,a,p,g,u);case 1:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Zn(p,g),A_(s,a,p,g,u);case 3:e:{if(N_(a),s===null)throw Error(t(387));p=a.pendingProps,v=a.memoizedState,g=v.element,Ky(s,a),Tu(a,p,null,u);var T=a.memoizedState;if(p=T.element,v.isDehydrated)if(v={element:p,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){g=ta(Error(t(423)),a),a=O_(s,a,p,u,g);break e}else if(p!==g){g=ta(Error(t(424)),a),a=O_(s,a,p,u,g);break e}else for(En=Or(a.stateNode.containerInfo.firstChild),Sn=a,rt=!0,Jn=null,u=Vy(a,null,p,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Xo(),p===g){a=Ji(s,a,u);break e}Yt(s,a,p,u)}a=a.child}return a;case 5:return Xy(a),s===null&&yf(a),p=a.type,g=a.pendingProps,v=s!==null?s.memoizedProps:null,T=g.children,lf(p,g)?T=null:v!==null&&lf(p,v)&&(a.flags|=32),R_(s,a),Yt(s,a,T,u),a.child;case 6:return s===null&&yf(a),null;case 13:return D_(s,a,u);case 4:return Tf(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=Qo(a,null,p,u):Yt(s,a,p,u),a.child;case 11:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Zn(p,g),C_(s,a,p,g,u);case 7:return Yt(s,a,a.pendingProps,u),a.child;case 8:return Yt(s,a,a.pendingProps.children,u),a.child;case 12:return Yt(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(p=a.type._context,g=a.pendingProps,v=a.memoizedProps,T=g.value,Qe(Su,p._currentValue),p._currentValue=T,v!==null)if(Qn(v.value,T)){if(v.children===g.children&&!rn.current){a=Ji(s,a,u);break e}}else for(v=a.child,v!==null&&(v.return=a);v!==null;){var L=v.dependencies;if(L!==null){T=v.child;for(var z=L.firstContext;z!==null;){if(z.context===p){if(v.tag===1){z=Qi(-1,u&-u),z.tag=2;var Y=v.updateQueue;if(Y!==null){Y=Y.shared;var te=Y.pending;te===null?z.next=z:(z.next=te.next,te.next=z),Y.pending=z}}v.lanes|=u,z=v.alternate,z!==null&&(z.lanes|=u),Sf(v.return,u,a),L.lanes|=u;break}z=z.next}}else if(v.tag===10)T=v.type===a.type?null:v.child;else if(v.tag===18){if(T=v.return,T===null)throw Error(t(341));T.lanes|=u,L=T.alternate,L!==null&&(L.lanes|=u),Sf(T,u,a),T=v.sibling}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===a){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}Yt(s,a,g.children,u),a=a.child}return a;case 9:return g=a.type,p=a.pendingProps.children,Zo(a,u),g=On(g),p=p(g),a.flags|=1,Yt(s,a,p,u),a.child;case 14:return p=a.type,g=Zn(p,a.pendingProps),g=Zn(p.type,g),k_(s,a,p,g,u);case 15:return I_(s,a,a.type,a.pendingProps,u);case 17:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Zn(p,g),Du(s,a),a.tag=1,sn(p)?(s=!0,gu(a)):s=!1,Zo(a,u),v_(a,p,g),jf(a,p,g,u),Hf(null,a,p,!0,s,u);case 19:return L_(s,a,u);case 22:return P_(s,a,u)}throw Error(t(156,a.tag))};function ov(s,a){return Co(s,a)}function E1(s,a,u,p){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(s,a,u,p){return new E1(s,a,u,p)}function lp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function b1(s){if(typeof s=="function")return lp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===B)return 11;if(s===Te)return 14}return 2}function Wr(s,a){var u=s.alternate;return u===null?(u=Ln(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Vu(s,a,u,p,g,v){var T=2;if(p=s,typeof s=="function")lp(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case N:return js(u.children,g,v,a);case I:T=8,g|=8;break;case A:return s=Ln(12,u,a,g|2),s.elementType=A,s.lanes=v,s;case M:return s=Ln(13,u,a,g),s.elementType=M,s.lanes=v,s;case Oe:return s=Ln(19,u,a,g),s.elementType=Oe,s.lanes=v,s;case xe:return Gu(u,g,v,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:T=10;break e;case j:T=9;break e;case B:T=11;break e;case Te:T=14;break e;case ke:T=16,p=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=Ln(T,u,a,g),a.elementType=s,a.type=p,a.lanes=v,a}function js(s,a,u,p){return s=Ln(7,s,p,a),s.lanes=u,s}function Gu(s,a,u,p){return s=Ln(22,s,p,a),s.elementType=xe,s.lanes=u,s.stateNode={isHidden:!1},s}function cp(s,a,u){return s=Ln(6,s,null,a),s.lanes=u,s}function up(s,a,u){return a=Ln(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function T1(s,a,u,p,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=br(0),this.expirationTimes=br(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=br(0),this.identifierPrefix=p,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function hp(s,a,u,p,g,v,T,L,z){return s=new T1(s,a,u,L,z),a===1?(a=1,v===!0&&(a|=8)):a=0,v=Ln(3,null,null,a),s.current=v,v.stateNode=s,v.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},bf(v),s}function C1(s,a,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:p==null?null:""+p,children:s,containerInfo:a,implementation:u}}function av(s){if(!s)return Mr;s=s._reactInternals;e:{if(Wn(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(sn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(sn(u))return My(s,u,a)}return a}function lv(s,a,u,p,g,v,T,L,z){return s=hp(u,p,!0,s,g,v,T,L,z),s.context=av(null),u=s.current,p=Xt(),g=Hr(u),v=Qi(p,g),v.callback=a??null,jr(u,v,g),s.current.lanes=g,Tr(s,g,p),ln(s,p),s}function Ku(s,a,u,p){var g=a.current,v=Xt(),T=Hr(g);return u=av(u),a.context===null?a.context=u:a.pendingContext=u,a=Qi(v,T),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=jr(g,a,T),s!==null&&(ni(s,g,T,v),bu(s,g,T)),T}function qu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function cv(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function dp(s,a){cv(s,a),(s=s.alternate)&&cv(s,a)}function k1(){return null}var uv=typeof reportError=="function"?reportError:function(s){console.error(s)};function fp(s){this._internalRoot=s}Yu.prototype.render=fp.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));Ku(s,a,null,null)},Yu.prototype.unmount=fp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Ms(function(){Ku(null,s,null,null)}),a[Gi]=null}};function Yu(s){this._internalRoot=s}Yu.prototype.unstable_scheduleHydration=function(s){if(s){var a=Yc();s={blockedOn:null,target:s,priority:a};for(var u=0;u<pi.length&&a!==0&&a<pi[u].priority;u++);pi.splice(u,0,s),u===0&&Jc(s)}};function pp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Xu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function hv(){}function I1(s,a,u,p,g){if(g){if(typeof p=="function"){var v=p;p=function(){var Y=qu(T);v.call(Y)}}var T=lv(a,p,s,0,null,!1,!1,"",hv);return s._reactRootContainer=T,s[Gi]=T.current,fl(s.nodeType===8?s.parentNode:s),Ms(),T}for(;g=s.lastChild;)s.removeChild(g);if(typeof p=="function"){var L=p;p=function(){var Y=qu(z);L.call(Y)}}var z=hp(s,0,!1,null,null,!1,!1,"",hv);return s._reactRootContainer=z,s[Gi]=z.current,fl(s.nodeType===8?s.parentNode:s),Ms(function(){Ku(a,z,u,p)}),z}function Qu(s,a,u,p,g){var v=u._reactRootContainer;if(v){var T=v;if(typeof g=="function"){var L=g;g=function(){var z=qu(T);L.call(z)}}Ku(a,T,s,g)}else T=I1(u,a,s,g,p);return qu(T)}Kc=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=Er(a.pendingLanes);u!==0&&(Cr(a,u|1),ln(a,Xe()),(je&6)===0&&(ra=Xe()+500,Lr()))}break;case 13:Ms(function(){var p=Xi(s,1);if(p!==null){var g=Xt();ni(p,s,1,g)}}),dp(s,1)}},Po=function(s){if(s.tag===13){var a=Xi(s,134217728);if(a!==null){var u=Xt();ni(a,s,134217728,u)}dp(s,134217728)}},qc=function(s){if(s.tag===13){var a=Hr(s),u=Xi(s,a);if(u!==null){var p=Xt();ni(u,s,a,p)}dp(s,a)}},Yc=function(){return Re},Xc=function(s,a){var u=Re;try{return Re=s,a()}finally{Re=u}},Va=function(s,a,u){switch(a){case"input":if(La(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var p=u[a];if(p!==s&&p.form===s.form){var g=pu(p);if(!g)throw Error(t(90));mo(p),La(p,g)}}}break;case"textarea":vo(s,u);break;case"select":a=u.value,a!=null&&Fi(s,!!u.multiple,a,!1)}},So=sp,Ka=Ms;var P1={usingClientEntryPoint:!1,Events:[gl,Vo,pu,Ui,Ga,sp]},Rl={findFiberByHostInstance:ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},R1={bundleType:Rl.bundleType,version:Rl.version,rendererPackageName:Rl.rendererPackageName,rendererConfig:Rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Qa(s),s===null?null:s.stateNode},findFiberByHostInstance:Rl.findFiberByHostInstance||k1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{xs=Ju.inject(R1),vn=Ju}catch{}}return cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P1,cn.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pp(a))throw Error(t(200));return C1(s,a,null,u)},cn.createRoot=function(s,a){if(!pp(s))throw Error(t(299));var u=!1,p="",g=uv;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=hp(s,1,!1,null,null,u,!1,p,g),s[Gi]=a.current,fl(s.nodeType===8?s.parentNode:s),new fp(a)},cn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Qa(a),s=s===null?null:s.stateNode,s},cn.flushSync=function(s){return Ms(s)},cn.hydrate=function(s,a,u){if(!Xu(a))throw Error(t(200));return Qu(null,s,a,!0,u)},cn.hydrateRoot=function(s,a,u){if(!pp(s))throw Error(t(405));var p=u!=null&&u.hydratedSources||null,g=!1,v="",T=uv;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),a=lv(a,null,s,1,u??null,g,!1,v,T),s[Gi]=a.current,fl(s),p)for(s=0;s<p.length;s++)u=p[s],g=u._getVersion,g=g(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,g]:a.mutableSourceEagerHydrationData.push(u,g);return new Yu(a)},cn.render=function(s,a,u){if(!Xu(a))throw Error(t(200));return Qu(null,s,a,!1,u)},cn.unmountComponentAtNode=function(s){if(!Xu(s))throw Error(t(40));return s._reactRootContainer?(Ms(function(){Qu(null,null,s,!1,function(){s._reactRootContainer=null,s[Gi]=null})}),!0):!1},cn.unstable_batchedUpdates=sp,cn.unstable_renderSubtreeIntoContainer=function(s,a,u,p){if(!Xu(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Qu(s,a,u,!1,p)},cn.version="18.3.1-next-f1338f8080-20240426",cn}var vv;function B1(){if(vv)return yp.exports;vv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yp.exports=z1(),yp.exports}var wv;function H1(){if(wv)return Zu;wv=1;var n=B1();return Zu.createRoot=n.createRoot,Zu.hydrateRoot=n.hydrateRoot,Zu}var $1=H1();const W1="/assets/logo-C-oluzFn.png",V1="/assets/Arrow-ec_nIAEu.png";var Nl={},xv;function G1(){if(xv)return Nl;xv=1,Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.parse=l,Nl.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function l(w,b){const E=new o,k=w.length;if(k<2)return E;const S=(b==null?void 0:b.decode)||m;let R=0;do{const O=w.indexOf("=",R);if(O===-1)break;const D=w.indexOf(";",R),H=D===-1?k:D;if(O>H){R=w.lastIndexOf(";",O-1)+1;continue}const q=c(w,R,O),J=h(w,O,q),N=w.slice(q,J);if(E[N]===void 0){let I=c(w,O+1,H),A=h(w,H,I);const F=S(w.slice(I,A));E[N]=F}R=H+1}while(R<k);return E}function c(w,b,E){do{const k=w.charCodeAt(b);if(k!==32&&k!==9)return b}while(++b<E);return E}function h(w,b,E){for(;b>E;){const k=w.charCodeAt(--b);if(k!==32&&k!==9)return b+1}return E}function f(w,b,E){const k=(E==null?void 0:E.encode)||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const S=k(b);if(!e.test(S))throw new TypeError(`argument val is invalid: ${b}`);let R=w+"="+S;if(!E)return R;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);R+="; Max-Age="+E.maxAge}if(E.domain){if(!t.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);R+="; Domain="+E.domain}if(E.path){if(!i.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);R+="; Path="+E.path}if(E.expires){if(!y(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);R+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(R+="; HttpOnly"),E.secure&&(R+="; Secure"),E.partitioned&&(R+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return R}function m(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function y(w){return r.call(w)==="[object Date]"}return Nl}G1();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Sv="popstate";function K1(n={}){function e(i,r){let{pathname:o,search:l,hash:c}=i.location;return Xp("",{pathname:o,search:l,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:ac(r)}return Y1(e,t,null,n)}function ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ni(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function q1(){return Math.random().toString(36).substring(2,10)}function Ev(n,e){return{usr:n.state,key:n.key,idx:e}}function Xp(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ea(e):e,state:t,key:e&&e.key||i||q1()}}function ac({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ea(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function Y1(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,c="POP",h=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function y(){c="POP";let S=m(),R=S==null?null:S-f;f=S,h&&h({action:c,location:k.location,delta:R})}function w(S,R){c="PUSH";let O=Xp(k.location,S,R);f=m()+1;let D=Ev(O,f),H=k.createHref(O);try{l.pushState(D,"",H)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;r.location.assign(H)}o&&h&&h({action:c,location:k.location,delta:1})}function b(S,R){c="REPLACE";let O=Xp(k.location,S,R);f=m();let D=Ev(O,f),H=k.createHref(O);l.replaceState(D,"",H),o&&h&&h({action:c,location:k.location,delta:0})}function E(S){let R=r.location.origin!=="null"?r.location.origin:r.location.href,O=typeof S=="string"?S:ac(S);return O=O.replace(/ $/,"%20"),ct(R,`No window.location.(origin|href) available to create URL for href: ${O}`),new URL(O,R)}let k={get action(){return c},get location(){return n(r,l)},listen(S){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(Sv,y),h=S,()=>{r.removeEventListener(Sv,y),h=null}},createHref(S){return e(r,S)},createURL:E,encodeLocation(S){let R=E(S);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:w,replace:b,go(S){return l.go(S)}};return k}function Tx(n,e,t="/"){return X1(n,e,t,!1)}function X1(n,e,t,i){let r=typeof e=="string"?Ea(e):e,o=dr(r.pathname||"/",t);if(o==null)return null;let l=Cx(n);Q1(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let f=lC(o);c=oC(l[h],f,i)}return c}function Cx(n,e=[],t=[],i=""){let r=(o,l,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(ct(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let f=cr([i,h.relativePath]),m=t.concat(h);o.children&&o.children.length>0&&(ct(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Cx(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:rC(f,o.index),routesMeta:m})};return n.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))r(o,l);else for(let h of kx(o.path))r(o,l,h)}),e}function kx(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let l=kx(i.join("/")),c=[];return c.push(...l.map(h=>h===""?o:[o,h].join("/"))),r&&c.push(...l),c.map(h=>n.startsWith("/")&&h===""?"/":h)}function Q1(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:sC(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var J1=/^:[\w-]+$/,Z1=3,eC=2,tC=1,nC=10,iC=-2,bv=n=>n==="*";function rC(n,e){let t=n.split("/"),i=t.length;return t.some(bv)&&(i+=iC),e&&(i+=eC),t.filter(r=>!bv(r)).reduce((r,o)=>r+(J1.test(o)?Z1:o===""?tC:nC),i)}function sC(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function oC(n,e,t=!1){let{routesMeta:i}=n,r={},o="/",l=[];for(let c=0;c<i.length;++c){let h=i[c],f=c===i.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=Dh({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},m),w=h.route;if(!y&&f&&t&&!i[i.length-1].route.index&&(y=Dh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!y)return null;Object.assign(r,y.params),l.push({params:r,pathname:cr([o,y.pathname]),pathnameBase:dC(cr([o,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(o=cr([o,y.pathnameBase]))}return l}function Dh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=aC(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:i.reduce((f,{paramName:m,isOptional:y},w)=>{if(m==="*"){let E=c[w]||"";l=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const b=c[w];return y&&!b?f[m]=void 0:f[m]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:n}}function aC(n,e=!1,t=!0){Ni(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function lC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ni(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function dr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function cC(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Ea(n):n;return{pathname:t?t.startsWith("/")?t:uC(t,e):e,search:fC(i),hash:pC(r)}}function uC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function wp(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ix(n){let e=hC(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Px(n,e,t,i=!1){let r;typeof n=="string"?r=Ea(n):(r={...n},ct(!r.pathname||!r.pathname.includes("?"),wp("?","pathname","search",r)),ct(!r.pathname||!r.pathname.includes("#"),wp("#","pathname","hash",r)),ct(!r.search||!r.search.includes("#"),wp("#","search","hash",r)));let o=n===""||r.pathname==="",l=o?"/":r.pathname,c;if(l==null)c=t;else{let y=e.length-1;if(!i&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),y-=1;r.pathname=w.join("/")}c=y>=0?e[y]:"/"}let h=cC(r,c),f=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}var cr=n=>n.join("/").replace(/\/\/+/g,"/"),dC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),fC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,pC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function mC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Rx=["POST","PUT","PATCH","DELETE"];new Set(Rx);var gC=["GET",...Rx];new Set(gC);var ba=U.createContext(null);ba.displayName="DataRouter";var dd=U.createContext(null);dd.displayName="DataRouterState";var Ax=U.createContext({isTransitioning:!1});Ax.displayName="ViewTransition";var yC=U.createContext(new Map);yC.displayName="Fetchers";var _C=U.createContext(null);_C.displayName="Await";var Oi=U.createContext(null);Oi.displayName="Navigation";var xc=U.createContext(null);xc.displayName="Location";var Di=U.createContext({outlet:null,matches:[],isDataRoute:!1});Di.displayName="Route";var Vm=U.createContext(null);Vm.displayName="RouteError";function vC(n,{relative:e}={}){ct(Sc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=U.useContext(Oi),{hash:r,pathname:o,search:l}=Ec(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:cr([t,o])),i.createHref({pathname:c,search:l,hash:r})}function Sc(){return U.useContext(xc)!=null}function cs(){return ct(Sc(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(xc).location}var Nx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ox(n){U.useContext(Oi).static||U.useLayoutEffect(n)}function Ta(){let{isDataRoute:n}=U.useContext(Di);return n?NC():wC()}function wC(){ct(Sc(),"useNavigate() may be used only in the context of a <Router> component.");let n=U.useContext(ba),{basename:e,navigator:t}=U.useContext(Oi),{matches:i}=U.useContext(Di),{pathname:r}=cs(),o=JSON.stringify(Ix(i)),l=U.useRef(!1);return Ox(()=>{l.current=!0}),U.useCallback((h,f={})=>{if(Ni(l.current,Nx),!l.current)return;if(typeof h=="number"){t.go(h);return}let m=Px(h,JSON.parse(o),r,f.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:cr([e,m.pathname])),(f.replace?t.replace:t.push)(m,f.state,f)},[e,t,o,r,n])}U.createContext(null);function Dx(){let{matches:n}=U.useContext(Di),e=n[n.length-1];return e?e.params:{}}function Ec(n,{relative:e}={}){let{matches:t}=U.useContext(Di),{pathname:i}=cs(),r=JSON.stringify(Ix(t));return U.useMemo(()=>Px(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function xC(n,e){return Mx(n,e)}function Mx(n,e,t,i){var O;ct(Sc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:o}=U.useContext(Oi),{matches:l}=U.useContext(Di),c=l[l.length-1],h=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",y=c&&c.route;{let D=y&&y.path||"";Lx(f,!y||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let w=cs(),b;if(e){let D=typeof e=="string"?Ea(e):e;ct(m==="/"||((O=D.pathname)==null?void 0:O.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${D.pathname}" was given in the \`location\` prop.`),b=D}else b=w;let E=b.pathname||"/",k=E;if(m!=="/"){let D=m.replace(/^\//,"").split("/");k="/"+E.replace(/^\//,"").split("/").slice(D.length).join("/")}let S=!o&&t&&t.matches&&t.matches.length>0?t.matches:Tx(n,{pathname:k});Ni(y||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ni(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=CC(S&&S.map(D=>Object.assign({},D,{params:Object.assign({},h,D.params),pathname:cr([m,r.encodeLocation?r.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?m:cr([m,r.encodeLocation?r.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),l,t,i);return e&&R?U.createElement(xc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},R):R}function SC(){let n=AC(),e=mC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:o},"ErrorBoundary")," or"," ",U.createElement("code",{style:o},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:r},t):null,l)}var EC=U.createElement(SC,null),bC=class extends U.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?U.createElement(Di.Provider,{value:this.props.routeContext},U.createElement(Vm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TC({routeContext:n,match:e,children:t}){let i=U.useContext(ba);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Di.Provider,{value:n},t)}function CC(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,o=t==null?void 0:t.errors;if(o!=null){let h=r.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);ct(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,h+1))}let l=!1,c=-1;if(t)for(let h=0;h<r.length;h++){let f=r[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:m,errors:y}=t,w=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||w){l=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}return r.reduceRight((h,f,m)=>{let y,w=!1,b=null,E=null;t&&(y=o&&f.route.id?o[f.route.id]:void 0,b=f.route.errorElement||EC,l&&(c<0&&m===0?(Lx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,E=null):c===m&&(w=!0,E=f.route.hydrateFallbackElement||null)));let k=e.concat(r.slice(0,m+1)),S=()=>{let R;return y?R=b:w?R=E:f.route.Component?R=U.createElement(f.route.Component,null):f.route.element?R=f.route.element:R=h,U.createElement(TC,{match:f,routeContext:{outlet:h,matches:k,isDataRoute:t!=null},children:R})};return t&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?U.createElement(bC,{location:t.location,revalidation:t.revalidation,component:b,error:y,children:S(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):S()},null)}function Gm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kC(n){let e=U.useContext(ba);return ct(e,Gm(n)),e}function IC(n){let e=U.useContext(dd);return ct(e,Gm(n)),e}function PC(n){let e=U.useContext(Di);return ct(e,Gm(n)),e}function Km(n){let e=PC(n),t=e.matches[e.matches.length-1];return ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function RC(){return Km("useRouteId")}function AC(){var i;let n=U.useContext(Vm),e=IC("useRouteError"),t=Km("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function NC(){let{router:n}=kC("useNavigate"),e=Km("useNavigate"),t=U.useRef(!1);return Ox(()=>{t.current=!0}),U.useCallback(async(r,o={})=>{Ni(t.current,Nx),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...o}))},[n,e])}var Tv={};function Lx(n,e,t){!e&&!Tv[n]&&(Tv[n]=!0,Ni(!1,t))}U.memo(OC);function OC({routes:n,future:e,state:t}){return Mx(n,void 0,t,e)}function jn(n){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function DC({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:o=!1}){ct(!Sc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=U.useMemo(()=>({basename:l,navigator:r,static:o,future:{}}),[l,r,o]);typeof t=="string"&&(t=Ea(t));let{pathname:h="/",search:f="",hash:m="",state:y=null,key:w="default"}=t,b=U.useMemo(()=>{let E=dr(h,l);return E==null?null:{location:{pathname:E,search:f,hash:m,state:y,key:w},navigationType:i}},[l,h,f,m,y,w,i]);return Ni(b!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:U.createElement(Oi.Provider,{value:c},U.createElement(xc.Provider,{children:e,value:b}))}function MC({children:n,location:e}){return xC(Qp(n),e)}function Qp(n,e=[]){let t=[];return U.Children.forEach(n,(i,r)=>{if(!U.isValidElement(i))return;let o=[...e,r];if(i.type===U.Fragment){t.push.apply(t,Qp(i.props.children,o));return}ct(i.type===jn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Qp(i.props.children,o)),t.push(l)}),t}var vh="get",wh="application/x-www-form-urlencoded";function fd(n){return n!=null&&typeof n.tagName=="string"}function LC(n){return fd(n)&&n.tagName.toLowerCase()==="button"}function FC(n){return fd(n)&&n.tagName.toLowerCase()==="form"}function jC(n){return fd(n)&&n.tagName.toLowerCase()==="input"}function UC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function zC(n,e){return n.button===0&&(!e||e==="_self")&&!UC(n)}var eh=null;function BC(){if(eh===null)try{new FormData(document.createElement("form"),0),eh=!1}catch{eh=!0}return eh}var HC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xp(n){return n!=null&&!HC.has(n)?(Ni(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wh}"`),null):n}function $C(n,e){let t,i,r,o,l;if(FC(n)){let c=n.getAttribute("action");i=c?dr(c,e):null,t=n.getAttribute("method")||vh,r=xp(n.getAttribute("enctype"))||wh,o=new FormData(n)}else if(LC(n)||jC(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||c.getAttribute("action");if(i=h?dr(h,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||vh,r=xp(n.getAttribute("formenctype"))||xp(c.getAttribute("enctype"))||wh,o=new FormData(c,n),!BC()){let{name:f,type:m,value:y}=n;if(m==="image"){let w=f?`${f}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else f&&o.append(f,y)}}else{if(fd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=vh,i=null,r=wh,l=n}return o&&r==="text/plain"&&(l=o,o=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:o,body:l}}function qm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function WC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function GC(n,e,t){let i=await Promise.all(n.map(async r=>{let o=e.routes[r.route.id];if(o){let l=await WC(o,t);return l.links?l.links():[]}return[]}));return XC(i.flat(1).filter(VC).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Cv(n,e,t,i,r,o){let l=(h,f)=>t[f]?h.route.id!==t[f].route.id:!0,c=(h,f)=>{var m;return t[f].pathname!==h.pathname||((m=t[f].route.path)==null?void 0:m.endsWith("*"))&&t[f].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,f)=>l(h,f)||c(h,f)):o==="data"?e.filter((h,f)=>{var y;let m=i.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(l(h,f)||c(h,f))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function KC(n,e,{includeHydrateFallback:t}={}){return qC(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function qC(n){return[...new Set(n)]}function YC(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function XC(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let o=JSON.stringify(YC(r));return t.has(o)||(t.add(o),i.push({key:o,link:r})),i},[])}function QC(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&dr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Fx(){let n=U.useContext(ba);return qm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function JC(){let n=U.useContext(dd);return qm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ym=U.createContext(void 0);Ym.displayName="FrameworkContext";function jx(){let n=U.useContext(Ym);return qm(n,"You must render this element inside a <HydratedRouter> element"),n}function ZC(n,e){let t=U.useContext(Ym),[i,r]=U.useState(!1),[o,l]=U.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:f,onMouseLeave:m,onTouchStart:y}=e,w=U.useRef(null);U.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let k=R=>{R.forEach(O=>{l(O.isIntersecting)})},S=new IntersectionObserver(k,{threshold:.5});return w.current&&S.observe(w.current),()=>{S.disconnect()}}},[n]),U.useEffect(()=>{if(i){let k=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(k)}}},[i]);let b=()=>{r(!0)},E=()=>{r(!1),l(!1)};return t?n!=="intent"?[o,w,{}]:[o,w,{onFocus:Ol(c,b),onBlur:Ol(h,E),onMouseEnter:Ol(f,b),onMouseLeave:Ol(m,E),onTouchStart:Ol(y,b)}]:[!1,w,{}]}function Ol(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function ek({page:n,...e}){let{router:t}=Fx(),i=U.useMemo(()=>Tx(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?U.createElement(nk,{page:n,matches:i,...e}):null}function tk(n){let{manifest:e,routeModules:t}=jx(),[i,r]=U.useState([]);return U.useEffect(()=>{let o=!1;return GC(n,e,t).then(l=>{o||r(l)}),()=>{o=!0}},[n,e,t]),i}function nk({page:n,matches:e,...t}){let i=cs(),{manifest:r,routeModules:o}=jx(),{basename:l}=Fx(),{loaderData:c,matches:h}=JC(),f=U.useMemo(()=>Cv(n,e,h,r,i,"data"),[n,e,h,r,i]),m=U.useMemo(()=>Cv(n,e,h,r,i,"assets"),[n,e,h,r,i]),y=U.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let E=new Set,k=!1;if(e.forEach(R=>{var D;let O=r.routes[R.route.id];!O||!O.hasLoader||(!f.some(H=>H.route.id===R.route.id)&&R.route.id in c&&((D=o[R.route.id])!=null&&D.shouldRevalidate)||O.hasClientLoader?k=!0:E.add(R.route.id))}),E.size===0)return[];let S=QC(n,l);return k&&E.size>0&&S.searchParams.set("_routes",e.filter(R=>E.has(R.route.id)).map(R=>R.route.id).join(",")),[S.pathname+S.search]},[l,c,i,r,f,e,n,o]),w=U.useMemo(()=>KC(m,r),[m,r]),b=tk(m);return U.createElement(U.Fragment,null,y.map(E=>U.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),w.map(E=>U.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),b.map(({key:E,link:k})=>U.createElement("link",{key:E,...k})))}function ik(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Ux=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ux&&(window.__reactRouterVersion="7.4.0")}catch{}function rk({basename:n,children:e,window:t}){let i=U.useRef();i.current==null&&(i.current=K1({window:t,v5Compat:!0}));let r=i.current,[o,l]=U.useState({action:r.action,location:r.location}),c=U.useCallback(h=>{U.startTransition(()=>l(h))},[l]);return U.useLayoutEffect(()=>r.listen(c),[r,c]),U.createElement(DC,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:r})}var zx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ht=U.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:o,replace:l,state:c,target:h,to:f,preventScrollReset:m,viewTransition:y,...w},b){let{basename:E}=U.useContext(Oi),k=typeof f=="string"&&zx.test(f),S,R=!1;if(typeof f=="string"&&k&&(S=f,Ux))try{let A=new URL(window.location.href),F=f.startsWith("//")?new URL(A.protocol+f):new URL(f),j=dr(F.pathname,E);F.origin===A.origin&&j!=null?f=j+F.search+F.hash:R=!0}catch{Ni(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=vC(f,{relative:r}),[D,H,q]=ZC(i,w),J=lk(f,{replace:l,state:c,target:h,preventScrollReset:m,relative:r,viewTransition:y});function N(A){e&&e(A),A.defaultPrevented||J(A)}let I=U.createElement("a",{...w,...q,href:S||O,onClick:R||o?e:N,ref:ik(b,H),target:h,"data-discover":!k&&t==="render"?"true":void 0});return D&&!k?U.createElement(U.Fragment,null,I,U.createElement(ek,{page:O})):I});Ht.displayName="Link";var sk=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:o,to:l,viewTransition:c,children:h,...f},m){let y=Ec(l,{relative:f.relative}),w=cs(),b=U.useContext(dd),{navigator:E,basename:k}=U.useContext(Oi),S=b!=null&&fk(y)&&c===!0,R=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,O=w.pathname,D=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(O=O.toLowerCase(),D=D?D.toLowerCase():null,R=R.toLowerCase()),D&&k&&(D=dr(D,k)||D);const H=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let q=O===R||!r&&O.startsWith(R)&&O.charAt(H)==="/",J=D!=null&&(D===R||!r&&D.startsWith(R)&&D.charAt(R.length)==="/"),N={isActive:q,isPending:J,isTransitioning:S},I=q?e:void 0,A;typeof i=="function"?A=i(N):A=[i,q?"active":null,J?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let F=typeof o=="function"?o(N):o;return U.createElement(Ht,{...f,"aria-current":I,className:A,ref:m,style:F,to:l,viewTransition:c},typeof h=="function"?h(N):h)});sk.displayName="NavLink";var ok=U.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:o,method:l=vh,action:c,onSubmit:h,relative:f,preventScrollReset:m,viewTransition:y,...w},b)=>{let E=hk(),k=dk(c,{relative:f}),S=l.toLowerCase()==="get"?"get":"post",R=typeof c=="string"&&zx.test(c),O=D=>{if(h&&h(D),D.defaultPrevented)return;D.preventDefault();let H=D.nativeEvent.submitter,q=(H==null?void 0:H.getAttribute("formmethod"))||l;E(H||D.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:r,state:o,relative:f,preventScrollReset:m,viewTransition:y})};return U.createElement("form",{ref:b,method:S,action:k,onSubmit:i?h:O,...w,"data-discover":!R&&n==="render"?"true":void 0})});ok.displayName="Form";function ak(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bx(n){let e=U.useContext(ba);return ct(e,ak(n)),e}function lk(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:o,viewTransition:l}={}){let c=Ta(),h=cs(),f=Ec(n,{relative:o});return U.useCallback(m=>{if(zC(m,e)){m.preventDefault();let y=t!==void 0?t:ac(h)===ac(f);c(n,{replace:y,state:i,preventScrollReset:r,relative:o,viewTransition:l})}},[h,c,f,t,i,e,n,r,o,l])}var ck=0,uk=()=>`__${String(++ck)}__`;function hk(){let{router:n}=Bx("useSubmit"),{basename:e}=U.useContext(Oi),t=RC();return U.useCallback(async(i,r={})=>{let{action:o,method:l,encType:c,formData:h,body:f}=$C(i,e);if(r.navigate===!1){let m=r.fetcherKey||uk();await n.fetch(m,t,r.action||o,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||l,formEncType:r.encType||c,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||l,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function dk(n,{relative:e}={}){let{basename:t}=U.useContext(Oi),i=U.useContext(Di);ct(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Ec(n||".",{relative:e})},l=cs();if(n==null){o.search=l.search;let c=new URLSearchParams(o.search),h=c.getAll("index");if(h.some(m=>m==="")){c.delete("index"),h.filter(y=>y).forEach(y=>c.append("index",y));let m=c.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:cr([t,o.pathname])),ac(o)}function fk(n,e={}){let t=U.useContext(Ax);ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Bx("useViewTransitionState"),r=Ec(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=dr(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=dr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Dh(r.pathname,l)!=null||Dh(r.pathname,o)!=null}new TextEncoder;const pk=()=>{};var kv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae=function(n,e){if(!n)throw Ca(e)},Ca=function(n){return new Error("Firebase Database ("+Hx.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},mk=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[t++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[t++],l=n[t++],c=n[t++],h=((r&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],l=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return e.join("")},Xm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],l=r+1<n.length,c=l?n[r+1]:0,h=r+2<n.length,f=h?n[r+2]:0,m=o>>2,y=(o&3)<<4|c>>4;let w=(c&15)<<2|f>>6,b=f&63;h||(b=64,l||(w=64)),i.push(t[m],t[y],t[w],t[b])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray($x(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):mk(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=t[n.charAt(r++)],c=r<n.length?t[n.charAt(r)]:0;++r;const f=r<n.length?t[n.charAt(r)]:64;++r;const y=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||c==null||f==null||y==null)throw new gk;const w=o<<2|c>>4;if(i.push(w),f!==64){const b=c<<4&240|f>>2;if(i.push(b),y!==64){const E=f<<6&192|y;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class gk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Wx=function(n){const e=$x(n);return Xm.encodeByteArray(e,!0)},Mh=function(n){return Wx(n).replace(/\./g,"")},Lh=function(n){try{return Xm.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(n){return Vx(void 0,n)}function Vx(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!_k(t)||(n[t]=Vx(n[t],e[t]));return n}function _k(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=()=>vk().__FIREBASE_DEFAULTS__,xk=()=>{if(typeof process>"u"||typeof kv>"u")return;const n=kv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Sk=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Lh(n[1]);return e&&JSON.parse(e)},Qm=()=>{try{return pk()||wk()||xk()||Sk()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Gx=n=>{var e,t;return(t=(e=Qm())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Kx=n=>{const e=Gx(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},qx=()=>{var n;return(n=Qm())===null||n===void 0?void 0:n.config},Yx=n=>{var e;return(e=Qm())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Mh(JSON.stringify(t)),Mh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Jm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function Ek(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bk(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Qx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Tk(){const n=Zt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Ck(){return Hx.NODE_ADMIN===!0}function kk(){try{return typeof indexedDB=="object"}catch{return!1}}function Ik(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk="FirebaseError";class _r extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Pk,Object.setPrototypeOf(this,_r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bc.prototype.create)}}class bc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],l=o?Rk(o,i):"Error",c=`${this.serviceName}: ${l} (${r}).`;return new _r(r,c,i)}}function Rk(n,e){return n.replace(Ak,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const Ak=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(n){return JSON.parse(n)}function Ft(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=function(n){let e={},t={},i={},r="";try{const o=n.split(".");e=lc(Lh(o[0])||""),t=lc(Lh(o[1])||""),r=o[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:r}},Nk=function(n){const e=Jx(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},Ok=function(n){const e=Jx(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ga(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Jp(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Fh(n,e,t){const i={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=e.call(t,n[r],r,n));return i}function rs(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const o=n[r],l=e[r];if(Iv(o)&&Iv(l)){if(!rs(o,l))return!1}else if(o!==l)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function Iv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Wl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function Vl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)i[y]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let y=0;y<16;y++)i[y]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let y=16;y<80;y++){const w=i[y-3]^i[y-8]^i[y-14]^i[y-16];i[y]=(w<<1|w>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4],f,m;for(let y=0;y<80;y++){y<40?y<20?(f=c^o&(l^c),m=1518500249):(f=o^l^c,m=1859775393):y<60?(f=o&l|c&(o|l),m=2400959708):(f=o^l^c,m=3395469782);const w=(r<<5|r>>>27)+f+h+m+i[y]&4294967295;h=c,c=l,l=(o<<30|o>>>2)&4294967295,o=r,r=w}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const i=t-this.blockSize;let r=0;const o=this.buf_;let l=this.inbuf_;for(;r<t;){if(l===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<t;)if(o[l]=e.charCodeAt(r),++l,++r,l===this.blockSize){this.compress_(o),l=0;break}}else for(;r<t;)if(o[l]=e[r],++l,++r,l===this.blockSize){this.compress_(o),l=0;break}}this.inbuf_=l,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=t&255,t/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}}function Mk(n,e){const t=new Lk(n,e);return t.subscribe.bind(t)}class Lk{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");Fk(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=Sp),r.error===void 0&&(r.error=Sp),r.complete===void 0&&(r.complete=Sp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fk(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Sp(){}function Zm(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){const o=r-55296;i++,ae(i<n.length,"Surrogate pair missing trail surrogate.");const l=n.charCodeAt(i)-56320;r=65536+(o<<10)+l}r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):r<65536?(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},md=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(n){return n&&n._delegate?n._delegate:n}class ss{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new pd;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Bk(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);i===c&&l.resolve(r)}return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const l=this.instances.get(r);return l&&e(l,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:zk(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zk(n){return n===Hs?void 0:n}function Bk(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Uk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})($e||($e={}));const $k={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},Wk=$e.INFO,Vk={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},Gk=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=Vk[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gd{constructor(e){this.name=e,this._logLevel=Wk,this._logHandler=Gk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$k[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const Kk=(n,e)=>e.some(t=>n instanceof t);let Pv,Rv;function qk(){return Pv||(Pv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yk(){return Rv||(Rv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zx=new WeakMap,Zp=new WeakMap,eS=new WeakMap,Ep=new WeakMap,eg=new WeakMap;function Xk(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(es(n.result)),r()},l=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Zx.set(t,n)}).catch(()=>{}),eg.set(e,n),e}function Qk(n){if(Zp.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),r()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});Zp.set(n,e)}let em={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Zp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||eS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return es(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Jk(n){em=n(em)}function Zk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(bp(this),e,...t);return eS.set(i,e.sort?e.sort():[e]),es(i)}:Yk().includes(n)?function(...e){return n.apply(bp(this),e),es(Zx.get(this))}:function(...e){return es(n.apply(bp(this),e))}}function eI(n){return typeof n=="function"?Zk(n):(n instanceof IDBTransaction&&Qk(n),Kk(n,qk())?new Proxy(n,em):n)}function es(n){if(n instanceof IDBRequest)return Xk(n);if(Ep.has(n))return Ep.get(n);const e=eI(n);return e!==n&&(Ep.set(n,e),eg.set(e,n)),e}const bp=n=>eg.get(n);function tI(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(n,e),c=es(l);return i&&l.addEventListener("upgradeneeded",h=>{i(es(l.result),h.oldVersion,h.newVersion,es(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),r&&h.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const nI=["get","getKey","getAll","getAllKeys","count"],iI=["put","add","delete","clear"],Tp=new Map;function Av(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Tp.get(e))return Tp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=iI.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||nI.includes(t)))return;const o=async function(l,...c){const h=this.transaction(l,r?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[t](...c),r&&h.done]))[0]};return Tp.set(e,o),o}Jk(n=>({...n,get:(e,t,i)=>Av(e,t)||n.get(e,t,i),has:(e,t)=>!!Av(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(sI(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function sI(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tm="@firebase/app",Nv="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new gd("@firebase/app"),oI="@firebase/app-compat",aI="@firebase/analytics-compat",lI="@firebase/analytics",cI="@firebase/app-check-compat",uI="@firebase/app-check",hI="@firebase/auth",dI="@firebase/auth-compat",fI="@firebase/database",pI="@firebase/data-connect",mI="@firebase/database-compat",gI="@firebase/functions",yI="@firebase/functions-compat",_I="@firebase/installations",vI="@firebase/installations-compat",wI="@firebase/messaging",xI="@firebase/messaging-compat",SI="@firebase/performance",EI="@firebase/performance-compat",bI="@firebase/remote-config",TI="@firebase/remote-config-compat",CI="@firebase/storage",kI="@firebase/storage-compat",II="@firebase/firestore",PI="@firebase/vertexai",RI="@firebase/firestore-compat",AI="firebase",NI="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="[DEFAULT]",OI={[tm]:"fire-core",[oI]:"fire-core-compat",[lI]:"fire-analytics",[aI]:"fire-analytics-compat",[uI]:"fire-app-check",[cI]:"fire-app-check-compat",[hI]:"fire-auth",[dI]:"fire-auth-compat",[fI]:"fire-rtdb",[pI]:"fire-data-connect",[mI]:"fire-rtdb-compat",[gI]:"fire-fn",[yI]:"fire-fn-compat",[_I]:"fire-iid",[vI]:"fire-iid-compat",[wI]:"fire-fcm",[xI]:"fire-fcm-compat",[SI]:"fire-perf",[EI]:"fire-perf-compat",[bI]:"fire-rc",[TI]:"fire-rc-compat",[CI]:"fire-gcs",[kI]:"fire-gcs-compat",[II]:"fire-fst",[RI]:"fire-fst-compat",[PI]:"fire-vertex","fire-js":"fire-js",[AI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new Map,DI=new Map,im=new Map;function Ov(n,e){try{n.container.addComponent(e)}catch(t){fr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function eo(n){const e=n.name;if(im.has(e))return fr.debug(`There were multiple attempts to register component ${e}.`),!1;im.set(e,n);for(const t of jh.values())Ov(t,n);for(const t of DI.values())Ov(t,n);return!0}function yd(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function hn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new bc("app","Firebase",MI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=NI;function tg(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:nm,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw ts.create("bad-app-name",{appName:String(r)});if(t||(t=qx()),!t)throw ts.create("no-options");const o=jh.get(r);if(o){if(rs(t,o.options)&&rs(i,o.config))return o;throw ts.create("duplicate-app",{appName:r})}const l=new Hk(r);for(const h of im.values())l.addComponent(h);const c=new LI(t,i,l);return jh.set(r,c),c}function ng(n=nm){const e=jh.get(n);if(!e&&n===nm&&qx())return tg();if(!e)throw ts.create("no-app",{appName:n});return e}function Ri(n,e,t){var i;let r=(i=OI[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fr.warn(c.join(" "));return}eo(new ss(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="firebase-heartbeat-database",jI=1,cc="firebase-heartbeat-store";let Cp=null;function tS(){return Cp||(Cp=tI(FI,jI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(cc)}catch(t){console.warn(t)}}}}).catch(n=>{throw ts.create("idb-open",{originalErrorMessage:n.message})})),Cp}async function UI(n){try{const t=(await tS()).transaction(cc),i=await t.objectStore(cc).get(nS(n));return await t.done,i}catch(e){if(e instanceof _r)fr.warn(e.message);else{const t=ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fr.warn(t.message)}}}async function Dv(n,e){try{const i=(await tS()).transaction(cc,"readwrite");await i.objectStore(cc).put(e,nS(n)),await i.done}catch(t){if(t instanceof _r)fr.warn(t.message);else{const i=ts.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});fr.warn(i.message)}}}function nS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=1024,BI=30;class HI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new WI(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Mv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>BI){const l=VI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){fr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Mv(),{heartbeatsToSend:i,unsentEntries:r}=$I(this._heartbeatsCache.heartbeats),o=Mh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return fr.warn(t),""}}}function Mv(){return new Date().toISOString().substring(0,10)}function $I(n,e=zI){const t=[];let i=n.slice();for(const r of n){const o=t.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),Lv(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),Lv(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class WI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kk()?Ik().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await UI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return Dv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return Dv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Lv(n){return Mh(JSON.stringify({version:2,heartbeats:n})).length}function VI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(n){eo(new ss("platform-logger",e=>new rI(e),"PRIVATE")),eo(new ss("heartbeat",e=>new HI(e),"PRIVATE")),Ri(tm,Nv,n),Ri(tm,Nv,"esm2017"),Ri("fire-js","")}GI("");var KI="firebase",qI="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ri(KI,qI,"app");function ig(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function iS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YI=iS,rS=new bc("auth","Firebase",iS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new gd("@firebase/auth");function XI(n,...e){Uh.logLevel<=$e.WARN&&Uh.warn(`Auth (${co}): ${n}`,...e)}function xh(n,...e){Uh.logLevel<=$e.ERROR&&Uh.error(`Auth (${co}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(n,...e){throw sg(n,...e)}function ai(n,...e){return sg(n,...e)}function rg(n,e,t){const i=Object.assign(Object.assign({},YI()),{[e]:t});return new bc("auth","Firebase",i).create(e,{appName:n.name})}function ur(n){return rg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QI(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&zn(n,"argument-error"),rg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sg(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return rS.create(n,...e)}function ye(n,e,...t){if(!n)throw sg(e,...t)}function sr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw xh(e),new Error(e)}function pr(n,e){n||sr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function JI(){return Fv()==="http:"||Fv()==="https:"}function Fv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JI()||bk()||"connection"in navigator)?navigator.onLine:!0}function eP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,t){this.shortDelay=e,this.longDelay=t,pr(t>e,"Short delay should be less than long delay!"),this.isMobile=Jm()||Qx()}get(){return ZI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(n,e){pr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=new Tc(3e4,6e4);function us(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function hs(n,e,t,i,r={}){return oS(n,r,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const c=ka(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:h},o);return Ek()||(f.referrerPolicy="no-referrer"),sS.fetch()(aS(n,n.config.apiHost,t,c),f)})}async function oS(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},tP),e);try{const r=new rP(n),o=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw th(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw th(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw th(n,"user-disabled",l);const m=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw rg(n,m,f);zn(n,m)}}catch(r){if(r instanceof _r)throw r;zn(n,"network-request-failed",{message:String(r)})}}async function Cc(n,e,t,i,r={}){const o=await hs(n,e,t,i,r);return"mfaPendingCredential"in o&&zn(n,"multi-factor-auth-required",{_serverResponse:o}),o}function aS(n,e,t,i){const r=`${e}${t}?${i}`;return n.config.emulator?og(n.config,r):`${n.config.apiScheme}://${r}`}function iP(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ai(this.auth,"network-request-failed")),nP.get())})}}function th(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=ai(n,e,i);return r.customData._tokenResponse=t,r}function jv(n){return n!==void 0&&n.enterprise!==void 0}class sP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return iP(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oP(n,e){return hs(n,"GET","/v2/recaptchaConfig",us(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aP(n,e){return hs(n,"POST","/v1/accounts:delete",e)}async function lS(n,e){return hs(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lP(n,e=!1){const t=kn(n),i=await t.getIdToken(e),r=ag(i);ye(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:Yl(kp(r.auth_time)),issuedAtTime:Yl(kp(r.iat)),expirationTime:Yl(kp(r.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function kp(n){return Number(n)*1e3}function ag(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return xh("JWT malformed, contained fewer than 3 sections"),null;try{const r=Lh(t);return r?JSON.parse(r):(xh("Failed to decode base64 JWT payload"),null)}catch(r){return xh("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Uv(n){const e=ag(n);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof _r&&cP(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function cP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(n){var e;const t=n.auth,i=await n.getIdToken(),r=await uc(n,lS(t,{idToken:i}));ye(r==null?void 0:r.users.length,t,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?cS(o.providerUserInfo):[],c=dP(n.providerData,l),h=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),m=h?f:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new sm(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function hP(n){const e=kn(n);await zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dP(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function cS(n){return n.map(e=>{var{providerId:t}=e,i=ig(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP(n,e){const t=await oS(n,{},async()=>{const i=ka({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,l=aS(n,r,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",sS.fetch()(l,{method:"POST",headers:c,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function pP(n,e){return hs(n,"POST","/v2/accounts:revokeToken",us(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Uv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const t=Uv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:o}=await fP(e,t);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:o}=t,l=new ua;return i&&(ye(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),r&&(ye(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),o&&(ye(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ua,this.toJSON())}_performRefresh(){return sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(n,e){ye(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class or{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=ig(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new sm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await uc(this,this.stsTokenManager.getToken(this.auth,e));return ye(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return lP(this,e)}reload(){return hP(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await zh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hn(this.auth.app))return Promise.reject(ur(this.auth));const e=await this.getIdToken();return await uc(this,aP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,l,c,h,f,m;const y=(i=t.displayName)!==null&&i!==void 0?i:void 0,w=(r=t.email)!==null&&r!==void 0?r:void 0,b=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,E=(l=t.photoURL)!==null&&l!==void 0?l:void 0,k=(c=t.tenantId)!==null&&c!==void 0?c:void 0,S=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,R=(f=t.createdAt)!==null&&f!==void 0?f:void 0,O=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:D,emailVerified:H,isAnonymous:q,providerData:J,stsTokenManager:N}=t;ye(D&&N,e,"internal-error");const I=ua.fromJSON(this.name,N);ye(typeof D=="string",e,"internal-error"),Gr(y,e.name),Gr(w,e.name),ye(typeof H=="boolean",e,"internal-error"),ye(typeof q=="boolean",e,"internal-error"),Gr(b,e.name),Gr(E,e.name),Gr(k,e.name),Gr(S,e.name),Gr(R,e.name),Gr(O,e.name);const A=new or({uid:D,auth:e,email:w,emailVerified:H,displayName:y,isAnonymous:q,photoURL:E,phoneNumber:b,tenantId:k,stsTokenManager:I,createdAt:R,lastLoginAt:O});return J&&Array.isArray(J)&&(A.providerData=J.map(F=>Object.assign({},F))),S&&(A._redirectEventId=S),A}static async _fromIdTokenResponse(e,t,i=!1){const r=new ua;r.updateFromServerResponse(t);const o=new or({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await zh(o),o}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];ye(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?cS(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!(o!=null&&o.length),c=new ua;c.updateFromIdToken(i);const h=new or({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new sm(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=new Map;function ar(n){pr(n instanceof Function,"Expected a class definition");let e=zv.get(n);return e?(pr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,zv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}uS.type="NONE";const Bv=uS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(n,e,t){return`firebase:${n}:${e}:${t}`}class ha{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Sh(this.userKey,r.apiKey,o),this.fullPersistenceKey=Sh("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?or._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ha(ar(Bv),e,i);const r=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||ar(Bv);const l=Sh(i,e.config.apiKey,e.name);let c=null;for(const f of t)try{const m=await f._get(l);if(m){const y=or._fromJSON(e,m);f!==o&&(c=y),o=f;break}}catch{}const h=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new ha(o,e,i):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new ha(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gS(e))return"Blackberry";if(yS(e))return"Webos";if(dS(e))return"Safari";if((e.includes("chrome/")||fS(e))&&!e.includes("edge/"))return"Chrome";if(mS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function hS(n=Zt()){return/firefox\//i.test(n)}function dS(n=Zt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fS(n=Zt()){return/crios\//i.test(n)}function pS(n=Zt()){return/iemobile/i.test(n)}function mS(n=Zt()){return/android/i.test(n)}function gS(n=Zt()){return/blackberry/i.test(n)}function yS(n=Zt()){return/webos/i.test(n)}function lg(n=Zt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function mP(n=Zt()){var e;return lg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gP(){return Tk()&&document.documentMode===10}function _S(n=Zt()){return lg(n)||mS(n)||yS(n)||gS(n)||/windows phone/i.test(n)||pS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(n,e=[]){let t;switch(n){case"Browser":t=Hv(Zt());break;case"Worker":t=`${Hv(Zt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${co}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _P(n,e={}){return hs(n,"GET","/v2/passwordPolicy",us(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=6;class wP{constructor(e){var t,i,r,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:vP,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,o,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(r=h.containsLowercaseLetter)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $v(this),this.idTokenSubscription=new $v(this),this.beforeStateQueue=new yP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ar(t)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await ha.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await lS(this,{idToken:e}),i=await or._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(hn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await zh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hn(this.app))return Promise.reject(ur(this));const t=e?kn(e):null;return t&&ye(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hn(this.app)?Promise.reject(ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hn(this.app)?Promise.reject(ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _P(this),t=new wP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await pP(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ar(e)||this._popupRedirectResolver;ye(t,this,"argument-error"),this.redirectPersistenceManager=await ha.create(this,[ar(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,r);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&XI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ds(n){return kn(n)}class $v{constructor(e){this.auth=e,this.observer=null,this.addObserver=Mk(t=>this.observer=t)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _d={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SP(n){_d=n}function wS(n){return _d.loadJS(n)}function EP(){return _d.recaptchaEnterpriseScript}function bP(){return _d.gapiScript}function TP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class CP{constructor(){this.enterprise=new kP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class kP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const IP="recaptcha-enterprise",xS="NO_RECAPTCHA";class PP{constructor(e){this.type=IP,this.auth=ds(e)}async verify(e="verify",t=!1){async function i(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{oP(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new sP(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(h=>{c(h)})})}function r(o,l,c){const h=window.grecaptcha;jv(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(xS)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CP().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{i(this.auth).then(c=>{if(!t&&jv(window.grecaptcha))r(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=EP();h.length!==0&&(h+=c),wS(h).then(()=>{r(c,o,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function Wv(n,e,t,i=!1,r=!1){const o=new PP(n);let l;if(r)l=xS;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function om(n,e,t,i,r){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Wv(n,e,t,t==="getOobCode");return i(n,l)}else return i(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Wv(n,e,t,t==="getOobCode");return i(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(n,e){const t=yd(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),o=t.getOptions();if(rs(o,e??{}))return r;zn(r,"already-initialized")}return t.initialize({options:e})}function AP(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(ar);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function NP(n,e,t){const i=ds(n);ye(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,o=SS(e),{host:l,port:c}=OP(e),h=c===null?"":`:${c}`,f={url:`${o}//${l}${h}/`},m=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){ye(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ye(rs(f,i.config.emulator)&&rs(m,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=m,i.settings.appVerificationDisabledForTesting=!0,DP()}function SS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function OP(n){const e=SS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:Vv(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:Vv(l)}}}function Vv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function DP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,t){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}}async function MP(n,e){return hs(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LP(n,e){return Cc(n,"POST","/v1/accounts:signInWithPassword",us(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FP(n,e){return Cc(n,"POST","/v1/accounts:signInWithEmailLink",us(n,e))}async function jP(n,e){return Cc(n,"POST","/v1/accounts:signInWithEmailLink",us(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends cg{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new hc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new hc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return om(e,t,"signInWithPassword",LP);case"emailLink":return FP(e,{email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return om(e,i,"signUpPassword",MP);case"emailLink":return jP(e,{idToken:t,email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function da(n,e){return Cc(n,"POST","/v1/accounts:signInWithIdp",us(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP="http://localhost";class to extends cg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new to(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):zn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,o=ig(t,["providerId","signInMethod"]);if(!i||!r)return null;const l=new to(i,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return da(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,da(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,da(e,t)}buildRequest(){const e={requestUri:UP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ka(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BP(n){const e=Wl(Vl(n)).link,t=e?Wl(Vl(e)).deep_link_id:null,i=Wl(Vl(n)).deep_link_id;return(i?Wl(Vl(i)).link:null)||i||t||e||n}class ug{constructor(e){var t,i,r,o,l,c;const h=Wl(Vl(e)),f=(t=h.apiKey)!==null&&t!==void 0?t:null,m=(i=h.oobCode)!==null&&i!==void 0?i:null,y=zP((r=h.mode)!==null&&r!==void 0?r:null);ye(f&&m&&y,"argument-error"),this.apiKey=f,this.operation=y,this.code=m,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=BP(e);try{return new ug(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.providerId=Ia.PROVIDER_ID}static credential(e,t){return hc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=ug.parseLink(t);return ye(i,"argument-error"),hc._fromEmailAndCode(e,i.code,i.tenantId)}}Ia.PROVIDER_ID="password";Ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends hg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends kc{constructor(){super("facebook.com")}static credential(e){return to._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qr.credential(e.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr extends kc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return to._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return rr.credential(t,i)}catch{return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com";rr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends kc{constructor(){super("github.com")}static credential(e){return to._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends kc{constructor(){super("twitter.com")}static credential(e,t){return to._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Xr.credential(t,i)}catch{return null}}}Xr.TWITTER_SIGN_IN_METHOD="twitter.com";Xr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HP(n,e){return Cc(n,"POST","/v1/accounts:signUp",us(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const o=await or._fromIdTokenResponse(e,i,r),l=Gv(i);return new no({user:o,providerId:l,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=Gv(i);return new no({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function Gv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh extends _r{constructor(e,t,i,r){var o;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Bh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new Bh(e,t,i,r)}}function ES(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Bh._fromErrorAndOperation(n,o,e,i):o})}async function $P(n,e,t=!1){const i=await uc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return no._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WP(n,e,t=!1){const{auth:i}=n;if(hn(i.app))return Promise.reject(ur(i));const r="reauthenticate";try{const o=await uc(n,ES(i,r,e,n),t);ye(o.idToken,i,"internal-error");const l=ag(o.idToken);ye(l,i,"internal-error");const{sub:c}=l;return ye(n.uid===c,i,"user-mismatch"),no._forOperation(n,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&zn(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bS(n,e,t=!1){if(hn(n.app))return Promise.reject(ur(n));const i="signIn",r=await ES(n,i,e),o=await no._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(o.user),o}async function VP(n,e){return bS(ds(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TS(n){const e=ds(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function GP(n,e,t){if(hn(n.app))return Promise.reject(ur(n));const i=ds(n),l=await om(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HP).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&TS(n),h}),c=await no._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(c.user),c}function KP(n,e,t){return hn(n.app)?Promise.reject(ur(n)):VP(kn(n),Ia.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&TS(n),i})}function qP(n,e,t,i){return kn(n).onIdTokenChanged(e,t,i)}function YP(n,e,t){return kn(n).beforeAuthStateChanged(e,t)}function XP(n){return kn(n).signOut()}const Hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hh,"1"),this.storage.removeItem(Hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=1e3,JP=10;class kS extends CS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_S(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!t&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);gP()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,JP):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},QP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}kS.type="LOCAL";const ZP=kS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS extends CS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}IS.type="SESSION";const PS=IS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new vd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:o}=t.data,l=this.handlersMap[r];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const c=Array.from(l).map(async f=>f(t.origin,o)),h=await eR(c);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const f=dg("",20);r.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(y){const w=y;if(w.data.eventId===f)switch(w.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(w.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(){return window}function nR(n){Ai().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function iR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rR(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function sR(){return RS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="firebaseLocalStorageDb",oR=1,$h="firebaseLocalStorage",NS="fbase_key";class Ic{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function wd(n,e){return n.transaction([$h],e?"readwrite":"readonly").objectStore($h)}function aR(){const n=indexedDB.deleteDatabase(AS);return new Ic(n).toPromise()}function am(){const n=indexedDB.open(AS,oR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore($h,{keyPath:NS})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains($h)?e(i):(i.close(),await aR(),e(await am()))})})}async function Kv(n,e,t){const i=wd(n,!0).put({[NS]:e,value:t});return new Ic(i).toPromise()}async function lR(n,e){const t=wd(n,!1).get(e),i=await new Ic(t).toPromise();return i===void 0?null:i.value}function qv(n,e){const t=wd(n,!0).delete(e);return new Ic(t).toPromise()}const cR=800,uR=3;class OS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await am(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>uR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vd._getInstance(sR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await iR(),!this.activeServiceWorker)return;this.sender=new tR(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await am();return await Kv(e,Hh,"1"),await qv(e,Hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Kv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>lR(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>qv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=wd(r,!1).getAll();return new Ic(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OS.type="LOCAL";const hR=OS;new Tc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(n,e){return e?ar(e):(ye(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg extends cg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return da(e,this._buildIdpRequest())}_linkToIdToken(e,t){return da(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return da(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function dR(n){return bS(n.auth,new fg(n),n.bypassAuthState)}function fR(n){const{auth:e,user:t}=n;return ye(t,e,"internal-error"),WP(t,new fg(n),n.bypassAuthState)}async function pR(n){const{auth:e,user:t}=n;return ye(t,e,"internal-error"),$P(t,new fg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dR;case"linkViaPopup":case"linkViaRedirect":return pR;case"reauthViaPopup":case"reauthViaRedirect":return fR;default:zn(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=new Tc(2e3,1e4);async function gR(n,e,t){if(hn(n.app))return Promise.reject(ai(n,"operation-not-supported-in-this-environment"));const i=ds(n);QI(n,e,hg);const r=DS(i,t);return new Gs(i,"signInViaPopup",e,r).executeNotNull()}class Gs extends MS{constructor(e,t,i,r,o){super(e,t,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Gs.currentPopupAction&&Gs.currentPopupAction.cancel(),Gs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mR.get())};e()}}Gs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="pendingRedirect",Eh=new Map;class _R extends MS{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Eh.get(this.auth._key());if(!e){try{const i=await vR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Eh.set(this.auth._key(),e)}return this.bypassAuthState||Eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vR(n,e){const t=SR(e),i=xR(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function wR(n,e){Eh.set(n._key(),e)}function xR(n){return ar(n._redirectPersistence)}function SR(n){return Sh(yR,n.config.apiKey,n.name)}async function ER(n,e,t=!1){if(hn(n.app))return Promise.reject(ur(n));const i=ds(n),r=DS(i,e),l=await new _R(i,r,t).execute();return l&&!t&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=10*60*1e3;class TR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!LS(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(ai(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yv(e))}saveEventToCache(e){this.cachedEventUids.add(Yv(e)),this.lastProcessedEventTime=Date.now()}}function Yv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function LS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(n,e={}){return hs(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PR=/^https?/;async function RR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await kR(n);for(const t of e)try{if(AR(t))return}catch{}zn(n,"unauthorized-domain")}function AR(n){const e=rm(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===i}if(!PR.test(t))return!1;if(IR.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=new Tc(3e4,6e4);function Xv(){const n=Ai().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function OR(n){return new Promise((e,t)=>{var i,r,o;function l(){Xv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xv(),t(ai(n,"network-request-failed"))},timeout:NR.get()})}if(!((r=(i=Ai().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=Ai().gapi)===null||o===void 0)&&o.load)l();else{const c=TP("iframefcb");return Ai()[c]=()=>{gapi.load?l():t(ai(n,"network-request-failed"))},wS(`${bP()}?onload=${c}`).catch(h=>t(h))}}).catch(e=>{throw bh=null,e})}let bh=null;function DR(n){return bh=bh||OR(n),bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=new Tc(5e3,15e3),LR="__/auth/iframe",FR="emulator/auth/iframe",jR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zR(n){const e=n.config;ye(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?og(e,FR):`https://${n.config.authDomain}/${LR}`,i={apiKey:e.apiKey,appName:n.name,v:co},r=UR.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${ka(i).slice(1)}`}async function BR(n){const e=await DR(n),t=Ai().gapi;return ye(t,n,"internal-error"),e.open({where:document.body,url:zR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jR,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const l=ai(n,"network-request-failed"),c=Ai().setTimeout(()=>{o(l)},MR.get());function h(){Ai().clearTimeout(c),r(i)}i.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$R=500,WR=600,VR="_blank",GR="http://localhost";class Qv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KR(n,e,t,i=$R,r=WR){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h=Object.assign(Object.assign({},HR),{width:i.toString(),height:r.toString(),top:o,left:l}),f=Zt().toLowerCase();t&&(c=fS(f)?VR:t),hS(f)&&(e=e||GR,h.scrollbars="yes");const m=Object.entries(h).reduce((w,[b,E])=>`${w}${b}=${E},`,"");if(mP(f)&&c!=="_self")return qR(e||"",c),new Qv(null);const y=window.open(e||"",c,m);ye(y,n,"popup-blocked");try{y.focus()}catch{}return new Qv(y)}function qR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="__/auth/handler",XR="emulator/auth/handler",QR=encodeURIComponent("fac");async function Jv(n,e,t,i,r,o){ye(n.config.authDomain,n,"auth-domain-config-required"),ye(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:co,eventId:r};if(e instanceof hg){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",Jp(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof kc){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const h=await n._getAppCheckToken(),f=h?`#${QR}=${encodeURIComponent(h)}`:"";return`${JR(n)}?${ka(c).slice(1)}${f}`}function JR({config:n}){return n.emulator?og(n,XR):`https://${n.authDomain}/${YR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="webStorageSupport";class ZR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PS,this._completeRedirectFn=ER,this._overrideRedirectResult=wR}async _openPopup(e,t,i,r){var o;pr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await Jv(e,t,i,rm(),r);return KR(e,l,dg())}async _openRedirect(e,t,i,r){await this._originValidation(e);const o=await Jv(e,t,i,rm(),r);return nR(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(pr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await BR(e),i=new TR(e);return t.register("authEvent",r=>(ye(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ip,{type:Ip},r=>{var o;const l=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[Ip];l!==void 0&&t(!!l),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=RR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _S()||dS()||lg()}}const eA=ZR;var Zv="@firebase/auth",e0="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iA(n){eo(new ss("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;ye(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vS(n)},f=new xP(i,r,o,h);return AP(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),eo(new ss("auth-internal",e=>{const t=ds(e.getProvider("auth").getImmediate());return(i=>new tA(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ri(Zv,e0,nA(n)),Ri(Zv,e0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=5*60,sA=Yx("authIdTokenMaxAge")||rA;let t0=null;const oA=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>sA)return;const r=t==null?void 0:t.token;t0!==r&&(t0=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function FS(n=ng()){const e=yd(n,"auth");if(e.isInitialized())return e.getImmediate();const t=RP(n,{popupRedirectResolver:eA,persistence:[hR,ZP,PS]}),i=Yx("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=oA(o.toString());YP(t,l,()=>l(t.currentUser)),qP(t,c=>l(c))}}const r=Gx("auth");return r&&NP(t,`http://${r}`),t}function aA(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}SP({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const o=ai("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",aA().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iA("Browser");var n0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,I){function A(){}A.prototype=I.prototype,N.D=I.prototype,N.prototype=new A,N.prototype.constructor=N,N.C=function(F,j,B){for(var M=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)M[Oe-2]=arguments[Oe];return I.prototype[j].apply(F,M)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(N,I,A){A||(A=0);var F=Array(16);if(typeof I=="string")for(var j=0;16>j;++j)F[j]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(j=0;16>j;++j)F[j]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=N.g[0],A=N.g[1],j=N.g[2];var B=N.g[3],M=I+(B^A&(j^B))+F[0]+3614090360&4294967295;I=A+(M<<7&4294967295|M>>>25),M=B+(j^I&(A^j))+F[1]+3905402710&4294967295,B=I+(M<<12&4294967295|M>>>20),M=j+(A^B&(I^A))+F[2]+606105819&4294967295,j=B+(M<<17&4294967295|M>>>15),M=A+(I^j&(B^I))+F[3]+3250441966&4294967295,A=j+(M<<22&4294967295|M>>>10),M=I+(B^A&(j^B))+F[4]+4118548399&4294967295,I=A+(M<<7&4294967295|M>>>25),M=B+(j^I&(A^j))+F[5]+1200080426&4294967295,B=I+(M<<12&4294967295|M>>>20),M=j+(A^B&(I^A))+F[6]+2821735955&4294967295,j=B+(M<<17&4294967295|M>>>15),M=A+(I^j&(B^I))+F[7]+4249261313&4294967295,A=j+(M<<22&4294967295|M>>>10),M=I+(B^A&(j^B))+F[8]+1770035416&4294967295,I=A+(M<<7&4294967295|M>>>25),M=B+(j^I&(A^j))+F[9]+2336552879&4294967295,B=I+(M<<12&4294967295|M>>>20),M=j+(A^B&(I^A))+F[10]+4294925233&4294967295,j=B+(M<<17&4294967295|M>>>15),M=A+(I^j&(B^I))+F[11]+2304563134&4294967295,A=j+(M<<22&4294967295|M>>>10),M=I+(B^A&(j^B))+F[12]+1804603682&4294967295,I=A+(M<<7&4294967295|M>>>25),M=B+(j^I&(A^j))+F[13]+4254626195&4294967295,B=I+(M<<12&4294967295|M>>>20),M=j+(A^B&(I^A))+F[14]+2792965006&4294967295,j=B+(M<<17&4294967295|M>>>15),M=A+(I^j&(B^I))+F[15]+1236535329&4294967295,A=j+(M<<22&4294967295|M>>>10),M=I+(j^B&(A^j))+F[1]+4129170786&4294967295,I=A+(M<<5&4294967295|M>>>27),M=B+(A^j&(I^A))+F[6]+3225465664&4294967295,B=I+(M<<9&4294967295|M>>>23),M=j+(I^A&(B^I))+F[11]+643717713&4294967295,j=B+(M<<14&4294967295|M>>>18),M=A+(B^I&(j^B))+F[0]+3921069994&4294967295,A=j+(M<<20&4294967295|M>>>12),M=I+(j^B&(A^j))+F[5]+3593408605&4294967295,I=A+(M<<5&4294967295|M>>>27),M=B+(A^j&(I^A))+F[10]+38016083&4294967295,B=I+(M<<9&4294967295|M>>>23),M=j+(I^A&(B^I))+F[15]+3634488961&4294967295,j=B+(M<<14&4294967295|M>>>18),M=A+(B^I&(j^B))+F[4]+3889429448&4294967295,A=j+(M<<20&4294967295|M>>>12),M=I+(j^B&(A^j))+F[9]+568446438&4294967295,I=A+(M<<5&4294967295|M>>>27),M=B+(A^j&(I^A))+F[14]+3275163606&4294967295,B=I+(M<<9&4294967295|M>>>23),M=j+(I^A&(B^I))+F[3]+4107603335&4294967295,j=B+(M<<14&4294967295|M>>>18),M=A+(B^I&(j^B))+F[8]+1163531501&4294967295,A=j+(M<<20&4294967295|M>>>12),M=I+(j^B&(A^j))+F[13]+2850285829&4294967295,I=A+(M<<5&4294967295|M>>>27),M=B+(A^j&(I^A))+F[2]+4243563512&4294967295,B=I+(M<<9&4294967295|M>>>23),M=j+(I^A&(B^I))+F[7]+1735328473&4294967295,j=B+(M<<14&4294967295|M>>>18),M=A+(B^I&(j^B))+F[12]+2368359562&4294967295,A=j+(M<<20&4294967295|M>>>12),M=I+(A^j^B)+F[5]+4294588738&4294967295,I=A+(M<<4&4294967295|M>>>28),M=B+(I^A^j)+F[8]+2272392833&4294967295,B=I+(M<<11&4294967295|M>>>21),M=j+(B^I^A)+F[11]+1839030562&4294967295,j=B+(M<<16&4294967295|M>>>16),M=A+(j^B^I)+F[14]+4259657740&4294967295,A=j+(M<<23&4294967295|M>>>9),M=I+(A^j^B)+F[1]+2763975236&4294967295,I=A+(M<<4&4294967295|M>>>28),M=B+(I^A^j)+F[4]+1272893353&4294967295,B=I+(M<<11&4294967295|M>>>21),M=j+(B^I^A)+F[7]+4139469664&4294967295,j=B+(M<<16&4294967295|M>>>16),M=A+(j^B^I)+F[10]+3200236656&4294967295,A=j+(M<<23&4294967295|M>>>9),M=I+(A^j^B)+F[13]+681279174&4294967295,I=A+(M<<4&4294967295|M>>>28),M=B+(I^A^j)+F[0]+3936430074&4294967295,B=I+(M<<11&4294967295|M>>>21),M=j+(B^I^A)+F[3]+3572445317&4294967295,j=B+(M<<16&4294967295|M>>>16),M=A+(j^B^I)+F[6]+76029189&4294967295,A=j+(M<<23&4294967295|M>>>9),M=I+(A^j^B)+F[9]+3654602809&4294967295,I=A+(M<<4&4294967295|M>>>28),M=B+(I^A^j)+F[12]+3873151461&4294967295,B=I+(M<<11&4294967295|M>>>21),M=j+(B^I^A)+F[15]+530742520&4294967295,j=B+(M<<16&4294967295|M>>>16),M=A+(j^B^I)+F[2]+3299628645&4294967295,A=j+(M<<23&4294967295|M>>>9),M=I+(j^(A|~B))+F[0]+4096336452&4294967295,I=A+(M<<6&4294967295|M>>>26),M=B+(A^(I|~j))+F[7]+1126891415&4294967295,B=I+(M<<10&4294967295|M>>>22),M=j+(I^(B|~A))+F[14]+2878612391&4294967295,j=B+(M<<15&4294967295|M>>>17),M=A+(B^(j|~I))+F[5]+4237533241&4294967295,A=j+(M<<21&4294967295|M>>>11),M=I+(j^(A|~B))+F[12]+1700485571&4294967295,I=A+(M<<6&4294967295|M>>>26),M=B+(A^(I|~j))+F[3]+2399980690&4294967295,B=I+(M<<10&4294967295|M>>>22),M=j+(I^(B|~A))+F[10]+4293915773&4294967295,j=B+(M<<15&4294967295|M>>>17),M=A+(B^(j|~I))+F[1]+2240044497&4294967295,A=j+(M<<21&4294967295|M>>>11),M=I+(j^(A|~B))+F[8]+1873313359&4294967295,I=A+(M<<6&4294967295|M>>>26),M=B+(A^(I|~j))+F[15]+4264355552&4294967295,B=I+(M<<10&4294967295|M>>>22),M=j+(I^(B|~A))+F[6]+2734768916&4294967295,j=B+(M<<15&4294967295|M>>>17),M=A+(B^(j|~I))+F[13]+1309151649&4294967295,A=j+(M<<21&4294967295|M>>>11),M=I+(j^(A|~B))+F[4]+4149444226&4294967295,I=A+(M<<6&4294967295|M>>>26),M=B+(A^(I|~j))+F[11]+3174756917&4294967295,B=I+(M<<10&4294967295|M>>>22),M=j+(I^(B|~A))+F[2]+718787259&4294967295,j=B+(M<<15&4294967295|M>>>17),M=A+(B^(j|~I))+F[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(j+(M<<21&4294967295|M>>>11))&4294967295,N.g[2]=N.g[2]+j&4294967295,N.g[3]=N.g[3]+B&4294967295}i.prototype.u=function(N,I){I===void 0&&(I=N.length);for(var A=I-this.blockSize,F=this.B,j=this.h,B=0;B<I;){if(j==0)for(;B<=A;)r(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<I;)if(F[j++]=N.charCodeAt(B++),j==this.blockSize){r(this,F),j=0;break}}else for(;B<I;)if(F[j++]=N[B++],j==this.blockSize){r(this,F),j=0;break}}this.h=j,this.o+=I},i.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;var A=8*this.o;for(I=N.length-8;I<N.length;++I)N[I]=A&255,A/=256;for(this.u(N),N=Array(16),I=A=0;4>I;++I)for(var F=0;32>F;F+=8)N[A++]=this.g[I]>>>F&255;return N};function o(N,I){var A=c;return Object.prototype.hasOwnProperty.call(A,N)?A[N]:A[N]=I(N)}function l(N,I){this.h=I;for(var A=[],F=!0,j=N.length-1;0<=j;j--){var B=N[j]|0;F&&B==I||(A[j]=B,F=!1)}this.g=A}var c={};function h(N){return-128<=N&&128>N?o(N,function(I){return new l([I|0],0>I?-1:0)}):new l([N|0],0>N?-1:0)}function f(N){if(isNaN(N)||!isFinite(N))return y;if(0>N)return S(f(-N));for(var I=[],A=1,F=0;N>=A;F++)I[F]=N/A|0,A*=4294967296;return new l(I,0)}function m(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return S(m(N.substring(1),I));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=f(Math.pow(I,8)),F=y,j=0;j<N.length;j+=8){var B=Math.min(8,N.length-j),M=parseInt(N.substring(j,j+B),I);8>B?(B=f(Math.pow(I,B)),F=F.j(B).add(f(M))):(F=F.j(A),F=F.add(f(M)))}return F}var y=h(0),w=h(1),b=h(16777216);n=l.prototype,n.m=function(){if(k(this))return-S(this).m();for(var N=0,I=1,A=0;A<this.g.length;A++){var F=this.i(A);N+=(0<=F?F:4294967296+F)*I,I*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(E(this))return"0";if(k(this))return"-"+S(this).toString(N);for(var I=f(Math.pow(N,6)),A=this,F="";;){var j=H(A,I).g;A=R(A,j.j(I));var B=((0<A.g.length?A.g[0]:A.h)>>>0).toString(N);if(A=j,E(A))return B+F;for(;6>B.length;)B="0"+B;F=B+F}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function E(N){if(N.h!=0)return!1;for(var I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function k(N){return N.h==-1}n.l=function(N){return N=R(this,N),k(N)?-1:E(N)?0:1};function S(N){for(var I=N.g.length,A=[],F=0;F<I;F++)A[F]=~N.g[F];return new l(A,~N.h).add(w)}n.abs=function(){return k(this)?S(this):this},n.add=function(N){for(var I=Math.max(this.g.length,N.g.length),A=[],F=0,j=0;j<=I;j++){var B=F+(this.i(j)&65535)+(N.i(j)&65535),M=(B>>>16)+(this.i(j)>>>16)+(N.i(j)>>>16);F=M>>>16,B&=65535,M&=65535,A[j]=M<<16|B}return new l(A,A[A.length-1]&-2147483648?-1:0)};function R(N,I){return N.add(S(I))}n.j=function(N){if(E(this)||E(N))return y;if(k(this))return k(N)?S(this).j(S(N)):S(S(this).j(N));if(k(N))return S(this.j(S(N)));if(0>this.l(b)&&0>N.l(b))return f(this.m()*N.m());for(var I=this.g.length+N.g.length,A=[],F=0;F<2*I;F++)A[F]=0;for(F=0;F<this.g.length;F++)for(var j=0;j<N.g.length;j++){var B=this.i(F)>>>16,M=this.i(F)&65535,Oe=N.i(j)>>>16,Te=N.i(j)&65535;A[2*F+2*j]+=M*Te,O(A,2*F+2*j),A[2*F+2*j+1]+=B*Te,O(A,2*F+2*j+1),A[2*F+2*j+1]+=M*Oe,O(A,2*F+2*j+1),A[2*F+2*j+2]+=B*Oe,O(A,2*F+2*j+2)}for(F=0;F<I;F++)A[F]=A[2*F+1]<<16|A[2*F];for(F=I;F<2*I;F++)A[F]=0;return new l(A,0)};function O(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function D(N,I){this.g=N,this.h=I}function H(N,I){if(E(I))throw Error("division by zero");if(E(N))return new D(y,y);if(k(N))return I=H(S(N),I),new D(S(I.g),S(I.h));if(k(I))return I=H(N,S(I)),new D(S(I.g),I.h);if(30<N.g.length){if(k(N)||k(I))throw Error("slowDivide_ only works with positive integers.");for(var A=w,F=I;0>=F.l(N);)A=q(A),F=q(F);var j=J(A,1),B=J(F,1);for(F=J(F,2),A=J(A,2);!E(F);){var M=B.add(F);0>=M.l(N)&&(j=j.add(A),B=M),F=J(F,1),A=J(A,1)}return I=R(N,j.j(I)),new D(j,I)}for(j=y;0<=N.l(I);){for(A=Math.max(1,Math.floor(N.m()/I.m())),F=Math.ceil(Math.log(A)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),B=f(A),M=B.j(I);k(M)||0<M.l(N);)A-=F,B=f(A),M=B.j(I);E(B)&&(B=w),j=j.add(B),N=R(N,M)}return new D(j,N)}n.A=function(N){return H(this,N).h},n.and=function(N){for(var I=Math.max(this.g.length,N.g.length),A=[],F=0;F<I;F++)A[F]=this.i(F)&N.i(F);return new l(A,this.h&N.h)},n.or=function(N){for(var I=Math.max(this.g.length,N.g.length),A=[],F=0;F<I;F++)A[F]=this.i(F)|N.i(F);return new l(A,this.h|N.h)},n.xor=function(N){for(var I=Math.max(this.g.length,N.g.length),A=[],F=0;F<I;F++)A[F]=this.i(F)^N.i(F);return new l(A,this.h^N.h)};function q(N){for(var I=N.g.length+1,A=[],F=0;F<I;F++)A[F]=N.i(F)<<1|N.i(F-1)>>>31;return new l(A,N.h)}function J(N,I){var A=I>>5;I%=32;for(var F=N.g.length-A,j=[],B=0;B<F;B++)j[B]=0<I?N.i(B+A)>>>I|N.i(B+A+1)<<32-I:N.i(B+A);return new l(j,N.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,jS=l}).apply(typeof n0<"u"?n0:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,x){return d==Array.prototype||d==Object.prototype||(d[_]=x.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var _=0;_<d.length;++_){var x=d[_];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var i=t(this);function r(d,_){if(_)e:{var x=i;d=d.split(".");for(var P=0;P<d.length-1;P++){var V=d[P];if(!(V in x))break e;x=x[V]}d=d[d.length-1],P=x[d],_=_(P),_!=P&&_!=null&&e(x,d,{configurable:!0,writable:!0,value:_})}}function o(d,_){d instanceof String&&(d+="");var x=0,P=!1,V={next:function(){if(!P&&x<d.length){var X=x++;return{value:_(X,d[X]),done:!1}}return P=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}r("Array.prototype.values",function(d){return d||function(){return o(this,function(_,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function f(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function m(d,_,x){return d.call.apply(d.bind,arguments)}function y(d,_,x){if(!d)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,P),d.apply(_,V)}}return function(){return d.apply(_,arguments)}}function w(d,_,x){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,w.apply(null,arguments)}function b(d,_){var x=Array.prototype.slice.call(arguments,1);return function(){var P=x.slice();return P.push.apply(P,arguments),d.apply(this,P)}}function E(d,_){function x(){}x.prototype=_.prototype,d.aa=_.prototype,d.prototype=new x,d.prototype.constructor=d,d.Qb=function(P,V,X){for(var se=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)se[Ve-2]=arguments[Ve];return _.prototype[V].apply(P,se)}}function k(d){const _=d.length;if(0<_){const x=Array(_);for(let P=0;P<_;P++)x[P]=d[P];return x}return[]}function S(d,_){for(let x=1;x<arguments.length;x++){const P=arguments[x];if(h(P)){const V=d.length||0,X=P.length||0;d.length=V+X;for(let se=0;se<X;se++)d[V+se]=P[se]}else d.push(P)}}class R{constructor(_,x){this.i=_,this.j=x,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function O(d){return/^[\s\xa0]*$/.test(d)}function D(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function H(d){return H[" "](d),d}H[" "]=function(){};var q=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function J(d,_,x){for(const P in d)_.call(x,d[P],P,d)}function N(d,_){for(const x in d)_.call(void 0,d[x],x,d)}function I(d){const _={};for(const x in d)_[x]=d[x];return _}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(d,_){let x,P;for(let V=1;V<arguments.length;V++){P=arguments[V];for(x in P)d[x]=P[x];for(let X=0;X<A.length;X++)x=A[X],Object.prototype.hasOwnProperty.call(P,x)&&(d[x]=P[x])}}function j(d){var _=1;d=d.split(":");const x=[];for(;0<_&&d.length;)x.push(d.shift()),_--;return d.length&&x.push(d.join(":")),x}function B(d){c.setTimeout(()=>{throw d},0)}function M(){var d=pe;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class Oe{constructor(){this.h=this.g=null}add(_,x){const P=Te.get();P.set(_,x),this.h?this.h.next=P:this.g=P,this.h=P}}var Te=new R(()=>new ke,d=>d.reset());class ke{constructor(){this.next=this.g=this.h=null}set(_,x){this.h=_,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,re=!1,pe=new Oe,oe=()=>{const d=c.Promise.resolve(void 0);xe=()=>{d.then(W)}};var W=()=>{for(var d;d=M();){try{d.h.call(d.g)}catch(x){B(x)}var _=Te;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}re=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};c.addEventListener("test",x,_),c.removeEventListener("test",x,_)}catch{}return d}();function Se(d,_){if(he.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var x=this.type=d.type,P=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(q){e:{try{H(_.nodeName);var V=!0;break e}catch{}V=!1}V||(_=null)}}else x=="mouseover"?_=d.fromElement:x=="mouseout"&&(_=d.toElement);this.relatedTarget=_,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ee[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Se.aa.h.call(this)}}E(Se,he);var Ee={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),He=0;function Ye(d,_,x,P,V){this.listener=d,this.proxy=null,this.src=_,this.type=x,this.capture=!!P,this.ha=V,this.key=++He,this.da=this.fa=!1}function St(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Mi(d){this.src=d,this.g={},this.h=0}Mi.prototype.add=function(d,_,x,P,V){var X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);var se=wr(d,_,P,V);return-1<se?(_=d[se],x||(_.fa=!1)):(_=new Ye(_,this.src,X,!!P,V),_.fa=x,d.push(_)),_};function mo(d,_){var x=_.type;if(x in d.g){var P=d.g[x],V=Array.prototype.indexOf.call(P,_,void 0),X;(X=0<=V)&&Array.prototype.splice.call(P,V,1),X&&(St(_),d.g[x].length==0&&(delete d.g[x],d.h--))}}function wr(d,_,x,P){for(var V=0;V<d.length;++V){var X=d[V];if(!X.da&&X.listener==_&&X.capture==!!x&&X.ha==P)return V}return-1}var fs="closure_lm_"+(1e6*Math.random()|0),go={};function Ma(d,_,x,P,V){if(Array.isArray(_)){for(var X=0;X<_.length;X++)Ma(d,_[X],x,P,V);return null}return x=ja(x),d&&d[Be]?d.K(_,x,f(P)?!!P.capture:!1,V):La(d,_,x,!1,P,V)}function La(d,_,x,P,V,X){if(!_)throw Error("Invalid event type");var se=f(V)?!!V.capture:!!V,Ve=_o(d);if(Ve||(d[fs]=Ve=new Mi(d)),x=Ve.add(_,x,P,se,X),x.proxy)return x;if(P=Uc(),x.proxy=P,P.src=d,P.listener=x,d.addEventListener)ve||(V=se),V===void 0&&(V=!1),d.addEventListener(_.toString(),P,V);else if(d.attachEvent)d.attachEvent(Fi(_.toString()),P);else if(d.addListener&&d.removeListener)d.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Uc(){function d(x){return _.call(d.src,d.listener,x)}const _=Fa;return d}function yo(d,_,x,P,V){if(Array.isArray(_))for(var X=0;X<_.length;X++)yo(d,_[X],x,P,V);else P=f(P)?!!P.capture:!!P,x=ja(x),d&&d[Be]?(d=d.i,_=String(_).toString(),_ in d.g&&(X=d.g[_],x=wr(X,x,P,V),-1<x&&(St(X[x]),Array.prototype.splice.call(X,x,1),X.length==0&&(delete d.g[_],d.h--)))):d&&(d=_o(d))&&(_=d.g[_.toString()],d=-1,_&&(d=wr(_,x,P,V)),(x=-1<d?_[d]:null)&&Li(x))}function Li(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[Be])mo(_.i,d);else{var x=d.type,P=d.proxy;_.removeEventListener?_.removeEventListener(x,P,d.capture):_.detachEvent?_.detachEvent(Fi(x),P):_.addListener&&_.removeListener&&_.removeListener(P),(x=_o(_))?(mo(x,d),x.h==0&&(x.src=null,_[fs]=null)):St(d)}}}function Fi(d){return d in go?go[d]:go[d]="on"+d}function Fa(d,_){if(d.da)d=!0;else{_=new Se(_,this);var x=d.listener,P=d.ha||d.src;d.fa&&Li(d),d=x.call(P,_)}return d}function _o(d){return d=d[fs],d instanceof Mi?d:null}var vo="__closure_events_fn_"+(1e9*Math.random()>>>0);function ja(d){return typeof d=="function"?d:(d[vo]||(d[vo]=function(_){return d.handleEvent(_)}),d[vo])}function gt(){Z.call(this),this.i=new Mi(this),this.M=this,this.F=null}E(gt,Z),gt.prototype[Be]=!0,gt.prototype.removeEventListener=function(d,_,x,P){yo(this,d,_,x,P)};function yt(d,_){var x,P=d.F;if(P)for(x=[];P;P=P.F)x.push(P);if(d=d.M,P=_.type||_,typeof _=="string")_=new he(_,d);else if(_ instanceof he)_.target=_.target||d;else{var V=_;_=new he(P,d),F(_,V)}if(V=!0,x)for(var X=x.length-1;0<=X;X--){var se=_.g=x[X];V=ji(se,P,!0,_)&&V}if(se=_.g=d,V=ji(se,P,!0,_)&&V,V=ji(se,P,!1,_)&&V,x)for(X=0;X<x.length;X++)se=_.g=x[X],V=ji(se,P,!1,_)&&V}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var x=d.g[_],P=0;P<x.length;P++)St(x[P]);delete d.g[_],d.h--}}this.F=null},gt.prototype.K=function(d,_,x,P){return this.i.add(String(d),_,!1,x,P)},gt.prototype.L=function(d,_,x,P){return this.i.add(String(d),_,!0,x,P)};function ji(d,_,x,P){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var V=!0,X=0;X<_.length;++X){var se=_[X];if(se&&!se.da&&se.capture==x){var Ve=se.listener,_t=se.ha||se.src;se.fa&&mo(d.i,se),V=Ve.call(_t,P)!==!1&&V}}return V&&!P.defaultPrevented}function Ua(d,_,x){if(typeof d=="function")x&&(d=w(d,x));else if(d&&typeof d.handleEvent=="function")d=w(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:c.setTimeout(d,_||0)}function xr(d){d.g=Ua(()=>{d.g=null,d.i&&(d.i=!1,xr(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class ps extends Z{constructor(_,x){super(),this.m=_,this.l=x,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:xr(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(d){Z.call(this),this.h=d,this.g={}}E(ms,Z);var za=[];function Ba(d){J(d.g,function(_,x){this.g.hasOwnProperty(x)&&Li(_)},d),d.g={}}ms.prototype.N=function(){ms.aa.N.call(this),Ba(this)},ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ha=c.JSON.stringify,$a=c.JSON.parse,Wa=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function gs(){}gs.prototype.h=null;function wo(d){return d.h||(d.h=d.i())}function Va(){}var In={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function di(){he.call(this,"d")}E(di,he);function xo(){he.call(this,"c")}E(xo,he);var Ui={},Ga=null;function So(){return Ga=Ga||new gt}Ui.La="serverreachability";function Ka(d){he.call(this,Ui.La,d)}E(Ka,he);function zi(d){const _=So();yt(_,new Ka(_))}Ui.STAT_EVENT="statevent";function qa(d,_){he.call(this,Ui.STAT_EVENT,d),this.stat=_}E(qa,he);function ht(d){const _=So();yt(_,new qa(_,d))}Ui.Ma="timingevent";function Eo(d,_){he.call(this,Ui.Ma,d),this.size=_}E(Eo,he);function Hn(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},_)}function ys(){this.g=!0}ys.prototype.xa=function(){this.g=!1};function _s(d,_,x,P,V,X){d.info(function(){if(d.g)if(X)for(var se="",Ve=X.split("&"),_t=0;_t<Ve.length;_t++){var De=Ve[_t].split("=");if(1<De.length){var Et=De[0];De=De[1];var bt=Et.split("_");se=2<=bt.length&&bt[1]=="type"?se+(Et+"="+De+"&"):se+(Et+"=redacted&")}}else se=null;else se=X;return"XMLHTTP REQ ("+P+") [attempt "+V+"]: "+_+`
`+x+`
`+se})}function bo(d,_,x,P,V,X,se){d.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+V+"]: "+_+`
`+x+`
`+X+" "+se})}function $n(d,_,x,P){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Bd(d,x)+(P?" "+P:"")})}function Ya(d,_){d.info(function(){return"TIMEOUT: "+_})}ys.prototype.info=function(){};function Bd(d,_){if(!d.g)return _;if(!_)return null;try{var x=JSON.parse(_);if(x){for(d=0;d<x.length;d++)if(Array.isArray(x[d])){var P=x[d];if(!(2>P.length)){var V=P[1];if(Array.isArray(V)&&!(1>V.length)){var X=V[0];if(X!="noop"&&X!="stop"&&X!="close")for(var se=1;se<V.length;se++)V[se]=""}}}}return Ha(x)}catch{return _}}var Xa={NO_ERROR:0,TIMEOUT:8},Hd={},Wn;function vs(){}E(vs,gs),vs.prototype.g=function(){return new XMLHttpRequest},vs.prototype.i=function(){return{}},Wn=new vs;function Vn(d,_,x,P){this.j=d,this.i=_,this.l=x,this.R=P||1,this.U=new ms(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zc}function zc(){this.i=null,this.g="",this.h=!1}var Qa={},To={};function Co(d,_,x){d.L=1,d.v=Cr(wn(_)),d.m=x,d.P=!0,Ja(d,null)}function Ja(d,_){d.F=Date.now(),Xe(d),d.A=wn(d.v);var x=d.A,P=d.R;Array.isArray(P)||(P=[String(P)]),Ir(x.i,"t",P),d.C=0,x=d.j.J,d.h=new zc,d.g=ru(d.j,x?_:null,!d.m),0<d.O&&(d.M=new ps(w(d.Y,d,d.g),d.O)),_=d.U,x=d.g,P=d.ca;var V="readystatechange";Array.isArray(V)||(V&&(za[0]=V.toString()),V=za);for(var X=0;X<V.length;X++){var se=Ma(x,V[X],P||_.handleEvent,!1,_.h||_);if(!se)break;_.g[se.key]=se}_=d.H?I(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),zi(),_s(d.i,d.u,d.A,d.l,d.R,d.m)}Vn.prototype.ca=function(d){d=d.target;const _=this.M;_&&tn(d)==3?_.j():this.Y(d)},Vn.prototype.Y=function(d){try{if(d==this.g)e:{const bt=tn(this.g);var _=this.g.Ba();const yi=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||rl(this.g)))){this.J||bt!=4||_==7||(_==8||0>=yi?zi(3):zi(2)),ws(this);var x=this.g.Z();this.X=x;t:if(Bc(this)){var P=rl(this.g);d="";var V=P.length,X=tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pn(this),Sr(this);var se="";break t}this.h.i=new c.TextDecoder}for(_=0;_<V;_++)this.h.h=!0,d+=this.h.i.decode(P[_],{stream:!(X&&_==V-1)});P.length=0,this.h.g+=d,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=x==200,bo(this.i,this.u,this.A,this.l,this.R,bt,x),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,_t=this.g;if((Ve=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(Ve)){var De=Ve;break t}}De=null}if(x=De)$n(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Za(this,x);else{this.o=!1,this.s=3,ht(12),Pn(this),Sr(this);break e}}if(this.P){x=!0;let Ot;for(;!this.J&&this.C<se.length;)if(Ot=$d(this,se),Ot==To){bt==4&&(this.s=4,ht(14),x=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(Ot==Qa){this.s=4,ht(15),$n(this.i,this.l,se,"[Invalid Chunk]"),x=!1;break}else $n(this.i,this.l,Ot,null),Za(this,Ot);if(Bc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||se.length!=0||this.h.h||(this.s=1,ht(16),x=!1),this.o=this.o&&x,!x)$n(this.i,this.l,se,"[Invalid Chunked Response]"),Pn(this),Sr(this);else if(0<se.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),ol(Et),Et.M=!0,ht(11))}}else $n(this.i,this.l,se,null),Za(this,se);bt==4&&Pn(this),this.o&&!this.J&&(bt==4?Fo(this.j,this):(this.o=!1,Xe(this)))}else No(this.g),x==400&&0<se.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),Pn(this),Sr(this)}}}catch{}finally{}};function Bc(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function $d(d,_){var x=d.C,P=_.indexOf(`
`,x);return P==-1?To:(x=Number(_.substring(x,P)),isNaN(x)?Qa:(P+=1,P+x>_.length?To:(_=_.slice(P,P+x),d.C=P+x,_)))}Vn.prototype.cancel=function(){this.J=!0,Pn(this)};function Xe(d){d.S=Date.now()+d.I,Hc(d,d.I)}function Hc(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Hn(w(d.ba,d),_)}function ws(d){d.B&&(c.clearTimeout(d.B),d.B=null)}Vn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Ya(this.i,this.A),this.L!=2&&(zi(),ht(17)),Pn(this),this.s=2,Sr(this)):Hc(this,this.S-d)};function Sr(d){d.j.G==0||d.J||Fo(d.j,d)}function Pn(d){ws(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,Ba(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function Za(d,_){try{var x=d.j;if(x.G!=0&&(x.g==d||qt(x.h,d))){if(!d.K&&qt(x.h,d)&&x.G==3){try{var P=x.Da.g.parse(_)}catch{P=null}if(Array.isArray(P)&&P.length==3){var V=P;if(V[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<d.F)Lo(x),Xn(x);else break e;Mo(x),ht(18)}}else x.za=V[1],0<x.za-x.T&&37500>V[2]&&x.F&&x.v==0&&!x.C&&(x.C=Hn(w(x.Za,x),6e3));if(1>=Wc(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Vi(x,11)}else if((d.K||x.g==d)&&Lo(x),!O(_))for(V=x.Da.g.parse(_),_=0;_<V.length;_++){let De=V[_];if(x.T=De[0],De=De[1],x.G==2)if(De[0]=="c"){x.K=De[1],x.ia=De[2];const Et=De[3];Et!=null&&(x.la=Et,x.j.info("VER="+x.la));const bt=De[4];bt!=null&&(x.Aa=bt,x.j.info("SVER="+x.Aa));const yi=De[5];yi!=null&&typeof yi=="number"&&0<yi&&(P=1.5*yi,x.L=P,x.j.info("backChannelRequestTimeoutMs_="+P)),P=x;const Ot=d.g;if(Ot){const jo=Ot.g?Ot.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jo){var X=P.h;X.g||jo.indexOf("spdy")==-1&&jo.indexOf("quic")==-1&&jo.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(el(X,X.h),X.h=null))}if(P.D){const Uo=Ot.g?Ot.g.getResponseHeader("X-HTTP-Session-Id"):null;Uo&&(P.ya=Uo,qe(P.I,P.D,Uo))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-d.F,x.j.info("Handshake RTT: "+x.R+"ms")),P=x;var se=d;if(P.qa=iu(P,P.J?P.ia:null,P.W),se.K){Vc(P.h,se);var Ve=se,_t=P.L;_t&&(Ve.I=_t),Ve.B&&(ws(Ve),Xe(Ve)),P.g=se}else Cs(P);0<x.i.length&&gi(x)}else De[0]!="stop"&&De[0]!="close"||Vi(x,7);else x.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Vi(x,7):Nt(x):De[0]!="noop"&&x.l&&x.l.ta(De),x.v=0)}}zi(4)}catch{}}var $c=class{constructor(d,_){this.g=d,this.map=_}};function xs(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Wc(d){return d.h?1:d.g?d.g.size:0}function qt(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function el(d,_){d.g?d.g.add(_):d.h=_}function Vc(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}xs.prototype.cancel=function(){if(this.i=Gc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Gc(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const x of d.g.values())_=_.concat(x.D);return _}return k(d.i)}function ko(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var _=[],x=d.length,P=0;P<x;P++)_.push(d[P]);return _}_=[],x=0;for(P in d)_[x++]=d[P];return _}function Io(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var _=[];d=d.length;for(var x=0;x<d;x++)_.push(x);return _}_=[],x=0;for(const P in d)_[x++]=P;return _}}}function Er(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var x=Io(d),P=ko(d),V=P.length,X=0;X<V;X++)_.call(void 0,P[X],x&&x[X],d)}var Ss=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wd(d,_){if(d){d=d.split("&");for(var x=0;x<d.length;x++){var P=d[x].indexOf("="),V=null;if(0<=P){var X=d[x].substring(0,P);V=d[x].substring(P+1)}else X=d[x];_(X,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Bi(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Bi){this.h=d.h,Es(this,d.j),this.o=d.o,this.g=d.g,br(this,d.s),this.l=d.l;var _=d.i,x=new fi;x.i=_.i,_.g&&(x.g=new Map(_.g),x.h=_.h),Tr(this,x),this.m=d.m}else d&&(_=String(d).match(Ss))?(this.h=!1,Es(this,_[1]||"",!0),this.o=Re(_[2]||""),this.g=Re(_[3]||"",!0),br(this,_[4]),this.l=Re(_[5]||"",!0),Tr(this,_[6]||"",!0),this.m=Re(_[7]||"")):(this.h=!1,this.i=new fi(null,this.h))}Bi.prototype.toString=function(){var d=[],_=this.j;_&&d.push(kr(_,Po,!0),":");var x=this.g;return(x||_=="file")&&(d.push("//"),(_=this.o)&&d.push(kr(_,Po,!0),"@"),d.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&d.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(kr(x,x.charAt(0)=="/"?Yc:qc,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",kr(x,tl)),d.join("")};function wn(d){return new Bi(d)}function Es(d,_,x){d.j=x?Re(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function br(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function Tr(d,_,x){_ instanceof fi?(d.i=_,pi(d.i,d.h)):(x||(_=kr(_,Xc)),d.i=new fi(_,d.h))}function qe(d,_,x){d.i.set(_,x)}function Cr(d){return qe(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Re(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function kr(d,_,x){return typeof d=="string"?(d=encodeURI(d).replace(_,Kc),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Kc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Po=/[#\/\?@]/g,qc=/[#\?:]/g,Yc=/[#\?]/g,Xc=/[#\?@]/g,tl=/#/g;function fi(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function At(d){d.g||(d.g=new Map,d.h=0,d.i&&Wd(d.i,function(_,x){d.add(decodeURIComponent(_.replace(/\+/g," ")),x)}))}n=fi.prototype,n.add=function(d,_){At(this),this.i=null,d=Rn(this,d);var x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(_),this.h+=1,this};function Gn(d,_){At(d),_=Rn(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Kn(d,_){return At(d),_=Rn(d,_),d.g.has(_)}n.forEach=function(d,_){At(this),this.g.forEach(function(x,P){x.forEach(function(V){d.call(_,V,P,this)},this)},this)},n.na=function(){At(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),x=[];for(let P=0;P<_.length;P++){const V=d[P];for(let X=0;X<V.length;X++)x.push(_[P])}return x},n.V=function(d){At(this);let _=[];if(typeof d=="string")Kn(this,d)&&(_=_.concat(this.g.get(Rn(this,d))));else{d=Array.from(this.g.values());for(let x=0;x<d.length;x++)_=_.concat(d[x])}return _},n.set=function(d,_){return At(this),this.i=null,d=Rn(this,d),Kn(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function Ir(d,_,x){Gn(d,_),0<x.length&&(d.i=null,d.g.set(Rn(d,_),k(x)),d.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var x=0;x<_.length;x++){var P=_[x];const X=encodeURIComponent(String(P)),se=this.V(P);for(P=0;P<se.length;P++){var V=X;se[P]!==""&&(V+="="+encodeURIComponent(String(se[P]))),d.push(V)}}return this.i=d.join("&")};function Rn(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function pi(d,_){_&&!d.j&&(At(d),d.i=null,d.g.forEach(function(x,P){var V=P.toLowerCase();P!=V&&(Gn(this,P),Ir(this,V,x))},d)),d.j=_}function Vd(d,_){const x=new ys;if(c.Image){const P=new Image;P.onload=b(en,x,"TestLoadImage: loaded",!0,_,P),P.onerror=b(en,x,"TestLoadImage: error",!1,_,P),P.onabort=b(en,x,"TestLoadImage: abort",!1,_,P),P.ontimeout=b(en,x,"TestLoadImage: timeout",!1,_,P),c.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=d}else _(!1)}function Qc(d,_){const x=new ys,P=new AbortController,V=setTimeout(()=>{P.abort(),en(x,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:P.signal}).then(X=>{clearTimeout(V),X.ok?en(x,"TestPingServer: ok",!0,_):en(x,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(V),en(x,"TestPingServer: error",!1,_)})}function en(d,_,x,P,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),P(x)}catch{}}function Gd(){this.g=new Wa}function Jc(d,_,x){const P=x||"";try{Er(d,function(V,X){let se=V;f(V)&&(se=Ha(V)),_.push(P+X+"="+encodeURIComponent(se))})}catch(V){throw _.push(P+"type="+encodeURIComponent("_badmap")),V}}function Hi(d){this.l=d.Ub||null,this.j=d.eb||!1}E(Hi,gs),Hi.prototype.g=function(){return new bs(this.l,this.j)},Hi.prototype.i=function(d){return function(){return d}}({});function bs(d,_){gt.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(bs,gt),n=bs.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,Yn(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||c).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qn(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?qn(this):Yn(this),this.readyState==3&&Zc(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,qn(this))},n.Qa=function(d){this.g&&(this.response=d,qn(this))},n.ga=function(){this.g&&qn(this)};function qn(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Yn(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var x=_.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=_.next();return d.join(`\r
`)};function Yn(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function $i(d){let _="";return J(d,function(x,P){_+=P,_+=":",_+=x,_+=`\r
`}),_}function Pr(d,_,x){e:{for(P in x){var P=!1;break e}P=!0}P||(x=$i(x),typeof d=="string"?x!=null&&encodeURIComponent(String(x)):qe(d,_,x))}function st(d){gt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(st,gt);var Kd=/^https?$/i,nl=["POST","PUT"];n=st.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,x,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?wo(this.o):wo(Wn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(X){Ts(this,X);return}if(d=x||"",x=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var V in P)x.set(V,P[V]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const X of P.keys())x.set(X,P.get(X));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(x.keys()).find(X=>X.toLowerCase()=="content-type"),V=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(nl,_,void 0))||P||V||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,se]of x)this.g.setRequestHeader(X,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ao(this),this.u=!0,this.g.send(d),this.u=!1}catch(X){Ts(this,X)}};function Ts(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,Ro(d),xn(d)}function Ro(d){d.A||(d.A=!0,yt(d,"complete"),yt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,yt(this,"complete"),yt(this,"abort"),xn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xn(this,!0)),st.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?il(this):this.bb())},n.bb=function(){il(this)};function il(d){if(d.h&&typeof l<"u"&&(!d.v[1]||tn(d)!=4||d.Z()!=2)){if(d.u&&tn(d)==4)Ua(d.Ea,0,d);else if(yt(d,"readystatechange"),tn(d)==4){d.h=!1;try{const se=d.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var x;if(!(x=_)){var P;if(P=se===0){var V=String(d.D).match(Ss)[1]||null;!V&&c.self&&c.self.location&&(V=c.self.location.protocol.slice(0,-1)),P=!Kd.test(V?V.toLowerCase():"")}x=P}if(x)yt(d,"complete"),yt(d,"success");else{d.m=6;try{var X=2<tn(d)?d.g.statusText:""}catch{X=""}d.l=X+" ["+d.Z()+"]",Ro(d)}}finally{xn(d)}}}}function xn(d,_){if(d.g){Ao(d);const x=d.g,P=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||yt(d,"ready");try{x.onreadystatechange=P}catch{}}}function Ao(d){d.I&&(c.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function tn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<tn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),$a(_)}};function rl(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function No(d){const _={};d=(d.g&&2<=tn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<d.length;P++){if(O(d[P]))continue;var x=j(d[P]);const V=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const X=_[V]||[];_[V]=X,X.push(x)}N(_,function(P){return P.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(d,_,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||_}function sl(d){this.Aa=0,this.i=[],this.j=new ys,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mi("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mi("baseRetryDelayMs",5e3,d),this.cb=mi("retryDelaySeedMs",1e4,d),this.Wa=mi("forwardChannelMaxRetries",2,d),this.wa=mi("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new xs(d&&d.concurrentRequestLimit),this.Da=new Gd,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=sl.prototype,n.la=8,n.G=1,n.connect=function(d,_,x,P){ht(0),this.W=d,this.H=_||{},x&&P!==void 0&&(this.H.OSID=x,this.H.OAID=P),this.F=this.X,this.I=iu(this,null,this.W),gi(this)};function Nt(d){if(Oo(d),d.G==3){var _=d.U++,x=wn(d.I);if(qe(x,"SID",d.K),qe(x,"RID",_),qe(x,"TYPE","terminate"),Wi(d,x),_=new Vn(d,d.j,_),_.L=2,_.v=Cr(wn(x)),x=!1,c.navigator&&c.navigator.sendBeacon)try{x=c.navigator.sendBeacon(_.v.toString(),"")}catch{}!x&&c.Image&&(new Image().src=_.v,x=!0),x||(_.g=ru(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Xe(_)}nu(d)}function Xn(d){d.g&&(ol(d),d.g.cancel(),d.g=null)}function Oo(d){Xn(d),d.u&&(c.clearTimeout(d.u),d.u=null),Lo(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function gi(d){if(!vn(d.h)&&!d.s){d.s=!0;var _=d.Ga;xe||oe(),re||(xe(),re=!0),pe.add(_,d),d.B=0}}function qd(d,_){return Wc(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Hn(w(d.Ga,d,_),tu(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const V=new Vn(this,this.j,d);let X=this.o;if(this.S&&(X?(X=I(X),F(X,this.S)):X=this.S),this.m!==null||this.O||(V.H=X,X=null),this.P)e:{for(var _=0,x=0;x<this.i.length;x++){t:{var P=this.i[x];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(_+=P,4096<_){_=x;break e}if(_===4096||x===this.i.length-1){_=x+1;break e}}_=1e3}else _=1e3;_=Rr(this,V,_),x=wn(this.I),qe(x,"RID",d),qe(x,"CVER",22),this.D&&qe(x,"X-HTTP-Session-Id",this.D),Wi(this,x),X&&(this.O?_="headers="+encodeURIComponent(String($i(X)))+"&"+_:this.m&&Pr(x,this.m,X)),el(this.h,V),this.Ua&&qe(x,"TYPE","init"),this.P?(qe(x,"$req",_),qe(x,"SID","null"),V.T=!0,Co(V,x,null)):Co(V,x,_),this.G=2}}else this.G==3&&(d?Do(this,d):this.i.length==0||vn(this.h)||Do(this))};function Do(d,_){var x;_?x=_.l:x=d.U++;const P=wn(d.I);qe(P,"SID",d.K),qe(P,"RID",x),qe(P,"AID",d.T),Wi(d,P),d.m&&d.o&&Pr(P,d.m,d.o),x=new Vn(d,d.j,x,d.B+1),d.m===null&&(x.H=d.o),_&&(d.i=_.D.concat(d.i)),_=Rr(d,x,1e3),x.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),el(d.h,x),Co(x,P,_)}function Wi(d,_){d.H&&J(d.H,function(x,P){qe(_,P,x)}),d.l&&Er({},function(x,P){qe(_,P,x)})}function Rr(d,_,x){x=Math.min(d.i.length,x);var P=d.l?w(d.l.Na,d.l,d):null;e:{var V=d.i;let X=-1;for(;;){const se=["count="+x];X==-1?0<x?(X=V[0].g,se.push("ofs="+X)):X=0:se.push("ofs="+X);let Ve=!0;for(let _t=0;_t<x;_t++){let De=V[_t].g;const Et=V[_t].map;if(De-=X,0>De)X=Math.max(0,V[_t].g-100),Ve=!1;else try{Jc(Et,se,"req"+De+"_")}catch{P&&P(Et)}}if(Ve){P=se.join("&");break e}}}return d=d.i.splice(0,x),_.D=d,P}function Cs(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;xe||oe(),re||(xe(),re=!0),pe.add(_,d),d.v=0}}function Mo(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Hn(w(d.Fa,d),tu(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,eu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Hn(w(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),Xn(this),eu(this))};function ol(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function eu(d){d.g=new Vn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=wn(d.qa);qe(_,"RID","rpc"),qe(_,"SID",d.K),qe(_,"AID",d.T),qe(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&qe(_,"TO",d.ja),qe(_,"TYPE","xmlhttp"),Wi(d,_),d.m&&d.o&&Pr(_,d.m,d.o),d.L&&(d.g.I=d.L);var x=d.g;d=d.ia,x.L=1,x.v=Cr(wn(_)),x.m=null,x.P=!0,Ja(x,d)}n.Za=function(){this.C!=null&&(this.C=null,Xn(this),Mo(this),ht(19))};function Lo(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Fo(d,_){var x=null;if(d.g==_){Lo(d),ol(d),d.g=null;var P=2}else if(qt(d.h,_))x=_.D,Vc(d.h,_),P=1;else return;if(d.G!=0){if(_.o)if(P==1){x=_.m?_.m.length:0,_=Date.now()-_.F;var V=d.B;P=So(),yt(P,new Eo(P,x)),gi(d)}else Cs(d);else if(V=_.s,V==3||V==0&&0<_.X||!(P==1&&qd(d,_)||P==2&&Mo(d)))switch(x&&0<x.length&&(_=d.h,_.i=_.i.concat(x)),V){case 1:Vi(d,5);break;case 4:Vi(d,10);break;case 3:Vi(d,6);break;default:Vi(d,2)}}}function tu(d,_){let x=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(x*=2),x*_}function Vi(d,_){if(d.j.info("Error code "+_),_==2){var x=w(d.fb,d),P=d.Xa;const V=!P;P=new Bi(P||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Es(P,"https"),Cr(P),V?Vd(P.toString(),x):Qc(P.toString(),x)}else ht(2);d.G=0,d.l&&d.l.sa(_),nu(d),Oo(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function nu(d){if(d.G=0,d.ka=[],d.l){const _=Gc(d.h);(_.length!=0||d.i.length!=0)&&(S(d.ka,_),S(d.ka,d.i),d.h.i.length=0,k(d.i),d.i.length=0),d.l.ra()}}function iu(d,_,x){var P=x instanceof Bi?wn(x):new Bi(x);if(P.g!="")_&&(P.g=_+"."+P.g),br(P,P.s);else{var V=c.location;P=V.protocol,_=_?_+"."+V.hostname:V.hostname,V=+V.port;var X=new Bi(null);P&&Es(X,P),_&&(X.g=_),V&&br(X,V),x&&(X.l=x),P=X}return x=d.D,_=d.ya,x&&_&&qe(P,x,_),qe(P,"VER",d.la),Wi(d,P),P}function ru(d,_,x){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new st(new Hi({eb:x})):new st(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function al(){}n=al.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function nn(d,_){gt.call(this),this.g=new sl(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!O(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!O(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Ar(this)}E(nn,gt),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Nt(this.g)},nn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.u&&(x={},x.__data__=Ha(d),d=x);_.i.push(new $c(_.Ya++,d)),_.G==3&&gi(_)},nn.prototype.N=function(){this.g.l=null,delete this.j,Nt(this.g),delete this.g,nn.aa.N.call(this)};function su(d){di.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const x in _){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}E(su,di);function ou(){xo.call(this),this.status=1}E(ou,xo);function Ar(d){this.g=d}E(Ar,al),Ar.prototype.ua=function(){yt(this.g,"a")},Ar.prototype.ta=function(d){yt(this.g,new su(d))},Ar.prototype.sa=function(d){yt(this.g,new ou)},Ar.prototype.ra=function(){yt(this.g,"b")},nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,Xa.NO_ERROR=0,Xa.TIMEOUT=8,Xa.HTTP_ERROR=6,Hd.COMPLETE="complete",Va.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",gt.prototype.listen=gt.prototype.K,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});const i0="@firebase/firestore",r0="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new gd("@firebase/firestore");function ri(n,...e){if(ya.logLevel<=$e.DEBUG){const t=e.map(pg);ya.debug(`Firestore (${Pc}): ${n}`,...t)}}function US(n,...e){if(ya.logLevel<=$e.ERROR){const t=e.map(pg);ya.error(`Firestore (${Pc}): ${n}`,...t)}}function lA(n,...e){if(ya.logLevel<=$e.WARN){const t=e.map(pg);ya.warn(`Firestore (${Pc}): ${n}`,...t)}}function pg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(n="Unexpected state"){const e=`FIRESTORE (${Pc}) INTERNAL ASSERTION FAILED: `+n;throw US(e),new Error(e)}function Xl(n,e){n||mg()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class fn extends _r{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qt.UNAUTHENTICATED))}shutdown(){}}class uA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class hA{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xl(this.o===void 0);let i=this.i;const r=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let o=new Ql;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ql,e.enqueueRetryable(()=>r(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await r(this.currentUser)})},c=h=>{ri("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(ri("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ql)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ri("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xl(typeof i.accessToken=="string"),new zS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xl(e===null||typeof e=="string"),new Qt(e)}}class dA{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class fA{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new dA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class s0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pA{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,hn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Xl(this.o===void 0);const i=o=>{o.error!=null&&ri("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,ri("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{ri("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):ri("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new s0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xl(typeof t.token=="string"),this.R=t.token,new s0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function mA(n){return n.name==="IndexedDbTransactionError"}const lm="(default)";class Wh{constructor(e,t){this.projectId=e,this.database=t||lm}static empty(){return new Wh("","")}get isDefaultDatabase(){return this.database===lm}isEqual(e){return e instanceof Wh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o0,Me;(Me=o0||(o0={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new jS([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=1048576;function Pp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,t,i=1e3,r=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=r,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-i);r>0&&ri("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ql,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){const l=Date.now()+i,c=new gg(e,t,l,r,o);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fn(dn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var a0,l0;(l0=a0||(a0={}))._a="default",l0.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=new Map;function wA(n,e,t,i){if(e===!0&&i===!0)throw new fn(dn.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function xA(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":mg()}function SA(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fn(dn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=xA(n);throw new fn(dn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="firestore.googleapis.com",u0=!0;class h0{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new fn(dn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BS,this.ssl=u0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:u0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yA)throw new fn(dn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vA((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new fn(dn.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new fn(dn.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new fn(dn.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class HS{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fn(dn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fn(dn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new cA;switch(i.type){case"firstParty":return new fA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new fn(dn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=c0.get(t);i&&(ri("ComponentProvider","Removing Datastore"),c0.delete(t),i.terminate())}(this),Promise.resolve()}}function EA(n,e,t,i={}){var r;const o=(n=SA(n,HS))._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o.host!==BS&&o.host!==c&&lA("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},o),{host:c,ssl:!1,emulatorOptions:i});if(!rs(h,l)&&(n._setSettings(h),i.mockUserToken)){let f,m;if(typeof i.mockUserToken=="string")f=i.mockUserToken,m=Qt.MOCK_USER;else{f=Xx(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new fn(dn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Qt(y)}n._authCredentials=new uA(new zS(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="AsyncQueue";class f0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new _A(this,"async_queue_retry"),this.Su=()=>{const i=Pp();i&&ri(d0,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=Pp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Pp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ql;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!mA(e))throw e;ri(d0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const r=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(i);throw US("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=gg.createAndSchedule(this,e,t,i,o=>this.Fu(o));return this.fu.push(r),r}Du(){this.gu&&mg()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class bA extends HS{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new f0,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new f0(e),this._firestoreClient=void 0,await e}}}function TA(n,e){const t=typeof n=="object"?n:ng(),i=typeof n=="string"?n:lm,r=yd(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=Kx("firestore");o&&EA(r,...o)}return r}(function(e,t=!0){(function(r){Pc=r})(co),eo(new ss("firestore",(i,{instanceIdentifier:r,options:o})=>{const l=i.getProvider("app").getImmediate(),c=new bA(new hA(i.getProvider("auth-internal")),new pA(l,i.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new fn(dn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wh(f.options.projectId,m)}(l,r),l);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Ri(i0,r0,e),Ri(i0,r0,"esm2017")})();const CA={apiKey:"AIzaSyD5V90EN8UfqWhNhbfZ3p9FnWgLp92EnAI",authDomain:"login-79500.firebaseapp.com",projectId:"login-79500",storageBucket:"login-79500.appspot.com",messagingSenderId:"440640521265",appId:"1:440640521265:web:1520b83f658d769a380110"},$S=tg(CA),kA=FS($S),IA=TA($S);try{IA.enablePersistence({synchronizeTabs:!0}).catch(n=>{n.code==="failed-precondition"?console.warn("Multiple tabs open, persistence can only be enabled in one tab at a time."):n.code==="unimplemented"&&console.warn("The current browser does not support all of the features required to enable persistence")})}catch(n){console.error("Error enabling persistence:",n)}const WS=U.createContext(),PA=()=>{const{user:n}=U.useContext(WS),e=Ta(),t=()=>{kA.signOut().then(()=>{console.log("User signed out"),e("/")}).catch(i=>{console.error("Error signing out: ",i)})};return C.jsxs("div",{className:"Navbar",children:[C.jsx(Ht,{to:"/",children:C.jsx("img",{src:W1,className:"logo",alt:"Logo"})}),C.jsxs("ul",{children:[C.jsx(Ht,{to:"/",children:C.jsx("li",{children:"Home"})}),C.jsx("li",{children:"Features"}),C.jsxs("li",{className:"dropdown-2",children:[C.jsx("span",{children:"Commodities Market"}),C.jsxs("ul",{className:"dropdown-menu-2",children:[C.jsx(Ht,{to:"/Gold",children:C.jsx("li",{className:"gold",children:"Gold"})}),C.jsx(Ht,{to:"/Silver",children:C.jsx("li",{className:"silver",children:"Silver"})}),C.jsx(Ht,{to:"/Platinum",children:C.jsx("li",{className:"platinum",children:"Platinum"})})]})]}),C.jsxs("li",{className:"dropdown",children:[C.jsx("span",{children:"News"}),C.jsxs("ul",{className:"dropdown-menu",children:[C.jsx(Ht,{to:"/LatestNews",children:C.jsx("li",{children:"Latest News"})}),C.jsx(Ht,{to:"/competition",children:C.jsx("li",{children:"Competition"})}),C.jsx(Ht,{to:"/community",children:C.jsx("li",{children:"Community"})})]})]}),n&&C.jsx(Ht,{to:"/favorites",children:C.jsx("li",{children:"Favorites"})})]}),C.jsx("div",{className:"nav-right",children:n?C.jsx("button",{onClick:t,children:"Logout"}):C.jsxs("button",{children:[C.jsx(Ht,{to:"/Login",children:"Login"}),C.jsx("img",{src:V1,className:"Arrow",alt:"Arrow"})]})})]})},uo=()=>C.jsx("div",{className:"loading-overlay",children:C.jsx("div",{className:"spinner"})});function VS(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=VS(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Qs(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=VS(n))&&(i&&(i+=" "),i+=e);return i}function RA(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}RA(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Rc=n=>typeof n=="number"&&!isNaN(n),io=n=>typeof n=="string",mr=n=>typeof n=="function",AA=n=>io(n)||Rc(n),cm=n=>io(n)||mr(n)?n:null,NA=(n,e)=>n===!1||Rc(n)&&n>0?n:e,um=n=>U.isValidElement(n)||io(n)||mr(n)||Rc(n);function OA(n,e,t=300){let{scrollHeight:i,style:r}=n;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${t}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(e,t)})})}function DA({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:r=300}){return function({children:o,position:l,preventExitTransition:c,done:h,nodeRef:f,isIn:m,playToast:y}){let w=t?`${n}--${l}`:n,b=t?`${e}--${l}`:e,E=U.useRef(0);return U.useLayoutEffect(()=>{let k=f.current,S=w.split(" "),R=O=>{O.target===f.current&&(y(),k.removeEventListener("animationend",R),k.removeEventListener("animationcancel",R),E.current===0&&O.type!=="animationcancel"&&k.classList.remove(...S))};k.classList.add(...S),k.addEventListener("animationend",R),k.addEventListener("animationcancel",R)},[]),U.useEffect(()=>{let k=f.current,S=()=>{k.removeEventListener("animationend",S),i?OA(k,h,r):h()};m||(c?S():(E.current=1,k.className+=` ${b}`,k.addEventListener("animationend",S)))},[m]),ze.createElement(ze.Fragment,null,o)}}function p0(n,e){return{content:GS(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function GS(n,e,t=!1){return U.isValidElement(n)&&!io(n.type)?U.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):mr(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function MA({closeToast:n,theme:e,ariaLabel:t="close"}){return ze.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},ze.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ze.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function LA({delay:n,isRunning:e,closeToast:t,type:i="default",hide:r,className:o,controlledProgress:l,progress:c,rtl:h,isIn:f,theme:m}){let y=r||l&&c===0,w={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};l&&(w.transform=`scaleX(${c})`);let b=Qs("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":h}),E=mr(o)?o({rtl:h,type:i,defaultClassName:b}):Qs(b,o),k={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{f&&t()}};return ze.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},ze.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${i}`}),ze.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:E,style:w,...k}))}var FA=1,KS=()=>`${FA++}`;function jA(n,e,t){let i=1,r=0,o=[],l=[],c=e,h=new Map,f=new Set,m=O=>(f.add(O),()=>f.delete(O)),y=()=>{l=Array.from(h.values()),f.forEach(O=>O())},w=({containerId:O,toastId:D,updateId:H})=>{let q=O?O!==n:n!==1,J=h.has(D)&&H==null;return q||J},b=(O,D)=>{h.forEach(H=>{var q;(D==null||D===H.props.toastId)&&((q=H.toggle)==null||q.call(H,O))})},E=O=>{var D,H;(H=(D=O.props)==null?void 0:D.onClose)==null||H.call(D,O.removalReason),O.isActive=!1},k=O=>{if(O==null)h.forEach(E);else{let D=h.get(O);D&&E(D)}y()},S=()=>{r-=o.length,o=[]},R=O=>{var D,H;let{toastId:q,updateId:J}=O.props,N=J==null;O.staleId&&h.delete(O.staleId),O.isActive=!0,h.set(q,O),y(),t(p0(O,N?"added":"updated")),N&&((H=(D=O.props).onOpen)==null||H.call(D))};return{id:n,props:c,observe:m,toggle:b,removeToast:k,toasts:h,clearQueue:S,buildToast:(O,D)=>{if(w(D))return;let{toastId:H,updateId:q,data:J,staleId:N,delay:I}=D,A=q==null;A&&r++;let F={...c,style:c.toastStyle,key:i++,...Object.fromEntries(Object.entries(D).filter(([B,M])=>M!=null)),toastId:H,updateId:q,data:J,isIn:!1,className:cm(D.className||c.toastClassName),progressClassName:cm(D.progressClassName||c.progressClassName),autoClose:D.isLoading?!1:NA(D.autoClose,c.autoClose),closeToast(B){h.get(H).removalReason=B,k(H)},deleteToast(){let B=h.get(H);if(B!=null){if(t(p0(B,"removed")),h.delete(H),r--,r<0&&(r=0),o.length>0){R(o.shift());return}y()}}};F.closeButton=c.closeButton,D.closeButton===!1||um(D.closeButton)?F.closeButton=D.closeButton:D.closeButton===!0&&(F.closeButton=um(c.closeButton)?c.closeButton:!0);let j={content:O,props:F,staleId:N};c.limit&&c.limit>0&&r>c.limit&&A?o.push(j):Rc(I)?setTimeout(()=>{R(j)},I):R(j)},setProps(O){c=O},setToggle:(O,D)=>{let H=h.get(O);H&&(H.toggle=D)},isToastActive:O=>{var D;return(D=h.get(O))==null?void 0:D.isActive},getSnapshot:()=>l}}var Jt=new Map,dc=[],hm=new Set,UA=n=>hm.forEach(e=>e(n)),qS=()=>Jt.size>0;function zA(){dc.forEach(n=>XS(n.content,n.options)),dc=[]}var BA=(n,{containerId:e})=>{var t;return(t=Jt.get(e||1))==null?void 0:t.toasts.get(n)};function YS(n,e){var t;if(e)return!!((t=Jt.get(e))!=null&&t.isToastActive(n));let i=!1;return Jt.forEach(r=>{r.isToastActive(n)&&(i=!0)}),i}function HA(n){if(!qS()){dc=dc.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||AA(n))Jt.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Jt.get(n.containerId);e?e.removeToast(n.id):Jt.forEach(t=>{t.removeToast(n.id)})}}var $A=(n={})=>{Jt.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function XS(n,e){um(n)&&(qS()||dc.push({content:n,options:e}),Jt.forEach(t=>{t.buildToast(n,e)}))}function WA(n){var e;(e=Jt.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function QS(n,e){Jt.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function VA(n){let e=n.containerId||1;return{subscribe(t){let i=jA(e,n,UA);Jt.set(e,i);let r=i.observe(t);return zA(),()=>{r(),Jt.delete(e)}},setProps(t){var i;(i=Jt.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=Jt.get(e))==null?void 0:t.getSnapshot()}}}function GA(n){return hm.add(n),()=>{hm.delete(n)}}function KA(n){return n&&(io(n.toastId)||Rc(n.toastId))?n.toastId:KS()}function Ac(n,e){return XS(n,e),e.toastId}function xd(n,e){return{...e,type:e&&e.type||n,toastId:KA(e)}}function Sd(n){return(e,t)=>Ac(e,xd(n,t))}function _e(n,e){return Ac(n,xd("default",e))}_e.loading=(n,e)=>Ac(n,xd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function qA(n,{pending:e,error:t,success:i},r){let o;e&&(o=io(e)?_e.loading(e,r):_e.loading(e.render,{...r,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(f,m,y)=>{if(m==null){_e.dismiss(o);return}let w={type:f,...l,...r,data:y},b=io(m)?{render:m}:m;return o?_e.update(o,{...w,...b}):_e(b.render,{...w,...b}),y},h=mr(n)?n():n;return h.then(f=>c("success",i,f)).catch(f=>c("error",t,f)),h}_e.promise=qA;_e.success=Sd("success");_e.info=Sd("info");_e.error=Sd("error");_e.warning=Sd("warning");_e.warn=_e.warning;_e.dark=(n,e)=>Ac(n,xd("default",{theme:"dark",...e}));function YA(n){HA(n)}_e.dismiss=YA;_e.clearWaitingQueue=$A;_e.isActive=YS;_e.update=(n,e={})=>{let t=BA(n,e);if(t){let{props:i,content:r}=t,o={delay:100,...i,...e,toastId:e.toastId||n,updateId:KS()};o.toastId!==n&&(o.staleId=n);let l=o.render||r;delete o.render,Ac(l,o)}};_e.done=n=>{_e.update(n,{progress:1})};_e.onChange=GA;_e.play=n=>QS(!0,n);_e.pause=n=>QS(!1,n);function XA(n){var e;let{subscribe:t,getSnapshot:i,setProps:r}=U.useRef(VA(n)).current;r(n);let o=(e=U.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function l(c){if(!o)return[];let h=new Map;return n.newestOnTop&&o.reverse(),o.forEach(f=>{let{position:m}=f.props;h.has(m)||h.set(m,[]),h.get(m).push(f)}),Array.from(h,f=>c(f[0],f[1]))}return{getToastToRender:l,isToastActive:YS,count:o==null?void 0:o.length}}function QA(n){let[e,t]=U.useState(!1),[i,r]=U.useState(!1),o=U.useRef(null),l=U.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:h,closeToast:f,onClick:m,closeOnClick:y}=n;WA({id:n.toastId,containerId:n.containerId,fn:t}),U.useEffect(()=>{if(n.pauseOnFocusLoss)return w(),()=>{b()}},[n.pauseOnFocusLoss]);function w(){document.hasFocus()||R(),window.addEventListener("focus",S),window.addEventListener("blur",R)}function b(){window.removeEventListener("focus",S),window.removeEventListener("blur",R)}function E(N){if(n.draggable===!0||n.draggable===N.pointerType){O();let I=o.current;l.canCloseOnClick=!0,l.canDrag=!0,I.style.transition="none",n.draggableDirection==="x"?(l.start=N.clientX,l.removalDistance=I.offsetWidth*(n.draggablePercent/100)):(l.start=N.clientY,l.removalDistance=I.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function k(N){let{top:I,bottom:A,left:F,right:j}=o.current.getBoundingClientRect();N.nativeEvent.type!=="touchend"&&n.pauseOnHover&&N.clientX>=F&&N.clientX<=j&&N.clientY>=I&&N.clientY<=A?R():S()}function S(){t(!0)}function R(){t(!1)}function O(){l.didMove=!1,document.addEventListener("pointermove",H),document.addEventListener("pointerup",q)}function D(){document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",q)}function H(N){let I=o.current;if(l.canDrag&&I){l.didMove=!0,e&&R(),n.draggableDirection==="x"?l.delta=N.clientX-l.start:l.delta=N.clientY-l.start,l.start!==N.clientX&&(l.canCloseOnClick=!1);let A=n.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;I.style.transform=`translate3d(${A},0)`,I.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function q(){D();let N=o.current;if(l.canDrag&&l.didMove&&N){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){r(!0),n.closeToast(!0),n.collapseAll();return}N.style.transition="transform 0.2s, opacity 0.2s",N.style.removeProperty("transform"),N.style.removeProperty("opacity")}}let J={onPointerDown:E,onPointerUp:k};return c&&h&&(J.onMouseEnter=R,n.stacked||(J.onMouseLeave=S)),y&&(J.onClick=N=>{m&&m(N),l.canCloseOnClick&&f(!0)}),{playToast:S,pauseToast:R,isRunning:e,preventExitTransition:i,toastRef:o,eventHandlers:J}}var JA=typeof window<"u"?U.useLayoutEffect:U.useEffect,Ed=({theme:n,type:e,isLoading:t,...i})=>ze.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function ZA(n){return ze.createElement(Ed,{...n},ze.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function e2(n){return ze.createElement(Ed,{...n},ze.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function t2(n){return ze.createElement(Ed,{...n},ze.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function n2(n){return ze.createElement(Ed,{...n},ze.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function i2(){return ze.createElement("div",{className:"Toastify__spinner"})}var dm={info:e2,warning:ZA,success:t2,error:n2,spinner:i2},r2=n=>n in dm;function s2({theme:n,type:e,isLoading:t,icon:i}){let r=null,o={theme:n,type:e};return i===!1||(mr(i)?r=i({...o,isLoading:t}):U.isValidElement(i)?r=U.cloneElement(i,o):t?r=dm.spinner():r2(e)&&(r=dm[e](o))),r}var o2=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:r,playToast:o}=QA(n),{closeButton:l,children:c,autoClose:h,onClick:f,type:m,hideProgressBar:y,closeToast:w,transition:b,position:E,className:k,style:S,progressClassName:R,updateId:O,role:D,progress:H,rtl:q,toastId:J,deleteToast:N,isIn:I,isLoading:A,closeOnClick:F,theme:j,ariaLabel:B}=n,M=Qs("Toastify__toast",`Toastify__toast-theme--${j}`,`Toastify__toast--${m}`,{"Toastify__toast--rtl":q},{"Toastify__toast--close-on-click":F}),Oe=mr(k)?k({rtl:q,position:E,type:m,defaultClassName:M}):Qs(M,k),Te=s2(n),ke=!!H||!h,xe={closeToast:w,type:m,theme:j},re=null;return l===!1||(mr(l)?re=l(xe):U.isValidElement(l)?re=U.cloneElement(l,xe):re=MA(xe)),ze.createElement(b,{isIn:I,done:N,position:E,preventExitTransition:t,nodeRef:i,playToast:o},ze.createElement("div",{id:J,tabIndex:0,onClick:f,"data-in":I,className:Oe,...r,style:S,ref:i,...I&&{role:D,"aria-label":B}},Te!=null&&ze.createElement("div",{className:Qs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!A})},Te),GS(c,n,!e),re,!n.customProgressBar&&ze.createElement(LA,{...O&&!ke?{key:`p-${O}`}:{},rtl:q,theme:j,delay:h,isRunning:e,isIn:I,closeToast:w,hide:y,type:m,className:R,controlledProgress:ke,progress:H||0})))},a2=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),l2=DA(a2("bounce",!0)),c2={position:"top-right",transition:l2,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function u2(n){let e={...c2,...n},t=n.stacked,[i,r]=U.useState(!0),o=U.useRef(null),{getToastToRender:l,isToastActive:c,count:h}=XA(e),{className:f,style:m,rtl:y,containerId:w,hotKeys:b}=e;function E(S){let R=Qs("Toastify__toast-container",`Toastify__toast-container--${S}`,{"Toastify__toast-container--rtl":y});return mr(f)?f({position:S,rtl:y,defaultClassName:R}):Qs(R,cm(f))}function k(){t&&(r(!0),_e.play())}return JA(()=>{var S;if(t){let R=o.current.querySelectorAll('[data-in="true"]'),O=12,D=(S=e.position)==null?void 0:S.includes("top"),H=0,q=0;Array.from(R).reverse().forEach((J,N)=>{let I=J;I.classList.add("Toastify__toast--stacked"),N>0&&(I.dataset.collapsed=`${i}`),I.dataset.pos||(I.dataset.pos=D?"top":"bot");let A=H*(i?.2:1)+(i?0:O*N);I.style.setProperty("--y",`${D?A:A*-1}px`),I.style.setProperty("--g",`${O}`),I.style.setProperty("--s",`${1-(i?q:0)}`),H+=I.offsetHeight,q+=.025})}},[i,h,t]),U.useEffect(()=>{function S(R){var O;let D=o.current;b(R)&&((O=D.querySelector('[tabIndex="0"]'))==null||O.focus(),r(!1),_e.pause()),R.key==="Escape"&&(document.activeElement===D||D!=null&&D.contains(document.activeElement))&&(r(!0),_e.play())}return document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)}},[b]),ze.createElement("section",{ref:o,className:"Toastify",id:w,onMouseEnter:()=>{t&&(r(!1),_e.pause())},onMouseLeave:k,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((S,R)=>{let O=R.length?{...m}:{...m,pointerEvents:"none"};return ze.createElement("div",{tabIndex:-1,className:E(S),"data-stacked":t,style:O,key:`c-${S}`},R.map(({content:D,props:H})=>ze.createElement(o2,{...H,stacked:t,collapseAll:k,isIn:c(H.toastId,H.containerId),key:`t-${H.key}`},D)))}))}function JS(n,e){return function(){return n.apply(e,arguments)}}const{toString:h2}=Object.prototype,{getPrototypeOf:yg}=Object,bd=(n=>e=>{const t=h2.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),hi=n=>(n=n.toLowerCase(),e=>bd(e)===n),Td=n=>e=>typeof e===n,{isArray:Pa}=Array,fc=Td("undefined");function d2(n){return n!==null&&!fc(n)&&n.constructor!==null&&!fc(n.constructor)&&Cn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const ZS=hi("ArrayBuffer");function f2(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&ZS(n.buffer),e}const p2=Td("string"),Cn=Td("function"),eE=Td("number"),Cd=n=>n!==null&&typeof n=="object",m2=n=>n===!0||n===!1,Th=n=>{if(bd(n)!=="object")return!1;const e=yg(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},g2=hi("Date"),y2=hi("File"),_2=hi("Blob"),v2=hi("FileList"),w2=n=>Cd(n)&&Cn(n.pipe),x2=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Cn(n.append)&&((e=bd(n))==="formdata"||e==="object"&&Cn(n.toString)&&n.toString()==="[object FormData]"))},S2=hi("URLSearchParams"),[E2,b2,T2,C2]=["ReadableStream","Request","Response","Headers"].map(hi),k2=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Nc(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,r;if(typeof n!="object"&&(n=[n]),Pa(n))for(i=0,r=n.length;i<r;i++)e.call(null,n[i],i,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),l=o.length;let c;for(i=0;i<l;i++)c=o[i],e.call(null,n[c],c,n)}}function tE(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,r;for(;i-- >0;)if(r=t[i],e===r.toLowerCase())return r;return null}const Ks=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,nE=n=>!fc(n)&&n!==Ks;function fm(){const{caseless:n}=nE(this)&&this||{},e={},t=(i,r)=>{const o=n&&tE(e,r)||r;Th(e[o])&&Th(i)?e[o]=fm(e[o],i):Th(i)?e[o]=fm({},i):Pa(i)?e[o]=i.slice():e[o]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&Nc(arguments[i],t);return e}const I2=(n,e,t,{allOwnKeys:i}={})=>(Nc(e,(r,o)=>{t&&Cn(r)?n[o]=JS(r,t):n[o]=r},{allOwnKeys:i}),n),P2=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),R2=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},A2=(n,e,t,i)=>{let r,o,l;const c={};if(e=e||{},n==null)return e;do{for(r=Object.getOwnPropertyNames(n),o=r.length;o-- >0;)l=r[o],(!i||i(l,n,e))&&!c[l]&&(e[l]=n[l],c[l]=!0);n=t!==!1&&yg(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},N2=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},O2=n=>{if(!n)return null;if(Pa(n))return n;let e=n.length;if(!eE(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},D2=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&yg(Uint8Array)),M2=(n,e)=>{const i=(n&&n[Symbol.iterator]).call(n);let r;for(;(r=i.next())&&!r.done;){const o=r.value;e.call(n,o[0],o[1])}},L2=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},F2=hi("HTMLFormElement"),j2=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,r){return i.toUpperCase()+r}),m0=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),U2=hi("RegExp"),iE=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};Nc(t,(r,o)=>{let l;(l=e(r,o,n))!==!1&&(i[o]=l||r)}),Object.defineProperties(n,i)},z2=n=>{iE(n,(e,t)=>{if(Cn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(Cn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},B2=(n,e)=>{const t={},i=r=>{r.forEach(o=>{t[o]=!0})};return Pa(n)?i(n):i(String(n).split(e)),t},H2=()=>{},$2=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function W2(n){return!!(n&&Cn(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const V2=n=>{const e=new Array(10),t=(i,r)=>{if(Cd(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const o=Pa(i)?[]:{};return Nc(i,(l,c)=>{const h=t(l,r+1);!fc(h)&&(o[c]=h)}),e[r]=void 0,o}}return i};return t(n,0)},G2=hi("AsyncFunction"),K2=n=>n&&(Cd(n)||Cn(n))&&Cn(n.then)&&Cn(n.catch),rE=((n,e)=>n?setImmediate:e?((t,i)=>(Ks.addEventListener("message",({source:r,data:o})=>{r===Ks&&o===t&&i.length&&i.shift()()},!1),r=>{i.push(r),Ks.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Cn(Ks.postMessage)),q2=typeof queueMicrotask<"u"?queueMicrotask.bind(Ks):typeof process<"u"&&process.nextTick||rE,Q={isArray:Pa,isArrayBuffer:ZS,isBuffer:d2,isFormData:x2,isArrayBufferView:f2,isString:p2,isNumber:eE,isBoolean:m2,isObject:Cd,isPlainObject:Th,isReadableStream:E2,isRequest:b2,isResponse:T2,isHeaders:C2,isUndefined:fc,isDate:g2,isFile:y2,isBlob:_2,isRegExp:U2,isFunction:Cn,isStream:w2,isURLSearchParams:S2,isTypedArray:D2,isFileList:v2,forEach:Nc,merge:fm,extend:I2,trim:k2,stripBOM:P2,inherits:R2,toFlatObject:A2,kindOf:bd,kindOfTest:hi,endsWith:N2,toArray:O2,forEachEntry:M2,matchAll:L2,isHTMLForm:F2,hasOwnProperty:m0,hasOwnProp:m0,reduceDescriptors:iE,freezeMethods:z2,toObjectSet:B2,toCamelCase:j2,noop:H2,toFiniteNumber:$2,findKey:tE,global:Ks,isContextDefined:nE,isSpecCompliantForm:W2,toJSONObject:V2,isAsyncFn:G2,isThenable:K2,setImmediate:rE,asap:q2};function be(n,e,t,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}Q.inherits(be,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const sE=be.prototype,oE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{oE[n]={value:n}});Object.defineProperties(be,oE);Object.defineProperty(sE,"isAxiosError",{value:!0});be.from=(n,e,t,i,r,o)=>{const l=Object.create(sE);return Q.toFlatObject(n,l,function(h){return h!==Error.prototype},c=>c!=="isAxiosError"),be.call(l,n.message,e,t,i,r),l.cause=n,l.name=n.name,o&&Object.assign(l,o),l};const Y2=null;function pm(n){return Q.isPlainObject(n)||Q.isArray(n)}function aE(n){return Q.endsWith(n,"[]")?n.slice(0,-2):n}function g0(n,e,t){return n?n.concat(e).map(function(r,o){return r=aE(r),!t&&o?"["+r+"]":r}).join(t?".":""):e}function X2(n){return Q.isArray(n)&&!n.some(pm)}const Q2=Q.toFlatObject(Q,{},null,function(e){return/^is[A-Z]/.test(e)});function kd(n,e,t){if(!Q.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Q.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,S){return!Q.isUndefined(S[k])});const i=t.metaTokens,r=t.visitor||m,o=t.dots,l=t.indexes,h=(t.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(e);if(!Q.isFunction(r))throw new TypeError("visitor must be a function");function f(E){if(E===null)return"";if(Q.isDate(E))return E.toISOString();if(!h&&Q.isBlob(E))throw new be("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(E)||Q.isTypedArray(E)?h&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function m(E,k,S){let R=E;if(E&&!S&&typeof E=="object"){if(Q.endsWith(k,"{}"))k=i?k:k.slice(0,-2),E=JSON.stringify(E);else if(Q.isArray(E)&&X2(E)||(Q.isFileList(E)||Q.endsWith(k,"[]"))&&(R=Q.toArray(E)))return k=aE(k),R.forEach(function(D,H){!(Q.isUndefined(D)||D===null)&&e.append(l===!0?g0([k],H,o):l===null?k:k+"[]",f(D))}),!1}return pm(E)?!0:(e.append(g0(S,k,o),f(E)),!1)}const y=[],w=Object.assign(Q2,{defaultVisitor:m,convertValue:f,isVisitable:pm});function b(E,k){if(!Q.isUndefined(E)){if(y.indexOf(E)!==-1)throw Error("Circular reference detected in "+k.join("."));y.push(E),Q.forEach(E,function(R,O){(!(Q.isUndefined(R)||R===null)&&r.call(e,R,Q.isString(O)?O.trim():O,k,w))===!0&&b(R,k?k.concat(O):[O])}),y.pop()}}if(!Q.isObject(n))throw new TypeError("data must be an object");return b(n),e}function y0(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function _g(n,e){this._pairs=[],n&&kd(n,this,e)}const lE=_g.prototype;lE.append=function(e,t){this._pairs.push([e,t])};lE.toString=function(e){const t=e?function(i){return e.call(this,i,y0)}:y0;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function J2(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function cE(n,e,t){if(!e)return n;const i=t&&t.encode||J2;Q.isFunction(t)&&(t={serialize:t});const r=t&&t.serialize;let o;if(r?o=r(e,t):o=Q.isURLSearchParams(e)?e.toString():new _g(e,t).toString(i),o){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class _0{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Q.forEach(this.handlers,function(i){i!==null&&e(i)})}}const uE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Z2=typeof URLSearchParams<"u"?URLSearchParams:_g,eN=typeof FormData<"u"?FormData:null,tN=typeof Blob<"u"?Blob:null,nN={isBrowser:!0,classes:{URLSearchParams:Z2,FormData:eN,Blob:tN},protocols:["http","https","file","blob","url","data"]},vg=typeof window<"u"&&typeof document<"u",mm=typeof navigator=="object"&&navigator||void 0,iN=vg&&(!mm||["ReactNative","NativeScript","NS"].indexOf(mm.product)<0),rN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",sN=vg&&window.location.href||"http://localhost",oN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vg,hasStandardBrowserEnv:iN,hasStandardBrowserWebWorkerEnv:rN,navigator:mm,origin:sN},Symbol.toStringTag,{value:"Module"})),Wt={...oN,...nN};function aN(n,e){return kd(n,new Wt.classes.URLSearchParams,Object.assign({visitor:function(t,i,r,o){return Wt.isNode&&Q.isBuffer(t)?(this.append(i,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function lN(n){return Q.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function cN(n){const e={},t=Object.keys(n);let i;const r=t.length;let o;for(i=0;i<r;i++)o=t[i],e[o]=n[o];return e}function hE(n){function e(t,i,r,o){let l=t[o++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),h=o>=t.length;return l=!l&&Q.isArray(r)?r.length:l,h?(Q.hasOwnProp(r,l)?r[l]=[r[l],i]:r[l]=i,!c):((!r[l]||!Q.isObject(r[l]))&&(r[l]=[]),e(t,i,r[l],o)&&Q.isArray(r[l])&&(r[l]=cN(r[l])),!c)}if(Q.isFormData(n)&&Q.isFunction(n.entries)){const t={};return Q.forEachEntry(n,(i,r)=>{e(lN(i),r,t,0)}),t}return null}function uN(n,e,t){if(Q.isString(n))try{return(e||JSON.parse)(n),Q.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const Oc={transitional:uE,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",r=i.indexOf("application/json")>-1,o=Q.isObject(e);if(o&&Q.isHTMLForm(e)&&(e=new FormData(e)),Q.isFormData(e))return r?JSON.stringify(hE(e)):e;if(Q.isArrayBuffer(e)||Q.isBuffer(e)||Q.isStream(e)||Q.isFile(e)||Q.isBlob(e)||Q.isReadableStream(e))return e;if(Q.isArrayBufferView(e))return e.buffer;if(Q.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return aN(e,this.formSerializer).toString();if((c=Q.isFileList(e))||i.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return kd(c?{"files[]":e}:e,h&&new h,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),uN(e)):e}],transformResponse:[function(e){const t=this.transitional||Oc.transitional,i=t&&t.forcedJSONParsing,r=this.responseType==="json";if(Q.isResponse(e)||Q.isReadableStream(e))return e;if(e&&Q.isString(e)&&(i&&!this.responseType||r)){const l=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(c){if(l)throw c.name==="SyntaxError"?be.from(c,be.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Wt.classes.FormData,Blob:Wt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],n=>{Oc.headers[n]={}});const hN=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dN=n=>{const e={};let t,i,r;return n&&n.split(`
`).forEach(function(l){r=l.indexOf(":"),t=l.substring(0,r).trim().toLowerCase(),i=l.substring(r+1).trim(),!(!t||e[t]&&hN[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},v0=Symbol("internals");function Dl(n){return n&&String(n).trim().toLowerCase()}function Ch(n){return n===!1||n==null?n:Q.isArray(n)?n.map(Ch):String(n)}function fN(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const pN=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Rp(n,e,t,i,r){if(Q.isFunction(i))return i.call(this,e,t);if(r&&(e=t),!!Q.isString(e)){if(Q.isString(i))return e.indexOf(i)!==-1;if(Q.isRegExp(i))return i.test(e)}}function mN(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function gN(n,e){const t=Q.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(r,o,l){return this[i].call(this,e,r,o,l)},configurable:!0})})}let yn=class{constructor(e){e&&this.set(e)}set(e,t,i){const r=this;function o(c,h,f){const m=Dl(h);if(!m)throw new Error("header name must be a non-empty string");const y=Q.findKey(r,m);(!y||r[y]===void 0||f===!0||f===void 0&&r[y]!==!1)&&(r[y||h]=Ch(c))}const l=(c,h)=>Q.forEach(c,(f,m)=>o(f,m,h));if(Q.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(Q.isString(e)&&(e=e.trim())&&!pN(e))l(dN(e),t);else if(Q.isHeaders(e))for(const[c,h]of e.entries())o(h,c,i);else e!=null&&o(t,e,i);return this}get(e,t){if(e=Dl(e),e){const i=Q.findKey(this,e);if(i){const r=this[i];if(!t)return r;if(t===!0)return fN(r);if(Q.isFunction(t))return t.call(this,r,i);if(Q.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Dl(e),e){const i=Q.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||Rp(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let r=!1;function o(l){if(l=Dl(l),l){const c=Q.findKey(i,l);c&&(!t||Rp(i,i[c],c,t))&&(delete i[c],r=!0)}}return Q.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let i=t.length,r=!1;for(;i--;){const o=t[i];(!e||Rp(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const t=this,i={};return Q.forEach(this,(r,o)=>{const l=Q.findKey(i,o);if(l){t[l]=Ch(r),delete t[o];return}const c=e?mN(o):String(o).trim();c!==o&&delete t[o],t[c]=Ch(r),i[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Q.forEach(this,(i,r)=>{i!=null&&i!==!1&&(t[r]=e&&Q.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[v0]=this[v0]={accessors:{}}).accessors,r=this.prototype;function o(l){const c=Dl(l);i[c]||(gN(r,l),i[c]=!0)}return Q.isArray(e)?e.forEach(o):o(e),this}};yn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(yn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});Q.freezeMethods(yn);function Ap(n,e){const t=this||Oc,i=e||t,r=yn.from(i.headers);let o=i.data;return Q.forEach(n,function(c){o=c.call(t,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function dE(n){return!!(n&&n.__CANCEL__)}function Ra(n,e,t){be.call(this,n??"canceled",be.ERR_CANCELED,e,t),this.name="CanceledError"}Q.inherits(Ra,be,{__CANCEL__:!0});function fE(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new be("Request failed with status code "+t.status,[be.ERR_BAD_REQUEST,be.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function yN(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function _N(n,e){n=n||10;const t=new Array(n),i=new Array(n);let r=0,o=0,l;return e=e!==void 0?e:1e3,function(h){const f=Date.now(),m=i[o];l||(l=f),t[r]=h,i[r]=f;let y=o,w=0;for(;y!==r;)w+=t[y++],y=y%n;if(r=(r+1)%n,r===o&&(o=(o+1)%n),f-l<e)return;const b=m&&f-m;return b?Math.round(w*1e3/b):void 0}}function vN(n,e){let t=0,i=1e3/e,r,o;const l=(f,m=Date.now())=>{t=m,r=null,o&&(clearTimeout(o),o=null),n.apply(null,f)};return[(...f)=>{const m=Date.now(),y=m-t;y>=i?l(f,m):(r=f,o||(o=setTimeout(()=>{o=null,l(r)},i-y)))},()=>r&&l(r)]}const Vh=(n,e,t=3)=>{let i=0;const r=_N(50,250);return vN(o=>{const l=o.loaded,c=o.lengthComputable?o.total:void 0,h=l-i,f=r(h),m=l<=c;i=l;const y={loaded:l,total:c,progress:c?l/c:void 0,bytes:h,rate:f||void 0,estimated:f&&c&&m?(c-l)/f:void 0,event:o,lengthComputable:c!=null,[e?"download":"upload"]:!0};n(y)},t)},w0=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},x0=n=>(...e)=>Q.asap(()=>n(...e)),wN=Wt.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Wt.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Wt.origin),Wt.navigator&&/(msie|trident)/i.test(Wt.navigator.userAgent)):()=>!0,xN=Wt.hasStandardBrowserEnv?{write(n,e,t,i,r,o){const l=[n+"="+encodeURIComponent(e)];Q.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),Q.isString(i)&&l.push("path="+i),Q.isString(r)&&l.push("domain="+r),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function SN(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function EN(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function pE(n,e,t){let i=!SN(e);return n&&(i||t==!1)?EN(n,e):e}const S0=n=>n instanceof yn?{...n}:n;function ro(n,e){e=e||{};const t={};function i(f,m,y,w){return Q.isPlainObject(f)&&Q.isPlainObject(m)?Q.merge.call({caseless:w},f,m):Q.isPlainObject(m)?Q.merge({},m):Q.isArray(m)?m.slice():m}function r(f,m,y,w){if(Q.isUndefined(m)){if(!Q.isUndefined(f))return i(void 0,f,y,w)}else return i(f,m,y,w)}function o(f,m){if(!Q.isUndefined(m))return i(void 0,m)}function l(f,m){if(Q.isUndefined(m)){if(!Q.isUndefined(f))return i(void 0,f)}else return i(void 0,m)}function c(f,m,y){if(y in e)return i(f,m);if(y in n)return i(void 0,f)}const h={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(f,m,y)=>r(S0(f),S0(m),y,!0)};return Q.forEach(Object.keys(Object.assign({},n,e)),function(m){const y=h[m]||r,w=y(n[m],e[m],m);Q.isUndefined(w)&&y!==c||(t[m]=w)}),t}const mE=n=>{const e=ro({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:o,headers:l,auth:c}=e;e.headers=l=yn.from(l),e.url=cE(pE(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let h;if(Q.isFormData(t)){if(Wt.hasStandardBrowserEnv||Wt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((h=l.getContentType())!==!1){const[f,...m]=h?h.split(";").map(y=>y.trim()).filter(Boolean):[];l.setContentType([f||"multipart/form-data",...m].join("; "))}}if(Wt.hasStandardBrowserEnv&&(i&&Q.isFunction(i)&&(i=i(e)),i||i!==!1&&wN(e.url))){const f=r&&o&&xN.read(o);f&&l.set(r,f)}return e},bN=typeof XMLHttpRequest<"u",TN=bN&&function(n){return new Promise(function(t,i){const r=mE(n);let o=r.data;const l=yn.from(r.headers).normalize();let{responseType:c,onUploadProgress:h,onDownloadProgress:f}=r,m,y,w,b,E;function k(){b&&b(),E&&E(),r.cancelToken&&r.cancelToken.unsubscribe(m),r.signal&&r.signal.removeEventListener("abort",m)}let S=new XMLHttpRequest;S.open(r.method.toUpperCase(),r.url,!0),S.timeout=r.timeout;function R(){if(!S)return;const D=yn.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),q={data:!c||c==="text"||c==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:D,config:n,request:S};fE(function(N){t(N),k()},function(N){i(N),k()},q),S=null}"onloadend"in S?S.onloadend=R:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(R)},S.onabort=function(){S&&(i(new be("Request aborted",be.ECONNABORTED,n,S)),S=null)},S.onerror=function(){i(new be("Network Error",be.ERR_NETWORK,n,S)),S=null},S.ontimeout=function(){let H=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const q=r.transitional||uE;r.timeoutErrorMessage&&(H=r.timeoutErrorMessage),i(new be(H,q.clarifyTimeoutError?be.ETIMEDOUT:be.ECONNABORTED,n,S)),S=null},o===void 0&&l.setContentType(null),"setRequestHeader"in S&&Q.forEach(l.toJSON(),function(H,q){S.setRequestHeader(q,H)}),Q.isUndefined(r.withCredentials)||(S.withCredentials=!!r.withCredentials),c&&c!=="json"&&(S.responseType=r.responseType),f&&([w,E]=Vh(f,!0),S.addEventListener("progress",w)),h&&S.upload&&([y,b]=Vh(h),S.upload.addEventListener("progress",y),S.upload.addEventListener("loadend",b)),(r.cancelToken||r.signal)&&(m=D=>{S&&(i(!D||D.type?new Ra(null,n,S):D),S.abort(),S=null)},r.cancelToken&&r.cancelToken.subscribe(m),r.signal&&(r.signal.aborted?m():r.signal.addEventListener("abort",m)));const O=yN(r.url);if(O&&Wt.protocols.indexOf(O)===-1){i(new be("Unsupported protocol "+O+":",be.ERR_BAD_REQUEST,n));return}S.send(o||null)})},CN=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,r;const o=function(f){if(!r){r=!0,c();const m=f instanceof Error?f:this.reason;i.abort(m instanceof be?m:new Ra(m instanceof Error?m.message:m))}};let l=e&&setTimeout(()=>{l=null,o(new be(`timeout ${e} of ms exceeded`,be.ETIMEDOUT))},e);const c=()=>{n&&(l&&clearTimeout(l),l=null,n.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),n=null)};n.forEach(f=>f.addEventListener("abort",o));const{signal:h}=i;return h.unsubscribe=()=>Q.asap(c),h}},kN=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,r;for(;i<t;)r=i+e,yield n.slice(i,r),i=r},IN=async function*(n,e){for await(const t of PN(n))yield*kN(t,e)},PN=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},E0=(n,e,t,i)=>{const r=IN(n,e);let o=0,l,c=h=>{l||(l=!0,i&&i(h))};return new ReadableStream({async pull(h){try{const{done:f,value:m}=await r.next();if(f){c(),h.close();return}let y=m.byteLength;if(t){let w=o+=y;t(w)}h.enqueue(new Uint8Array(m))}catch(f){throw c(f),f}},cancel(h){return c(h),r.return()}},{highWaterMark:2})},Id=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",gE=Id&&typeof ReadableStream=="function",RN=Id&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),yE=(n,...e)=>{try{return!!n(...e)}catch{return!1}},AN=gE&&yE(()=>{let n=!1;const e=new Request(Wt.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),b0=64*1024,gm=gE&&yE(()=>Q.isReadableStream(new Response("").body)),Gh={stream:gm&&(n=>n.body)};Id&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Gh[e]&&(Gh[e]=Q.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new be(`Response type '${e}' is not supported`,be.ERR_NOT_SUPPORT,i)})})})(new Response);const NN=async n=>{if(n==null)return 0;if(Q.isBlob(n))return n.size;if(Q.isSpecCompliantForm(n))return(await new Request(Wt.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(n)||Q.isArrayBuffer(n))return n.byteLength;if(Q.isURLSearchParams(n)&&(n=n+""),Q.isString(n))return(await RN(n)).byteLength},ON=async(n,e)=>{const t=Q.toFiniteNumber(n.getContentLength());return t??NN(e)},DN=Id&&(async n=>{let{url:e,method:t,data:i,signal:r,cancelToken:o,timeout:l,onDownloadProgress:c,onUploadProgress:h,responseType:f,headers:m,withCredentials:y="same-origin",fetchOptions:w}=mE(n);f=f?(f+"").toLowerCase():"text";let b=CN([r,o&&o.toAbortSignal()],l),E;const k=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let S;try{if(h&&AN&&t!=="get"&&t!=="head"&&(S=await ON(m,i))!==0){let q=new Request(e,{method:"POST",body:i,duplex:"half"}),J;if(Q.isFormData(i)&&(J=q.headers.get("content-type"))&&m.setContentType(J),q.body){const[N,I]=w0(S,Vh(x0(h)));i=E0(q.body,b0,N,I)}}Q.isString(y)||(y=y?"include":"omit");const R="credentials"in Request.prototype;E=new Request(e,{...w,signal:b,method:t.toUpperCase(),headers:m.normalize().toJSON(),body:i,duplex:"half",credentials:R?y:void 0});let O=await fetch(E);const D=gm&&(f==="stream"||f==="response");if(gm&&(c||D&&k)){const q={};["status","statusText","headers"].forEach(A=>{q[A]=O[A]});const J=Q.toFiniteNumber(O.headers.get("content-length")),[N,I]=c&&w0(J,Vh(x0(c),!0))||[];O=new Response(E0(O.body,b0,N,()=>{I&&I(),k&&k()}),q)}f=f||"text";let H=await Gh[Q.findKey(Gh,f)||"text"](O,n);return!D&&k&&k(),await new Promise((q,J)=>{fE(q,J,{data:H,headers:yn.from(O.headers),status:O.status,statusText:O.statusText,config:n,request:E})})}catch(R){throw k&&k(),R&&R.name==="TypeError"&&/fetch/i.test(R.message)?Object.assign(new be("Network Error",be.ERR_NETWORK,n,E),{cause:R.cause||R}):be.from(R,R&&R.code,n,E)}}),ym={http:Y2,xhr:TN,fetch:DN};Q.forEach(ym,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const T0=n=>`- ${n}`,MN=n=>Q.isFunction(n)||n===null||n===!1,_E={getAdapter:n=>{n=Q.isArray(n)?n:[n];const{length:e}=n;let t,i;const r={};for(let o=0;o<e;o++){t=n[o];let l;if(i=t,!MN(t)&&(i=ym[(l=String(t)).toLowerCase()],i===void 0))throw new be(`Unknown adapter '${l}'`);if(i)break;r[l||"#"+o]=i}if(!i){const o=Object.entries(r).map(([c,h])=>`adapter ${c} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(T0).join(`
`):" "+T0(o[0]):"as no adapter specified";throw new be("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i},adapters:ym};function Np(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Ra(null,n)}function C0(n){return Np(n),n.headers=yn.from(n.headers),n.data=Ap.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),_E.getAdapter(n.adapter||Oc.adapter)(n).then(function(i){return Np(n),i.data=Ap.call(n,n.transformResponse,i),i.headers=yn.from(i.headers),i},function(i){return dE(i)||(Np(n),i&&i.response&&(i.response.data=Ap.call(n,n.transformResponse,i.response),i.response.headers=yn.from(i.response.headers))),Promise.reject(i)})}const vE="1.8.4",Pd={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Pd[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const k0={};Pd.transitional=function(e,t,i){function r(o,l){return"[Axios v"+vE+"] Transitional option '"+o+"'"+l+(i?". "+i:"")}return(o,l,c)=>{if(e===!1)throw new be(r(l," has been removed"+(t?" in "+t:"")),be.ERR_DEPRECATED);return t&&!k0[l]&&(k0[l]=!0,console.warn(r(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,l,c):!0}};Pd.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function LN(n,e,t){if(typeof n!="object")throw new be("options must be an object",be.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let r=i.length;for(;r-- >0;){const o=i[r],l=e[o];if(l){const c=n[o],h=c===void 0||l(c,o,n);if(h!==!0)throw new be("option "+o+" must be "+h,be.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new be("Unknown option "+o,be.ERR_BAD_OPTION)}}const kh={assertOptions:LN,validators:Pd},Si=kh.validators;let Js=class{constructor(e){this.defaults=e,this.interceptors={request:new _0,response:new _0}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?o&&!String(i.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+o):i.stack=o}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ro(this.defaults,t);const{transitional:i,paramsSerializer:r,headers:o}=t;i!==void 0&&kh.assertOptions(i,{silentJSONParsing:Si.transitional(Si.boolean),forcedJSONParsing:Si.transitional(Si.boolean),clarifyTimeoutError:Si.transitional(Si.boolean)},!1),r!=null&&(Q.isFunction(r)?t.paramsSerializer={serialize:r}:kh.assertOptions(r,{encode:Si.function,serialize:Si.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),kh.assertOptions(t,{baseUrl:Si.spelling("baseURL"),withXsrfToken:Si.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=o&&Q.merge(o.common,o[t.method]);o&&Q.forEach(["delete","get","head","post","put","patch","common"],E=>{delete o[E]}),t.headers=yn.concat(l,o);const c=[];let h=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(t)===!1||(h=h&&k.synchronous,c.unshift(k.fulfilled,k.rejected))});const f=[];this.interceptors.response.forEach(function(k){f.push(k.fulfilled,k.rejected)});let m,y=0,w;if(!h){const E=[C0.bind(this),void 0];for(E.unshift.apply(E,c),E.push.apply(E,f),w=E.length,m=Promise.resolve(t);y<w;)m=m.then(E[y++],E[y++]);return m}w=c.length;let b=t;for(y=0;y<w;){const E=c[y++],k=c[y++];try{b=E(b)}catch(S){k.call(this,S);break}}try{m=C0.call(this,b)}catch(E){return Promise.reject(E)}for(y=0,w=f.length;y<w;)m=m.then(f[y++],f[y++]);return m}getUri(e){e=ro(this.defaults,e);const t=pE(e.baseURL,e.url,e.allowAbsoluteUrls);return cE(t,e.params,e.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(e){Js.prototype[e]=function(t,i){return this.request(ro(i||{},{method:e,url:t,data:(i||{}).data}))}});Q.forEach(["post","put","patch"],function(e){function t(i){return function(o,l,c){return this.request(ro(c||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Js.prototype[e]=t(),Js.prototype[e+"Form"]=t(!0)});let FN=class wE{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const i=this;this.promise.then(r=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](r);i._listeners=null}),this.promise.then=r=>{let o;const l=new Promise(c=>{i.subscribe(c),o=c}).then(r);return l.cancel=function(){i.unsubscribe(o)},l},e(function(o,l,c){i.reason||(i.reason=new Ra(o,l,c),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new wE(function(r){e=r}),cancel:e}}};function jN(n){return function(t){return n.apply(null,t)}}function UN(n){return Q.isObject(n)&&n.isAxiosError===!0}const _m={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_m).forEach(([n,e])=>{_m[e]=n});function xE(n){const e=new Js(n),t=JS(Js.prototype.request,e);return Q.extend(t,Js.prototype,e,{allOwnKeys:!0}),Q.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return xE(ro(n,r))},t}const pt=xE(Oc);pt.Axios=Js;pt.CanceledError=Ra;pt.CancelToken=FN;pt.isCancel=dE;pt.VERSION=vE;pt.toFormData=kd;pt.AxiosError=be;pt.Cancel=pt.CanceledError;pt.all=function(e){return Promise.all(e)};pt.spread=jN;pt.isAxiosError=UN;pt.mergeConfig=ro;pt.AxiosHeaders=yn;pt.formToJSON=n=>hE(Q.isHTMLForm(n)?new FormData(n):n);pt.getAdapter=_E.getAdapter;pt.HttpStatusCode=_m;pt.default=pt;const{Axios:S5,AxiosError:E5,CanceledError:b5,isCancel:T5,CancelToken:C5,VERSION:k5,all:I5,Cancel:P5,isAxiosError:R5,spread:A5,toFormData:N5,AxiosHeaders:O5,HttpStatusCode:D5,formToJSON:M5,getAdapter:L5,mergeConfig:F5}=pt,zN=!1,pc=async(n,e)=>{try{if(!zN)return(await pt.post(`/api/${n}`,e,{headers:{"Content-Type":"application/json"}})).data}catch(t){throw console.error(`Error calling ${n}:`,t),t}},ki={data:{},timestamp:{},expirationTime:5*60*1e3,get(n){const e=Date.now();return this.data[n]&&e-this.timestamp[n]<this.expirationTime?this.data[n]:null},set(n,e){this.data[n]=e,this.timestamp[n]=Date.now()}},Kh={async getQuote(n){const e=`quote_${n}`,t=ki.get(e);if(t)return t;const i=await pc("finnhub",{endpoint:"quote",symbol:n});return ki.set(e,i),i},async getCompanyProfile(n){const e=`profile_${n}`,t=ki.get(e);if(t)return t;const i=await pc("finnhub",{endpoint:"stock/profile2",symbol:n});return ki.set(e,i),i}},BN={async getNews(n="stocks",e=1){const t=`news_${n}_${e}`,i=ki.get(t);if(i)return i;const r=await pc("news",{query:n,page:e});return ki.set(t,r),r}},HN={async getMetalPrice(n){const e=`metal_${n}`,t=ki.get(e);if(t)return t;const i=await pc("metals",{metal:n});return ki.set(e,i),i}},$N={async getChartData(n){const e=`chart_${n}`,t=ki.get(e);if(t)return t;const i=await pc("chart",{symbol:n});return ki.set(e,i),i}},WN=(n,e)=>{let t;return function(...r){const o=()=>{clearTimeout(t),n(...r)};clearTimeout(t),t=setTimeout(o,e)}},VN=()=>{const{user:n}=U.useContext(WS),[e,t]=U.useState([]),[i,r]=U.useState([]),[o,l]=U.useState(!0),[c,h]=U.useState(null),[f,m]=U.useState(""),[y,w]=U.useState(!1),b=O=>{m(O.target.value)},E=U.useCallback(WN(async O=>{if(O.trim()===""){r(e),h(null);return}w(!0),h(null);try{const D=await Kh.getQuote(O.trim().toUpperCase()),{c:H,o:q,pc:J}=D;if(H){const N={symbol:O.trim().toUpperCase(),price:H.toFixed(2),change:((H-J)/J*100).toFixed(2),marketCap:(Math.random()*1e3).toFixed(4),peRatio:(Math.random()*30).toFixed(2),eps:(Math.random()*5).toFixed(2),volume:Math.floor(Math.random()*1e6)};r([N])}else r([]),h("No data available for the entered stock symbol.")}catch(D){console.error("Error fetching stock data:",D),r([]),h("Failed to fetch stock data. Please try again.")}finally{w(!1)}},500),[e]),k=O=>{O.preventDefault(),E(f)},S=U.useMemo(()=>["AAPL","MSFT","GOOGL","AMZN","TSLA","META","NFLX","NVDA","ADBE","INTC","CSCO","ORCL","IBM","PYPL","CRM"],[]);U.useEffect(()=>{(async()=>{try{const D=[];for(const H of S)try{const q=await Kh.getQuote(H),{c:J,o:N,pc:I}=q;J&&D.push({symbol:H,price:J.toFixed(2),change:((J-I)/I*100).toFixed(2),marketCap:(Math.random()*1e3).toFixed(2),peRatio:(Math.random()*30).toFixed(2),eps:(Math.random()*5).toFixed(2),volume:Math.floor(Math.random()*1e6)})}catch(q){console.error(`Error fetching data for ${H}:`,q)}if(D.length===0){const H=S.map((q,J)=>({symbol:q,price:(100+J*10).toFixed(2),change:(Math.random()*5*(Math.random()>.5?1:-1)).toFixed(2),marketCap:(Math.random()*1e3).toFixed(2),peRatio:(Math.random()*30).toFixed(2),eps:(Math.random()*5).toFixed(2),volume:Math.floor(Math.random()*1e6)}));t(H),r(H),console.log("Using mock data due to API errors")}else t(D),r(D)}catch(D){console.error("Error fetching stock data:",D),h("Failed to fetch stock data");const H=S.map((q,J)=>({symbol:q,price:(100+J*10).toFixed(2),change:(Math.random()*5*(Math.random()>.5?1:-1)).toFixed(2),marketCap:(Math.random()*1e3).toFixed(2),peRatio:(Math.random()*30).toFixed(2),eps:(Math.random()*5).toFixed(2),volume:Math.floor(Math.random()*1e6)}));t(H),r(H),console.log("Using mock data due to API errors")}finally{l(!1)}})()},[S]);const R=U.useCallback(O=>{const D=JSON.parse(localStorage.getItem("favorites"))||[];D.some(H=>H.symbol===O.symbol)?_e.info(`${O.symbol} is already in favorites`,{position:"top-center"}):(D.push(O),localStorage.setItem("favorites",JSON.stringify(D)),_e.success(`${O.symbol} added to favorites`,{position:"top-center"}))},[]);return C.jsxs("div",{className:"home",children:[C.jsxs("div",{className:"hero",children:[C.jsxs("h1",{children:["Track Stocks, ",C.jsx("br",{})," Master the Market"]}),C.jsx("p",{children:"Stay ahead of the game with real-time stock price updates and insights. Effortlessly monitor your investments and make informed decisions with ease."}),C.jsxs("form",{onSubmit:k,children:[C.jsx("input",{type:"text",placeholder:"Search Stock",onChange:b,value:f,required:!0}),C.jsx("datalist",{id:"stock"}),C.jsx("button",{type:"submit",children:"Search"})]})]}),C.jsxs("div",{className:"stock-table",children:[C.jsxs("div",{className:"table-layout header",children:[C.jsx("p",{children:"#"}),C.jsx("p",{children:"Stocks"}),C.jsx("p",{children:"Price"}),C.jsx("p",{style:{textAlign:"center"},children:"24H Change"}),C.jsx("p",{className:"market-cap",children:"Market Cap"}),C.jsx("p",{children:"P/E Ratio"}),C.jsx("p",{children:"EPS"}),C.jsx("p",{children:"Volume"})]}),(o||y)&&C.jsx(uo,{}),c&&C.jsx("p",{children:c}),!o&&!y&&!c&&i.length>0?i.map((O,D)=>C.jsxs("div",{children:[C.jsx(Ht,{to:`/stock/${O.symbol}`,className:"stock-row-link",children:C.jsxs("div",{className:"table-layout row",children:[C.jsx("p",{children:D+1}),C.jsx("p",{children:O.symbol}),C.jsxs("p",{children:["$",O.price]}),C.jsxs("p",{style:{textAlign:"center",color:O.change>=0?"green":"red"},children:[O.change,"%"]}),C.jsxs("p",{className:"market-cap",children:["$",O.marketCap,"B"]}),C.jsx("p",{children:O.peRatio}),C.jsx("p",{children:O.eps}),C.jsx("p",{children:O.volume.toLocaleString()})]})}),n&&C.jsx("button",{className:"btn-add-favorite",onClick:()=>R(O),children:"Add to Favorites"})]},O.symbol)):!o&&!y&&C.jsx("p",{children:"No stocks available to display."})]})]})},GN=ze.memo(VN),KN=()=>{const{stockId:n}=Dx(),[e,t]=U.useState(null),[i,r]=U.useState(null),[o,l]=U.useState(!0),[c,h]=U.useState(null),f=Ta();U.useEffect(()=>{(async()=>{try{l(!0),h(null);try{const w=await Kh.getQuote(n),{c:b,o:E,pc:k,h:S,l:R,t:O}=w,D=await Kh.getCompanyProfile(n),{name:H,country:q,industry:J,marketCapitalization:N,shareOutstanding:I,weburl:A}=D;if(b&&H)t({symbol:n,currentPrice:b.toFixed(2),openPrice:E.toFixed(2),prevClose:k.toFixed(2),high:S.toFixed(2),low:R.toFixed(2),timestamp:new Date(O*1e3).toLocaleString()}),r({name:H,country:q,industry:J,marketCapitalization:N.toFixed(2),shareOutstanding:I.toFixed(2),weburl:A});else throw new Error("No data available for the entered stock symbol.")}catch(w){console.error("API Error:",w),t({symbol:n,currentPrice:(Math.random()*500+50).toFixed(2),openPrice:(Math.random()*500+50).toFixed(2),prevClose:(Math.random()*500+50).toFixed(2),high:(Math.random()*500+100).toFixed(2),low:(Math.random()*500).toFixed(2),timestamp:new Date().toLocaleString()}),r({name:`${n} Inc.`,country:"United States",industry:"Technology",marketCapitalization:(Math.random()*1e3).toFixed(2),shareOutstanding:(Math.random()*1e3).toFixed(2),weburl:`https://${n.toLowerCase()}.com`}),console.log("Using mock data due to API errors")}}catch(w){console.error("Error fetching stock details:",w),h("Failed to fetch stock details. Please try again.")}finally{l(!1)}})()},[n]);const m=U.useCallback(()=>{f(`/Stock/${n}/chart`)},[f,n]);return C.jsxs("div",{children:[o&&C.jsx(uo,{}),c&&C.jsx("p",{className:"error",children:c}),e&&i&&C.jsxs("div",{className:"stock-info",children:[C.jsxs("h1",{children:["Stock Details: ",C.jsx("br",{}),i.name," (",e.symbol,")"]}),C.jsxs("p",{children:[C.jsxs("strong",{children:["Current Price: ",C.jsx("br",{})]})," ","$",e.currentPrice]}),C.jsxs("p",{children:[C.jsxs("strong",{children:["Open Price:",C.jsx("br",{})]})," ","$",e.openPrice]}),C.jsxs("p",{children:[C.jsxs("strong",{children:["Previous Close:",C.jsx("br",{})]})," ","$",e.prevClose]}),C.jsxs("p",{children:[C.jsxs("strong",{children:["Day High:",C.jsx("br",{})]})," ","$",e.high]}),C.jsxs("p",{children:[C.jsxs("strong",{children:["Day Low:",C.jsx("br",{})]})," ","$",e.low]}),C.jsxs("p",{children:[C.jsxs("strong",{children:["Last Updated:",C.jsx("br",{})]})," ",e.timestamp]}),C.jsx("hr",{}),C.jsx("h2",{children:"Company Information"}),C.jsxs("p",{children:[C.jsxs("strong",{children:["Name:",C.jsx("br",{})]})," ",i.name]}),C.jsxs("p",{children:[C.jsxs("strong",{children:["Country:",C.jsx("br",{})]})," ",i.country]}),C.jsxs("p",{children:[C.jsxs("strong",{children:["Industry:",C.jsx("br",{})]})," ",i.industry]}),C.jsxs("p",{children:[C.jsxs("strong",{children:["Market Capitalization:",C.jsx("br",{})]})," ","$",i.marketCapitalization," Billion"]}),C.jsxs("p",{children:[C.jsxs("strong",{children:["Shares Outstanding:",C.jsx("br",{})]})," ",i.shareOutstanding," Million"]}),C.jsxs("p",{children:[C.jsxs("strong",{children:["Website:",C.jsx("br",{})]})," ",C.jsx("a",{href:i.weburl,target:"_blank",rel:"noopener noreferrer",children:"Visit Website"})]}),C.jsx("button",{className:"chart-button",onClick:m,children:"View Stock Chart"})]})]})},qN=ze.memo(KN),YN=()=>C.jsx("div",{className:"footer",children:C.jsx("p",{children:"Copyright @ 2024 , Stock-Tracker - All Right Reserved"})}),XN=()=>{const[n,e]=U.useState([]),[t,i]=U.useState(!0),[r,o]=U.useState(null),[l,c]=U.useState(1),h="https://via.placeholder.com/150",f=U.useCallback(async w=>{i(!0),o(null);try{try{const b=await BN.getNews("stocks",w);if(b.articles&&b.articles.length>0)e(b.articles);else throw new Error("No articles found for this page.")}catch(b){console.error("API Error:",b);const E=Array.from({length:12},(k,S)=>({title:`Stock Market Update ${S+1}: Major Indices ${Math.random()>.5?"Rise":"Fall"} Amid Economic Data`,description:`The stock market ${Math.random()>.5?"gained":"lost"} ground today as investors reacted to new economic data and corporate earnings reports. Analysts suggest this trend may continue in the coming weeks.`,url:"https://example.com/news",urlToImage:`https://via.placeholder.com/600x400?text=Stock+News+${S+1}`}));e(E),console.log("Using mock news data due to API errors")}}catch(b){console.error("News fetch error:",b),o(b.message||"Failed to fetch news. Please try again.")}finally{i(!1)}},[]);U.useEffect(()=>{f(l)},[l,f]);const m=U.useCallback(()=>{l>1&&c(l-1)},[l]),y=U.useCallback(()=>{c(l+1)},[l]);return t?C.jsx("div",{className:"news-container",children:C.jsx(uo,{})}):r?C.jsxs("div",{className:"news-container",children:["Error: ",r]}):C.jsxs("div",{className:"news-container",children:[C.jsx("h1",{className:"news-heading",children:"Latest Stock News"}),n.length===0?C.jsx("p",{children:"No news articles available at the moment."}):C.jsx("div",{className:"news-grid",children:n.map((w,b)=>C.jsxs("div",{className:"news-card",children:[C.jsx("img",{src:w.urlToImage||h,alt:w.title||"News article",className:"news-image",loading:"lazy"}),C.jsx("h2",{className:"news-title",children:w.title}),C.jsx("p",{className:"news-description",children:w.description||"No description available."}),C.jsx("a",{href:w.url,target:"_blank",rel:"noopener noreferrer",className:"news-link",children:"Read More"})]},b))}),C.jsxs("div",{className:"pagination",children:[C.jsx("button",{className:"pagination-button",onClick:m,disabled:l===1,children:"Previous"}),C.jsxs("span",{className:"page-info",children:["Page ",l]}),C.jsx("button",{className:"pagination-button",onClick:y,children:"Next"})]})]})},QN=ze.memo(XN),JN=()=>{const[n,e]=U.useState(null),[t,i]=U.useState([]),[r,o]=U.useState(""),[l,c]=U.useState(1),[h,f]=U.useState(null),[m,y]=U.useState(""),w=U.useMemo(()=>[{name:"Mumbai",taxFactor:1.02},{name:"Delhi",taxFactor:1.015},{name:"Bangalore",taxFactor:1.01},{name:"Chennai",taxFactor:1.025},{name:"Kolkata",taxFactor:1.005},{name:"Hyderabad",taxFactor:1.02},{name:"Ahmedabad",taxFactor:1.03},{name:"Pune",taxFactor:1.01},{name:"Jaipur",taxFactor:1.02},{name:"Lucknow",taxFactor:1.015}],[]);U.useEffect(()=>{(async()=>{try{try{const R=await HN.getMetalPrice("tether-gold");if(R&&R["tether-gold"]&&R["tether-gold"].usd){const D=R["tether-gold"].usd*85.5/31.1;e(D);const H=w.map(q=>({name:q.name,pricePerGram:(D*q.taxFactor).toFixed(2)}));i(H)}else throw new Error("Invalid response structure")}catch(R){console.error("API Error:",R);const O=5500+Math.random()*500;e(O);const D=w.map(H=>({name:H.name,pricePerGram:(O*H.taxFactor).toFixed(2)}));i(D),console.log("Using mock gold price data due to API errors")}}catch(R){console.error("Error:",R),y(`Error fetching data: ${R.message}`)}})()},[w]);const b=U.useCallback(S=>{var D;const R=S.target.value;o(R);const O=(D=t.find(H=>H.name===R))==null?void 0:D.pricePerGram;O&&f((O*l).toFixed(2))},[t,l]),E=U.useCallback(S=>{var D;const R=Number.parseFloat(S.target.value);c(R);const O=(D=t.find(H=>H.name===r))==null?void 0:D.pricePerGram;O&&f((O*R).toFixed(2))},[t,r]),k=U.useCallback((S,R)=>C.jsxs(C.Fragment,{children:[C.jsxs("h2",{children:["Gold Prices for ",S," ",S===1?"Gram":"Grams"]}),C.jsxs("table",{className:"city-prices",children:[C.jsx("thead",{children:C.jsxs("tr",{children:[C.jsx("th",{children:"City"}),C.jsx("th",{children:"Gold Price (INR)"})]})}),C.jsx("tbody",{children:t.map(O=>C.jsxs("tr",{children:[C.jsx("td",{children:O.name}),C.jsxs("td",{children:["",(O.pricePerGram*S).toFixed(2)]})]},O.name))})]})]}),[t]);return C.jsxs("div",{className:"gold-container",children:[C.jsx("h1",{children:"Gold Prices in Indian Cities"}),m?C.jsx("p",{className:"error-message",children:m}):n?C.jsxs("div",{children:[C.jsxs("p",{children:[C.jsx("strong",{children:"Base Gold Price (1 gram in INR):"})," ",n.toFixed(2)]}),C.jsx("h2",{children:"Gold Price Calculator"}),C.jsxs("div",{className:"calculator",children:[C.jsxs("label",{children:["Select City:",C.jsxs("select",{value:r,onChange:b,children:[C.jsx("option",{value:"",children:"-- Select City --"}),t.map(S=>C.jsx("option",{value:S.name,children:S.name},S.name))]})]}),C.jsxs("label",{children:["Enter Quantity (grams):",C.jsx("input",{type:"number",value:l,min:"1",onChange:E})]}),h&&C.jsxs("p",{className:"calculated-price",children:[C.jsx("strong",{children:"Total Price:"})," ",h]})]}),k(1),k(10),k(100)]}):C.jsx(uo,{})]})},ZN=ze.memo(JN),eO=()=>{const[n,e]=U.useState(null),[t,i]=U.useState([]),[r,o]=U.useState(""),[l,c]=U.useState(1),[h,f]=U.useState(null),[m,y]=U.useState(""),w="CG-GBhigMt2LcyNX8uA9TUb45JP",b=[{name:"Mumbai",taxFactor:1.02},{name:"Delhi",taxFactor:1.015},{name:"Bangalore",taxFactor:1.01},{name:"Chennai",taxFactor:1.025},{name:"Kolkata",taxFactor:1.005},{name:"Hyderabad",taxFactor:1.02},{name:"Ahmedabad",taxFactor:1.03},{name:"Pune",taxFactor:1.01},{name:"Jaipur",taxFactor:1.02},{name:"Lucknow",taxFactor:1.015}];U.useEffect(()=>{(async()=>{try{const R=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=gram-silver&vs_currencies=usd",{method:"GET",headers:{Authorization:`Bearer ${w}`}});if(!R.ok)throw new Error("Failed to fetch");const O=await R.json();if(O&&O["gram-silver"]&&O["gram-silver"].usd){const H=O["gram-silver"].usd*85.5;e(H);const q=b.map(J=>({name:J.name,pricePerGram:(H*J.taxFactor).toFixed(2)}));i(q)}else throw new Error("Invalid response structure")}catch(R){console.error("Error:",R),y(`Error fetching data: ${R.message}`)}})()},[]);const E=S=>{var D;const R=S.target.value;o(R);const O=(D=t.find(H=>H.name===R))==null?void 0:D.pricePerGram;O&&f((O*l).toFixed(2))},k=S=>{var D;const R=Number.parseFloat(S.target.value);c(R);const O=(D=t.find(H=>H.name===r))==null?void 0:D.pricePerGram;O&&f((O*R).toFixed(2))};return C.jsxs("div",{className:"silver-container",children:[C.jsx("h1",{children:"Silver Prices in Indian Cities"}),m?C.jsx("p",{className:"error-message",children:m}):n?C.jsxs("div",{children:[C.jsxs("p",{children:[C.jsx("strong",{children:"Base Silver Price (1 gram in INR):"})," ",n.toFixed(2)]}),C.jsx("h2",{children:"Silver Price Calculator"}),C.jsxs("div",{className:"calculator",children:[C.jsxs("label",{children:["Select City:",C.jsxs("select",{value:r,onChange:E,children:[C.jsx("option",{value:"",children:"-- Select City --"}),t.map(S=>C.jsx("option",{value:S.name,children:S.name},S.name))]})]}),C.jsxs("label",{children:["Enter Quantity (grams):",C.jsx("input",{type:"number",value:l,min:"1",onChange:k})]}),h&&C.jsxs("p",{className:"calculated-price",children:[C.jsx("strong",{children:"Total Price:"})," ",h]})]}),C.jsx("h2",{children:"Silver Prices for 1 Gram"}),C.jsxs("table",{className:"city-prices",children:[C.jsx("thead",{children:C.jsxs("tr",{children:[C.jsx("th",{children:"City"}),C.jsx("th",{children:"Silver Price (INR)"})]})}),C.jsx("tbody",{children:t.map(S=>C.jsxs("tr",{children:[C.jsx("td",{children:S.name}),C.jsxs("td",{children:["",S.pricePerGram]})]},S.name))})]}),C.jsx("h2",{children:"Silver Prices for 10 Grams"}),C.jsxs("table",{className:"city-prices",children:[C.jsx("thead",{children:C.jsxs("tr",{children:[C.jsx("th",{children:"City"}),C.jsx("th",{children:"Silver Price (INR)"})]})}),C.jsx("tbody",{children:t.map(S=>C.jsxs("tr",{children:[C.jsx("td",{children:S.name}),C.jsxs("td",{children:["",(S.pricePerGram*10).toFixed(2)]})]},S.name))})]}),C.jsx("h2",{children:"Silver Prices for 100 Grams"}),C.jsxs("table",{className:"city-prices",children:[C.jsx("thead",{children:C.jsxs("tr",{children:[C.jsx("th",{children:"City"}),C.jsx("th",{children:"Silver Price (INR)"})]})}),C.jsx("tbody",{children:t.map(S=>C.jsxs("tr",{children:[C.jsx("td",{children:S.name}),C.jsxs("td",{children:["",(S.pricePerGram*100).toFixed(2)]})]},S.name))})]})]}):C.jsx("p",{children:C.jsx(uo,{})})]})},tO=()=>{const[n,e]=U.useState(null),[t,i]=U.useState([]),[r,o]=U.useState(""),[l,c]=U.useState(1),[h,f]=U.useState(null),[m,y]=U.useState(""),w="CG-GBhigMt2LcyNX8uA9TUb45JP",b=[{name:"Mumbai",taxFactor:1.02},{name:"Delhi",taxFactor:1.015},{name:"Bangalore",taxFactor:1.01},{name:"Chennai",taxFactor:1.025},{name:"Kolkata",taxFactor:1.005},{name:"Hyderabad",taxFactor:1.02},{name:"Ahmedabad",taxFactor:1.03},{name:"Pune",taxFactor:1.01},{name:"Jaipur",taxFactor:1.02},{name:"Lucknow",taxFactor:1.015}];U.useEffect(()=>{(async()=>{try{const R=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=gram-platinum&vs_currencies=usd",{method:"GET",headers:{Authorization:`Bearer ${w}`}});if(!R.ok)throw new Error("Failed to fetch");const O=await R.json();if(O&&O["gram-platinum"]&&O["gram-platinum"].usd){const H=O["gram-platinum"].usd*85;e(H);const q=b.map(J=>({name:J.name,pricePerGram:(H*J.taxFactor).toFixed(2)}));i(q)}else throw new Error("Invalid response structure")}catch(R){console.error("Error:",R),y(`Error fetching data: ${R.message}`)}})()},[]);const E=S=>{var D;const R=S.target.value;o(R);const O=(D=t.find(H=>H.name===R))==null?void 0:D.pricePerGram;O&&f((O*l).toFixed(2))},k=S=>{var D;const R=Number.parseFloat(S.target.value);c(R);const O=(D=t.find(H=>H.name===r))==null?void 0:D.pricePerGram;O&&f((O*R).toFixed(2))};return C.jsxs("div",{className:"platinum-container",children:[C.jsx("h1",{children:"Platinum Prices in Indian Cities"}),m?C.jsx("p",{className:"error-message",children:m}):n?C.jsxs("div",{children:[C.jsxs("p",{children:[C.jsx("strong",{children:"Base Platinum Price (1 gram in INR):"})," ",n.toFixed(2)]}),C.jsx("h2",{children:"Platinum Price Calculator"}),C.jsxs("div",{className:"calculator",children:[C.jsxs("label",{children:["Select City:",C.jsxs("select",{value:r,onChange:E,children:[C.jsx("option",{value:"",children:"-- Select City --"}),t.map(S=>C.jsx("option",{value:S.name,children:S.name},S.name))]})]}),C.jsxs("label",{children:["Enter Quantity (grams):",C.jsx("input",{type:"number",value:l,min:"1",onChange:k})]}),h&&C.jsxs("p",{className:"calculated-price",children:[C.jsx("strong",{children:"Total Price:"})," ",h]})]}),C.jsx("h2",{children:"Platinum Prices for 1 Gram"}),C.jsxs("table",{className:"city-prices",children:[C.jsx("thead",{children:C.jsxs("tr",{children:[C.jsx("th",{children:"City"}),C.jsx("th",{children:"Platinum Price (INR)"})]})}),C.jsx("tbody",{children:t.map(S=>C.jsxs("tr",{children:[C.jsx("td",{children:S.name}),C.jsxs("td",{children:["",S.pricePerGram]})]},S.name))})]}),C.jsx("h2",{children:"Platinum Prices for 10 Grams"}),C.jsxs("table",{className:"city-prices",children:[C.jsx("thead",{children:C.jsxs("tr",{children:[C.jsx("th",{children:"City"}),C.jsx("th",{children:"Platinum Price (INR)"})]})}),C.jsx("tbody",{children:t.map(S=>C.jsxs("tr",{children:[C.jsx("td",{children:S.name}),C.jsxs("td",{children:["",(S.pricePerGram*10).toFixed(2)]})]},S.name))})]}),C.jsx("h2",{children:"Platinum Prices for 100 Grams"}),C.jsxs("table",{className:"city-prices",children:[C.jsx("thead",{children:C.jsxs("tr",{children:[C.jsx("th",{children:"City"}),C.jsx("th",{children:"Platinum Price (INR)"})]})}),C.jsx("tbody",{children:t.map(S=>C.jsxs("tr",{children:[C.jsx("td",{children:S.name}),C.jsxs("td",{children:["",(S.pricePerGram*100).toFixed(2)]})]},S.name))})]})]}):C.jsx("p",{children:C.jsx(uo,{})})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Dc(n){return n+.5|0}const Qr=(n,e,t)=>Math.max(Math.min(n,t),e);function Gl(n){return Qr(Dc(n*2.55),0,255)}function ns(n){return Qr(Dc(n*255),0,255)}function ir(n){return Qr(Dc(n/2.55)/100,0,1)}function I0(n){return Qr(Dc(n*100),0,100)}const Fn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},vm=[..."0123456789ABCDEF"],nO=n=>vm[n&15],iO=n=>vm[(n&240)>>4]+vm[n&15],ih=n=>(n&240)>>4===(n&15),rO=n=>ih(n.r)&&ih(n.g)&&ih(n.b)&&ih(n.a);function sO(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Fn[n[1]]*17,g:255&Fn[n[2]]*17,b:255&Fn[n[3]]*17,a:e===5?Fn[n[4]]*17:255}:(e===7||e===9)&&(t={r:Fn[n[1]]<<4|Fn[n[2]],g:Fn[n[3]]<<4|Fn[n[4]],b:Fn[n[5]]<<4|Fn[n[6]],a:e===9?Fn[n[7]]<<4|Fn[n[8]]:255})),t}const oO=(n,e)=>n<255?e(n):"";function aO(n){var e=rO(n)?nO:iO;return n?"#"+e(n.r)+e(n.g)+e(n.b)+oO(n.a,e):void 0}const lO=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function SE(n,e,t){const i=e*Math.min(t,1-t),r=(o,l=(o+n/30)%12)=>t-i*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function cO(n,e,t){const i=(r,o=(r+n/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function uO(n,e,t){const i=SE(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function hO(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function wg(n){const t=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(t,i,r),l=Math.min(t,i,r),c=(o+l)/2;let h,f,m;return o!==l&&(m=o-l,f=c>.5?m/(2-o-l):m/(o+l),h=hO(t,i,r,m,o),h=h*60+.5),[h|0,f||0,c]}function xg(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(ns)}function Sg(n,e,t){return xg(SE,n,e,t)}function dO(n,e,t){return xg(uO,n,e,t)}function fO(n,e,t){return xg(cO,n,e,t)}function EE(n){return(n%360+360)%360}function pO(n){const e=lO.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?Gl(+e[5]):ns(+e[5]));const r=EE(+e[2]),o=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?i=dO(r,o,l):e[1]==="hsv"?i=fO(r,o,l):i=Sg(r,o,l),{r:i[0],g:i[1],b:i[2],a:t}}function mO(n,e){var t=wg(n);t[0]=EE(t[0]+e),t=Sg(t),n.r=t[0],n.g=t[1],n.b=t[2]}function gO(n){if(!n)return;const e=wg(n),t=e[0],i=I0(e[1]),r=I0(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${ir(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}const P0={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},R0={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function yO(){const n={},e=Object.keys(R0),t=Object.keys(P0);let i,r,o,l,c;for(i=0;i<e.length;i++){for(l=c=e[i],r=0;r<t.length;r++)o=t[r],c=c.replace(o,P0[o]);o=parseInt(R0[l],16),n[c]=[o>>16&255,o>>8&255,o&255]}return n}let rh;function _O(n){rh||(rh=yO(),rh.transparent=[0,0,0,0]);const e=rh[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const vO=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function wO(n){const e=vO.exec(n);let t=255,i,r,o;if(e){if(e[7]!==i){const l=+e[7];t=e[8]?Gl(l):Qr(l*255,0,255)}return i=+e[1],r=+e[3],o=+e[5],i=255&(e[2]?Gl(i):Qr(i,0,255)),r=255&(e[4]?Gl(r):Qr(r,0,255)),o=255&(e[6]?Gl(o):Qr(o,0,255)),{r:i,g:r,b:o,a:t}}}function xO(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ir(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Op=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,oa=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function SO(n,e,t){const i=oa(ir(n.r)),r=oa(ir(n.g)),o=oa(ir(n.b));return{r:ns(Op(i+t*(oa(ir(e.r))-i))),g:ns(Op(r+t*(oa(ir(e.g))-r))),b:ns(Op(o+t*(oa(ir(e.b))-o))),a:n.a+t*(e.a-n.a)}}function sh(n,e,t){if(n){let i=wg(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=Sg(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function bE(n,e){return n&&Object.assign(e||{},n)}function A0(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=ns(n[3]))):(e=bE(n,{r:0,g:0,b:0,a:1}),e.a=ns(e.a)),e}function EO(n){return n.charAt(0)==="r"?wO(n):pO(n)}class mc{constructor(e){if(e instanceof mc)return e;const t=typeof e;let i;t==="object"?i=A0(e):t==="string"&&(i=sO(e)||_O(e)||EO(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=bE(this._rgb);return e&&(e.a=ir(e.a)),e}set rgb(e){this._rgb=A0(e)}rgbString(){return this._valid?xO(this._rgb):void 0}hexString(){return this._valid?aO(this._rgb):void 0}hslString(){return this._valid?gO(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let o;const l=t===o?.5:t,c=2*l-1,h=i.a-r.a,f=((c*h===-1?c:(c+h)/(1+c*h))+1)/2;o=1-f,i.r=255&f*i.r+o*r.r+.5,i.g=255&f*i.g+o*r.g+.5,i.b=255&f*i.b+o*r.b+.5,i.a=l*i.a+(1-l)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=SO(this._rgb,e._rgb,t)),this}clone(){return new mc(this.rgb)}alpha(e){return this._rgb.a=ns(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Dc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return sh(this._rgb,2,e),this}darken(e){return sh(this._rgb,2,-e),this}saturate(e){return sh(this._rgb,1,e),this}desaturate(e){return sh(this._rgb,1,-e),this}rotate(e){return mO(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function er(){}const bO=(()=>{let n=0;return()=>n++})();function lt(n){return n==null}function Rt(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Fe(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Kt(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Ei(n,e){return Kt(n)?n:e}function Ne(n,e){return typeof n>"u"?e:n}const TO=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function et(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Ge(n,e,t,i){let r,o,l;if(Rt(n))for(o=n.length,r=0;r<o;r++)e.call(t,n[r],r);else if(Fe(n))for(l=Object.keys(n),o=l.length,r=0;r<o;r++)e.call(t,n[l[r]],l[r])}function qh(n,e){let t,i,r,o;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],o=e[t],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Yh(n){if(Rt(n))return n.map(Yh);if(Fe(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=Yh(n[t[r]]);return e}return n}function TE(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function CO(n,e,t,i){if(!TE(n))return;const r=e[n],o=t[n];Fe(r)&&Fe(o)?gc(r,o,i):e[n]=Yh(o)}function gc(n,e,t){const i=Rt(e)?e:[e],r=i.length;if(!Fe(n))return n;t=t||{};const o=t.merger||CO;let l;for(let c=0;c<r;++c){if(l=i[c],!Fe(l))continue;const h=Object.keys(l);for(let f=0,m=h.length;f<m;++f)o(h[f],n,l,t)}return n}function Jl(n,e){return gc(n,e,{merger:kO})}function kO(n,e,t){if(!TE(n))return;const i=e[n],r=t[n];Fe(i)&&Fe(r)?Jl(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Yh(r))}const N0={"":n=>n,x:n=>n.x,y:n=>n.y};function IO(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function PO(n){const e=IO(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function Xh(n,e){return(N0[e]||(N0[e]=PO(e)))(n)}function Eg(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Qh=n=>typeof n<"u",os=n=>typeof n=="function",O0=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function RO(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Gt=Math.PI,li=2*Gt,AO=li+Gt,Jh=Number.POSITIVE_INFINITY,NO=Gt/180,si=Gt/2,Us=Gt/4,D0=Gt*2/3,CE=Math.log10,_a=Math.sign;function Zl(n,e,t){return Math.abs(n-e)<t}function M0(n){const e=Math.round(n);n=Zl(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(CE(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function OO(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,o)=>r-o).pop(),e}function DO(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Zh(n){return!DO(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function MO(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function LO(n,e,t){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][t],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function qs(n){return n*(Gt/180)}function FO(n){return n*(180/Gt)}function L0(n){if(!Kt(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function jO(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let o=Math.atan2(i,t);return o<-.5*Gt&&(o+=li),{angle:o,distance:r}}function wm(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function UO(n,e){return(n-e+AO)%li-Gt}function Ci(n){return(n%li+li)%li}function kE(n,e,t,i){const r=Ci(n),o=Ci(e),l=Ci(t),c=Ci(o-r),h=Ci(l-r),f=Ci(r-o),m=Ci(r-l);return r===o||r===l||i&&o===l||c>h&&f<m}function Ii(n,e,t){return Math.max(e,Math.min(t,n))}function zO(n){return Ii(n,-32768,32767)}function la(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function bg(n,e,t){t=t||(l=>n[l]<e);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,t(o)?r=o:i=o;return{lo:r,hi:i}}const xm=(n,e,t,i)=>bg(n,t,i?r=>{const o=n[r][e];return o<t||o===t&&n[r+1][e]===t}:r=>n[r][e]<t),BO=(n,e,t)=>bg(n,t,i=>n[i][e]>=t);function HO(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}const IE=["push","pop","shift","splice","unshift"];function $O(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),IE.forEach(t=>{const i="_onData"+Eg(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...o){const l=r.apply(this,o);return n._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...o)}),l}})})}function F0(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(IE.forEach(o=>{delete n[o]}),delete n._chartjs)}function WO(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const PE=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function RE(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,PE.call(window,()=>{i=!1,n.apply(e,t)}))}}function VO(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const AE=n=>n==="start"?"left":n==="end"?"right":"center",Tn=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,GO=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e,oh=n=>n===0||n===1,j0=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*li/t)),U0=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*li/t)+1,ec={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*si)+1,easeOutSine:n=>Math.sin(n*si),easeInOutSine:n=>-.5*(Math.cos(Gt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>oh(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>oh(n)?n:j0(n,.075,.3),easeOutElastic:n=>oh(n)?n:U0(n,.075,.3),easeInOutElastic(n){return oh(n)?n:n<.5?.5*j0(n*2,.1125,.45):.5+.5*U0(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-ec.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?ec.easeInBounce(n*2)*.5:ec.easeOutBounce(n*2-1)*.5+.5};function Tg(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function z0(n){return Tg(n)?n:new mc(n)}function Dp(n){return Tg(n)?n:new mc(n).saturate(.5).darken(.1).hexString()}const KO=["x","y","borderWidth","radius","tension"],qO=["color","borderColor","backgroundColor"];function YO(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:qO},numbers:{type:"number",properties:KO}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function XO(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const B0=new Map;function QO(n,e){e=e||{};const t=n+JSON.stringify(e);let i=B0.get(t);return i||(i=new Intl.NumberFormat(n,e),B0.set(t,i)),i}function NE(n,e,t){return QO(e,t).format(n)}const JO={values(n){return Rt(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(t.length>1){const f=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),o=ZO(n,t)}const l=CE(Math.abs(o)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:r,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),NE(n,i,h)}};function ZO(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var OE={formatters:JO};function eD(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:OE.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const so=Object.create(null),Sm=Object.create(null);function tc(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const o=t[i];n=n[o]||(n[o]=Object.create(null))}return n}function Mp(n,e,t){return typeof e=="string"?gc(tc(n,e),t):gc(tc(n,""),e)}class tD{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Dp(r.backgroundColor),this.hoverBorderColor=(i,r)=>Dp(r.borderColor),this.hoverColor=(i,r)=>Dp(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Mp(this,e,t)}get(e){return tc(this,e)}describe(e,t){return Mp(Sm,e,t)}override(e,t){return Mp(so,e,t)}route(e,t,i,r){const o=tc(this,e),l=tc(this,i),c="_"+t;Object.defineProperties(o,{[c]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[c],f=l[r];return Fe(h)?Object.assign({},f,h):Ne(h,f)},set(h){this[c]=h}}})}apply(e){e.forEach(t=>t(this))}}var ft=new tD({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[YO,XO,eD]);function nD(n){return!n||lt(n.size)||lt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function H0(n,e,t,i,r){let o=e[r];return o||(o=e[r]=n.measureText(r).width,t.push(r)),o>i&&(i=o),i}function zs(n,e,t){const i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function $0(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Em(n,e,t,i){DE(n,e,t,i,null)}function DE(n,e,t,i,r){let o,l,c,h,f,m,y,w;const b=e.pointStyle,E=e.rotation,k=e.radius;let S=(E||0)*NO;if(b&&typeof b=="object"&&(o=b.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(S),n.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),n.restore();return}if(!(isNaN(k)||k<=0)){switch(n.beginPath(),b){default:r?n.ellipse(t,i,r/2,k,0,0,li):n.arc(t,i,k,0,li),n.closePath();break;case"triangle":m=r?r/2:k,n.moveTo(t+Math.sin(S)*m,i-Math.cos(S)*k),S+=D0,n.lineTo(t+Math.sin(S)*m,i-Math.cos(S)*k),S+=D0,n.lineTo(t+Math.sin(S)*m,i-Math.cos(S)*k),n.closePath();break;case"rectRounded":f=k*.516,h=k-f,l=Math.cos(S+Us)*h,y=Math.cos(S+Us)*(r?r/2-f:h),c=Math.sin(S+Us)*h,w=Math.sin(S+Us)*(r?r/2-f:h),n.arc(t-y,i-c,f,S-Gt,S-si),n.arc(t+w,i-l,f,S-si,S),n.arc(t+y,i+c,f,S,S+si),n.arc(t-w,i+l,f,S+si,S+Gt),n.closePath();break;case"rect":if(!E){h=Math.SQRT1_2*k,m=r?r/2:h,n.rect(t-m,i-h,2*m,2*h);break}S+=Us;case"rectRot":y=Math.cos(S)*(r?r/2:k),l=Math.cos(S)*k,c=Math.sin(S)*k,w=Math.sin(S)*(r?r/2:k),n.moveTo(t-y,i-c),n.lineTo(t+w,i-l),n.lineTo(t+y,i+c),n.lineTo(t-w,i+l),n.closePath();break;case"crossRot":S+=Us;case"cross":y=Math.cos(S)*(r?r/2:k),l=Math.cos(S)*k,c=Math.sin(S)*k,w=Math.sin(S)*(r?r/2:k),n.moveTo(t-y,i-c),n.lineTo(t+y,i+c),n.moveTo(t+w,i-l),n.lineTo(t-w,i+l);break;case"star":y=Math.cos(S)*(r?r/2:k),l=Math.cos(S)*k,c=Math.sin(S)*k,w=Math.sin(S)*(r?r/2:k),n.moveTo(t-y,i-c),n.lineTo(t+y,i+c),n.moveTo(t+w,i-l),n.lineTo(t-w,i+l),S+=Us,y=Math.cos(S)*(r?r/2:k),l=Math.cos(S)*k,c=Math.sin(S)*k,w=Math.sin(S)*(r?r/2:k),n.moveTo(t-y,i-c),n.lineTo(t+y,i+c),n.moveTo(t+w,i-l),n.lineTo(t-w,i+l);break;case"line":l=r?r/2:Math.cos(S)*k,c=Math.sin(S)*k,n.moveTo(t-l,i-c),n.lineTo(t+l,i+c);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(S)*(r?r/2:k),i+Math.sin(S)*k);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function yc(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Rd(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Ad(n){n.restore()}function iD(n,e,t,i,r){if(!e)return n.lineTo(t.x,t.y);if(r==="middle"){const o=(e.x+t.x)/2;n.lineTo(o,e.y),n.lineTo(o,t.y)}else r==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function rD(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function sD(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),lt(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function oD(n,e,t,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),l=e-o.actualBoundingBoxLeft,c=e+o.actualBoundingBoxRight,h=t-o.actualBoundingBoxAscent,f=t+o.actualBoundingBoxDescent,m=r.strikethrough?(h+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(l,m),n.lineTo(c,m),n.stroke()}}function aD(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function ed(n,e,t,i,r,o={}){const l=Rt(e)?e:[e],c=o.strokeWidth>0&&o.strokeColor!=="";let h,f;for(n.save(),n.font=r.string,sD(n,o),h=0;h<l.length;++h)f=l[h],o.backdrop&&aD(n,o.backdrop),c&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),lt(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(f,t,i,o.maxWidth)),n.fillText(f,t,i,o.maxWidth),oD(n,t,i,f,o),i+=Number(r.lineHeight);n.restore()}function bm(n,e){const{x:t,y:i,w:r,h:o,radius:l}=e;n.arc(t+l.topLeft,i+l.topLeft,l.topLeft,1.5*Gt,Gt,!0),n.lineTo(t,i+o-l.bottomLeft),n.arc(t+l.bottomLeft,i+o-l.bottomLeft,l.bottomLeft,Gt,si,!0),n.lineTo(t+r-l.bottomRight,i+o),n.arc(t+r-l.bottomRight,i+o-l.bottomRight,l.bottomRight,si,0,!0),n.lineTo(t+r,i+l.topRight),n.arc(t+r-l.topRight,i+l.topRight,l.topRight,0,-si,!0),n.lineTo(t+l.topLeft,i)}const lD=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,cD=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function uD(n,e){const t=(""+n).match(lD);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const hD=n=>+n||0;function ME(n,e){const t={},i=Fe(e),r=i?Object.keys(e):e,o=Fe(n)?i?l=>Ne(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of r)t[l]=hD(o(l));return t}function dD(n){return ME(n,{top:"y",right:"x",bottom:"y",left:"x"})}function nc(n){return ME(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ui(n){const e=dD(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function mn(n,e){n=n||{},e=e||ft.font;let t=Ne(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=Ne(n.style,e.style);i&&!(""+i).match(cD)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Ne(n.family,e.family),lineHeight:uD(Ne(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:Ne(n.weight,e.weight),string:""};return r.string=nD(r),r}function ah(n,e,t,i){let r,o,l;for(r=0,o=n.length;r<o;++r)if(l=n[r],l!==void 0&&l!==void 0)return l}function fD(n,e,t){const{min:i,max:r}=n,o=TO(e,(r-i)/2),l=(c,h)=>t&&c===0?0:c+h;return{min:l(i,-Math.abs(o)),max:l(r,o)}}function ho(n,e){return Object.assign(Object.create(n),e)}function Cg(n,e=[""],t,i,r=()=>n[0]){const o=t||n;typeof i>"u"&&(i=UE("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:c=>Cg([c,...n],e,o,i)};return new Proxy(l,{deleteProperty(c,h){return delete c[h],delete c._keys,delete n[0][h],!0},get(c,h){return FE(c,h,()=>xD(h,e,n,c))},getOwnPropertyDescriptor(c,h){return Reflect.getOwnPropertyDescriptor(c._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,h){return V0(c).includes(h)},ownKeys(c){return V0(c)},set(c,h,f){const m=c._storage||(c._storage=r());return c[h]=m[h]=f,delete c._keys,!0}})}function va(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:LE(n,i),setContext:o=>va(n,o,t,i),override:o=>va(n.override(o),e,t,i)};return new Proxy(r,{deleteProperty(o,l){return delete o[l],delete n[l],!0},get(o,l,c){return FE(o,l,()=>mD(o,l,c))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(o,l,c){return n[l]=c,delete o[l],!0}})}function LE(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:os(t)?t:()=>t,isIndexable:os(i)?i:()=>i}}const pD=(n,e)=>n?n+Eg(e):e,kg=(n,e)=>Fe(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function FE(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function mD(n,e,t){const{_proxy:i,_context:r,_subProxy:o,_descriptors:l}=n;let c=i[e];return os(c)&&l.isScriptable(e)&&(c=gD(e,c,n,t)),Rt(c)&&c.length&&(c=yD(e,c,n,l.isIndexable)),kg(e,c)&&(c=va(c,r,o&&o[e],l)),c}function gD(n,e,t,i){const{_proxy:r,_context:o,_subProxy:l,_stack:c}=t;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let h=e(o,l||i);return c.delete(n),kg(n,h)&&(h=Ig(r._scopes,r,n,h)),h}function yD(n,e,t,i){const{_proxy:r,_context:o,_subProxy:l,_descriptors:c}=t;if(typeof o.index<"u"&&i(n))return e[o.index%e.length];if(Fe(e[0])){const h=e,f=r._scopes.filter(m=>m!==h);e=[];for(const m of h){const y=Ig(f,r,n,m);e.push(va(y,o,l&&l[n],c))}}return e}function jE(n,e,t){return os(n)?n(e,t):n}const _D=(n,e)=>n===!0?e:typeof n=="string"?Xh(e,n):void 0;function vD(n,e,t,i,r){for(const o of e){const l=_D(t,o);if(l){n.add(l);const c=jE(l._fallback,t,r);if(typeof c<"u"&&c!==t&&c!==i)return c}else if(l===!1&&typeof i<"u"&&t!==i)return null}return!1}function Ig(n,e,t,i){const r=e._rootScopes,o=jE(e._fallback,t,i),l=[...n,...r],c=new Set;c.add(i);let h=W0(c,l,t,o||t,i);return h===null||typeof o<"u"&&o!==t&&(h=W0(c,l,o,h,i),h===null)?!1:Cg(Array.from(c),[""],r,o,()=>wD(e,t,i))}function W0(n,e,t,i,r){for(;t;)t=vD(n,e,t,i,r);return t}function wD(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return Rt(r)&&Fe(t)?t:r||{}}function xD(n,e,t,i){let r;for(const o of e)if(r=UE(pD(o,n),t),typeof r<"u")return kg(n,r)?Ig(t,i,n,r):r}function UE(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function V0(n){let e=n._keys;return e||(e=n._keys=SD(n._scopes)),e}function SD(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}const ED=Number.EPSILON||1e-14,wa=(n,e)=>e<n.length&&!n[e].skip&&n[e],zE=n=>n==="x"?"y":"x";function bD(n,e,t,i){const r=n.skip?e:n,o=e,l=t.skip?e:t,c=wm(o,r),h=wm(l,o);let f=c/(c+h),m=h/(c+h);f=isNaN(f)?0:f,m=isNaN(m)?0:m;const y=i*f,w=i*m;return{previous:{x:o.x-y*(l.x-r.x),y:o.y-y*(l.y-r.y)},next:{x:o.x+w*(l.x-r.x),y:o.y+w*(l.y-r.y)}}}function TD(n,e,t){const i=n.length;let r,o,l,c,h,f=wa(n,0);for(let m=0;m<i-1;++m)if(h=f,f=wa(n,m+1),!(!h||!f)){if(Zl(e[m],0,ED)){t[m]=t[m+1]=0;continue}r=t[m]/e[m],o=t[m+1]/e[m],c=Math.pow(r,2)+Math.pow(o,2),!(c<=9)&&(l=3/Math.sqrt(c),t[m]=r*l*e[m],t[m+1]=o*l*e[m])}}function CD(n,e,t="x"){const i=zE(t),r=n.length;let o,l,c,h=wa(n,0);for(let f=0;f<r;++f){if(l=c,c=h,h=wa(n,f+1),!c)continue;const m=c[t],y=c[i];l&&(o=(m-l[t])/3,c[`cp1${t}`]=m-o,c[`cp1${i}`]=y-o*e[f]),h&&(o=(h[t]-m)/3,c[`cp2${t}`]=m+o,c[`cp2${i}`]=y+o*e[f])}}function kD(n,e="x"){const t=zE(e),i=n.length,r=Array(i).fill(0),o=Array(i);let l,c,h,f=wa(n,0);for(l=0;l<i;++l)if(c=h,h=f,f=wa(n,l+1),!!h){if(f){const m=f[e]-h[e];r[l]=m!==0?(f[t]-h[t])/m:0}o[l]=c?f?_a(r[l-1])!==_a(r[l])?0:(r[l-1]+r[l])/2:r[l-1]:r[l]}TD(n,r,o),CD(n,o,e)}function lh(n,e,t){return Math.max(Math.min(n,t),e)}function ID(n,e){let t,i,r,o,l,c=yc(n[0],e);for(t=0,i=n.length;t<i;++t)l=o,o=c,c=t<i-1&&yc(n[t+1],e),o&&(r=n[t],l&&(r.cp1x=lh(r.cp1x,e.left,e.right),r.cp1y=lh(r.cp1y,e.top,e.bottom)),c&&(r.cp2x=lh(r.cp2x,e.left,e.right),r.cp2y=lh(r.cp2y,e.top,e.bottom)))}function PD(n,e,t,i,r){let o,l,c,h;if(e.spanGaps&&(n=n.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")kD(n,r);else{let f=i?n[n.length-1]:n[0];for(o=0,l=n.length;o<l;++o)c=n[o],h=bD(f,c,n[Math.min(o+1,l-(i?0:1))%l],e.tension),c.cp1x=h.previous.x,c.cp1y=h.previous.y,c.cp2x=h.next.x,c.cp2y=h.next.y,f=c}e.capBezierPoints&&ID(n,t)}function Pg(){return typeof window<"u"&&typeof document<"u"}function Rg(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function td(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const Nd=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function RD(n,e){return Nd(n).getPropertyValue(e)}const AD=["top","right","bottom","left"];function Zs(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const o=AD[r];i[o]=parseFloat(n[e+"-"+o+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const ND=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function OD(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:o}=i;let l=!1,c,h;if(ND(r,o,n.target))c=r,h=o;else{const f=e.getBoundingClientRect();c=i.clientX-f.left,h=i.clientY-f.top,l=!0}return{x:c,y:h,box:l}}function $s(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=Nd(t),o=r.boxSizing==="border-box",l=Zs(r,"padding"),c=Zs(r,"border","width"),{x:h,y:f,box:m}=OD(n,t),y=l.left+(m&&c.left),w=l.top+(m&&c.top);let{width:b,height:E}=e;return o&&(b-=l.width+c.width,E-=l.height+c.height),{x:Math.round((h-y)/b*t.width/i),y:Math.round((f-w)/E*t.height/i)}}function DD(n,e,t){let i,r;if(e===void 0||t===void 0){const o=n&&Rg(n);if(!o)e=n.clientWidth,t=n.clientHeight;else{const l=o.getBoundingClientRect(),c=Nd(o),h=Zs(c,"border","width"),f=Zs(c,"padding");e=l.width-f.width-h.width,t=l.height-f.height-h.height,i=td(c.maxWidth,o,"clientWidth"),r=td(c.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:i||Jh,maxHeight:r||Jh}}const ch=n=>Math.round(n*10)/10;function MD(n,e,t,i){const r=Nd(n),o=Zs(r,"margin"),l=td(r.maxWidth,n,"clientWidth")||Jh,c=td(r.maxHeight,n,"clientHeight")||Jh,h=DD(n,e,t);let{width:f,height:m}=h;if(r.boxSizing==="content-box"){const w=Zs(r,"border","width"),b=Zs(r,"padding");f-=b.width+w.width,m-=b.height+w.height}return f=Math.max(0,f-o.width),m=Math.max(0,i?f/i:m-o.height),f=ch(Math.min(f,l,h.maxWidth)),m=ch(Math.min(m,c,h.maxHeight)),f&&!m&&(m=ch(f/2)),(e!==void 0||t!==void 0)&&i&&h.height&&m>h.height&&(m=h.height,f=ch(Math.floor(m*i))),{width:f,height:m}}function G0(n,e,t){const i=e||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==r||l.width!==o?(n.currentDevicePixelRatio=i,l.height=r,l.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const LD=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Pg()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function K0(n,e){const t=RD(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ws(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function FD(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function jD(n,e,t,i){const r={x:n.cp2x,y:n.cp2y},o={x:e.cp1x,y:e.cp1y},l=Ws(n,r,t),c=Ws(r,o,t),h=Ws(o,e,t),f=Ws(l,c,t),m=Ws(c,h,t);return Ws(f,m,t)}const UD=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},zD=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function fa(n,e,t){return n?UD(e,t):zD()}function BE(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function HE(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function $E(n){return n==="angle"?{between:kE,compare:UO,normalize:Ci}:{between:la,compare:(e,t)=>e-t,normalize:e=>e}}function q0({start:n,end:e,count:t,loop:i,style:r}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:r}}function BD(n,e,t){const{property:i,start:r,end:o}=t,{between:l,normalize:c}=$E(i),h=e.length;let{start:f,end:m,loop:y}=n,w,b;if(y){for(f+=h,m+=h,w=0,b=h;w<b&&l(c(e[f%h][i]),r,o);++w)f--,m--;f%=h,m%=h}return m<f&&(m+=h),{start:f,end:m,loop:y,style:n.style}}function WE(n,e,t){if(!t)return[n];const{property:i,start:r,end:o}=t,l=e.length,{compare:c,between:h,normalize:f}=$E(i),{start:m,end:y,loop:w,style:b}=BD(n,e,t),E=[];let k=!1,S=null,R,O,D;const H=()=>h(r,D,R)&&c(r,D)!==0,q=()=>c(o,R)===0||h(o,D,R),J=()=>k||H(),N=()=>!k||q();for(let I=m,A=m;I<=y;++I)O=e[I%l],!O.skip&&(R=f(O[i]),R!==D&&(k=h(R,r,o),S===null&&J()&&(S=c(R,r)===0?I:A),S!==null&&N()&&(E.push(q0({start:S,end:I,loop:w,count:l,style:b})),S=null),A=I,D=R));return S!==null&&E.push(q0({start:S,end:y,loop:w,count:l,style:b})),E}function VE(n,e){const t=[],i=n.segments;for(let r=0;r<i.length;r++){const o=WE(i[r],n.points,e);o.length&&t.push(...o)}return t}function HD(n,e,t,i){let r=0,o=e-1;if(t&&!i)for(;r<e&&!n[r].skip;)r++;for(;r<e&&n[r].skip;)r++;for(r%=e,t&&(o+=r);o>r&&n[o%e].skip;)o--;return o%=e,{start:r,end:o}}function $D(n,e,t,i){const r=n.length,o=[];let l=e,c=n[e],h;for(h=e+1;h<=t;++h){const f=n[h%r];f.skip||f.stop?c.skip||(i=!1,o.push({start:e%r,end:(h-1)%r,loop:i}),e=l=f.stop?h:null):(l=h,c.skip&&(e=h)),c=f}return l!==null&&o.push({start:e%r,end:l%r,loop:i}),o}function WD(n,e){const t=n.points,i=n.options.spanGaps,r=t.length;if(!r)return[];const o=!!n._loop,{start:l,end:c}=HD(t,r,o,i);if(i===!0)return Y0(n,[{start:l,end:c,loop:o}],t,e);const h=c<l?c+r:c,f=!!n._fullLoop&&l===0&&c===r-1;return Y0(n,$D(t,l,h,f),t,e)}function Y0(n,e,t,i){return!i||!i.setContext||!t?e:VD(n,e,t,i)}function VD(n,e,t,i){const r=n._chart.getContext(),o=X0(n.options),{_datasetIndex:l,options:{spanGaps:c}}=n,h=t.length,f=[];let m=o,y=e[0].start,w=y;function b(E,k,S,R){const O=c?-1:1;if(E!==k){for(E+=h;t[E%h].skip;)E-=O;for(;t[k%h].skip;)k+=O;E%h!==k%h&&(f.push({start:E%h,end:k%h,loop:S,style:R}),m=R,y=k%h)}}for(const E of e){y=c?y:E.start;let k=t[y%h],S;for(w=y+1;w<=E.end;w++){const R=t[w%h];S=X0(i.setContext(ho(r,{type:"segment",p0:k,p1:R,p0DataIndex:(w-1)%h,p1DataIndex:w%h,datasetIndex:l}))),GD(S,m)&&b(y,w-1,E.loop,m),k=R,m=S}y<w-1&&b(y,w-1,E.loop,m)}return f}function X0(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function GD(n,e){if(!e)return!1;const t=[],i=function(r,o){return Tg(o)?(t.includes(o)||t.push(o),t.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(e,i)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class KD{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const o=t.listeners[r],l=t.duration;o.forEach(c=>c({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(i-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=PE.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let l=o.length-1,c=!1,h;for(;l>=0;--l)h=o[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(e),c=!0):(o[l]=o[o.length-1],o.pop());c&&(r.draw(),this._notify(r,i,e,"progress")),o.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var tr=new KD;const Q0="transparent",qD={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=z0(n||Q0),r=i.valid&&z0(e||Q0);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class YD{constructor(e,t,i,r){const o=t[i];r=ah([e.to,r,o,e.from]);const l=ah([e.from,o,r]);this._active=!0,this._fn=e.fn||qD[e.type||typeof l],this._easing=ec[e.easing]||ec.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,l=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=ah([e.to,t,r,e.from]),this._from=ah([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,o=this._from,l=this._loop,c=this._to;let h;if(this._active=o!==c&&(l||t<i),!this._active){this._target[r]=c,this._notify(!0);return}if(t<0){this._target[r]=o;return}h=t/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[r]=this._fn(o,c,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class GE{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Fe(e))return;const t=Object.keys(ft.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const o=e[r];if(!Fe(o))return;const l={};for(const c of t)l[c]=o[c];(Rt(o.properties)&&o.properties||[r]).forEach(c=>{(c===r||!i.has(c))&&i.set(c,l)})})}_animateOptions(e,t){const i=t.options,r=QD(e,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&XD(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,t){const i=this._properties,r=[],o=e.$animations||(e.$animations={}),l=Object.keys(t),c=Date.now();let h;for(h=l.length-1;h>=0;--h){const f=l[h];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(e,t));continue}const m=t[f];let y=o[f];const w=i.get(f);if(y)if(w&&y.active()){y.update(w,m,c);continue}else y.cancel();if(!w||!w.duration){e[f]=m;continue}o[f]=y=new YD(w,e,f,m),r.push(y)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return tr.add(this._chart,i),!0}}function XD(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function QD(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function J0(n,e){const t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:i?o:r,end:i?r:o}}function JD(n,e,t){if(t===!1)return!1;const i=J0(n,t),r=J0(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function ZD(n){let e,t,i,r;return Fe(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function KE(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,o;for(r=0,o=i.length;r<o;++r)t.push(i[r].index);return t}function Z0(n,e,t,i={}){const r=n.keys,o=i.mode==="single";let l,c,h,f;if(e===null)return;let m=!1;for(l=0,c=r.length;l<c;++l){if(h=+r[l],h===t){if(m=!0,i.all)continue;break}f=n.values[h],Kt(f)&&(o||e===0||_a(e)===_a(f))&&(e+=f)}return!m&&!i.all?0:e}function eM(n,e){const{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",l=Object.keys(n),c=new Array(l.length);let h,f,m;for(h=0,f=l.length;h<f;++h)m=l[h],c[h]={[r]:m,[o]:n[m]};return c}function Lp(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function tM(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function nM(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function iM(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function ew(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(t&&o>0||!t&&o<0)return r.index}return null}function tw(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:o,vScale:l,index:c}=i,h=o.axis,f=l.axis,m=tM(o,l,i),y=e.length;let w;for(let b=0;b<y;++b){const E=e[b],{[h]:k,[f]:S}=E,R=E._stacks||(E._stacks={});w=R[f]=iM(r,m,k),w[c]=S,w._top=ew(w,l,!0,i.type),w._bottom=ew(w,l,!1,i.type);const O=w._visualValues||(w._visualValues={});O[c]=S}}function Fp(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function rM(n,e){return ho(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function sM(n,e,t){return ho(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Ml(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const o=r._stacks;if(!o||o[i]===void 0||o[i][t]===void 0)return;delete o[i][t],o[i]._visualValues!==void 0&&o[i]._visualValues[t]!==void 0&&delete o[i]._visualValues[t]}}}const jp=n=>n==="reset"||n==="none",nw=(n,e)=>e?n:Object.assign({},n),oM=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:KE(t,!0),values:null};class Ih{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Lp(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ml(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),r=(y,w,b,E)=>y==="x"?w:y==="r"?E:b,o=t.xAxisID=Ne(i.xAxisID,Fp(e,"x")),l=t.yAxisID=Ne(i.yAxisID,Fp(e,"y")),c=t.rAxisID=Ne(i.rAxisID,Fp(e,"r")),h=t.indexAxis,f=t.iAxisID=r(h,o,l,c),m=t.vAxisID=r(h,l,o,c);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(c),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&F0(this._data,this),e._stacked&&Ml(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(Fe(t)){const r=this._cachedMeta;this._data=eM(t,r)}else if(i!==t){if(i){F0(i,this);const r=this._cachedMeta;Ml(r),r._parsed=[]}t&&Object.isExtensible(t)&&$O(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=t._stacked;t._stacked=Lp(t.vScale,t),t.stack!==i.stack&&(r=!0,Ml(t),t.stack=i.stack),this._resyncElements(e),(r||o!==t._stacked)&&(tw(this,t._parsed),t._stacked=Lp(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:l}=i,c=o.axis;let h=e===0&&t===r.length?!0:i._sorted,f=e>0&&i._parsed[e-1],m,y,w;if(this._parsing===!1)i._parsed=r,i._sorted=!0,w=r;else{Rt(r[e])?w=this.parseArrayData(i,r,e,t):Fe(r[e])?w=this.parseObjectData(i,r,e,t):w=this.parsePrimitiveData(i,r,e,t);const b=()=>y[c]===null||f&&y[c]<f[c];for(m=0;m<t;++m)i._parsed[m+e]=y=w[m],h&&(b()&&(h=!1),f=y);i._sorted=h}l&&tw(this,w)}parsePrimitiveData(e,t,i,r){const{iScale:o,vScale:l}=e,c=o.axis,h=l.axis,f=o.getLabels(),m=o===l,y=new Array(r);let w,b,E;for(w=0,b=r;w<b;++w)E=w+i,y[w]={[c]:m||o.parse(f[E],E),[h]:l.parse(t[E],E)};return y}parseArrayData(e,t,i,r){const{xScale:o,yScale:l}=e,c=new Array(r);let h,f,m,y;for(h=0,f=r;h<f;++h)m=h+i,y=t[m],c[h]={x:o.parse(y[0],m),y:l.parse(y[1],m)};return c}parseObjectData(e,t,i,r){const{xScale:o,yScale:l}=e,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,f=new Array(r);let m,y,w,b;for(m=0,y=r;m<y;++m)w=m+i,b=t[w],f[m]={x:o.parse(Xh(b,c),w),y:l.parse(Xh(b,h),w)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const r=this.chart,o=this._cachedMeta,l=t[e.axis],c={keys:KE(r,!0),values:t._stacks[e.axis]._visualValues};return Z0(c,l,o.index,{mode:i})}updateRangeFromParsed(e,t,i,r){const o=i[t.axis];let l=o===null?NaN:o;const c=r&&i._stacks[t.axis];r&&c&&(r.values=c,l=Z0(r,o,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&e===i.iScale,l=r.length,c=this._getOtherScale(e),h=oM(t,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:y}=nM(c);let w,b;function E(){b=r[w];const k=b[c.axis];return!Kt(b[e.axis])||m>k||y<k}for(w=0;w<l&&!(!E()&&(this.updateRangeFromParsed(f,e,b,h),o));++w);if(o){for(w=l-1;w>=0;--w)if(!E()){this.updateRangeFromParsed(f,e,b,h);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let r,o,l;for(r=0,o=t.length;r<o;++r)l=t[r][e.axis],Kt(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,r=t.vScale,o=this.getParsed(e);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=ZD(Ne(this.options.clip,JD(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,r=i.data||[],o=t.chartArea,l=[],c=this._drawStart||0,h=this._drawCount||r.length-c,f=this.options.drawActiveElementsOnTop;let m;for(i.dataset&&i.dataset.draw(e,o,c,h),m=c;m<c+h;++m){const y=r[m];y.hidden||(y.active&&f?l.push(y):y.draw(e,o))}for(m=0;m<l.length;++m)l[m].draw(e,o)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const r=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];o=l.$context||(l.$context=sM(this.getContext(),e,l)),o.parsed=this.getParsed(e),o.raw=r.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=rM(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=i,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const r=t==="active",o=this._cachedDataOpts,l=e+"-"+t,c=o[l],h=this.enableOptionSharing&&Qh(i);if(c)return nw(c,h);const f=this.chart.config,m=f.datasetElementScopeKeys(this._type,e),y=r?[`${e}Hover`,"hover",e,""]:[e,""],w=f.getOptionScopes(this.getDataset(),m),b=Object.keys(ft.elements[e]),E=()=>this.getContext(i,r,t),k=f.resolveNamedOptions(w,b,E,y);return k.$shared&&(k.$shared=h,o[l]=Object.freeze(nw(k,h))),k}_resolveAnimations(e,t,i){const r=this.chart,o=this._cachedDataOpts,l=`animation-${t}`,c=o[l];if(c)return c;let h;if(r.options.animation!==!1){const m=this.chart.config,y=m.datasetAnimationScopeKeys(this._type,t),w=m.getOptionScopes(this.getDataset(),y);h=m.createResolver(w,this.getContext(e,i,t))}const f=new GE(r,h&&h.animations);return h&&h._cacheable&&(o[l]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||jp(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),r=this._sharedOptions,o=this.getSharedOptions(i),l=this.includeOptions(t,o)||o!==r;return this.updateSharedOptions(o,t,i),{sharedOptions:o,includeOptions:l}}updateElement(e,t,i,r){jp(r)?Object.assign(e,i):this._resolveAnimations(t,r).update(e,i)}updateSharedOptions(e,t,i){e&&!jp(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,r){e.active=r;const o=this.getStyle(t,r);this._resolveAnimations(t,i,r).update(e,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[c,h,f]of this._syncList)this[c](h,f);this._syncList=[];const r=i.length,o=t.length,l=Math.min(o,r);l&&this.parse(0,l),o>r?this._insertElements(r,o-r,e):o<r&&this._removeElements(o,r-o)}_insertElements(e,t,i=!0){const r=this._cachedMeta,o=r.data,l=e+t;let c;const h=f=>{for(f.length+=t,c=f.length-1;c>=l;c--)f[c]=f[c-t]};for(h(o),c=e;c<l;++c)o[c]=new this.dataElementType;this._parsing&&h(r._parsed),this.parse(e,t),i&&this.updateElements(o,e,t,"reset")}updateElements(e,t,i,r){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,t);i._stacked&&Ml(i,r)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,r]=e;this[t](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ie(Ih,"defaults",{}),Ie(Ih,"datasetElementType",null),Ie(Ih,"dataElementType",null);function Bs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ag{constructor(e){Ie(this,"options");this.options=e||{}}static override(e){Object.assign(Ag.prototype,e)}init(){}formats(){return Bs()}parse(){return Bs()}format(){return Bs()}add(){return Bs()}diff(){return Bs()}startOf(){return Bs()}endOf(){return Bs()}}var aM={_date:Ag};function lM(n,e,t,i){const{controller:r,data:o,_sorted:l}=n,c=r._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&l&&o.length){const f=c._reversePixels?BO:xm;if(i){if(r._sharedOptions){const m=o[0],y=typeof m.getRange=="function"&&m.getRange(e);if(y){const w=f(o,e,t-y),b=f(o,e,t+y);return{lo:w.lo,hi:b.hi}}}}else{const m=f(o,e,t);if(h){const{vScale:y}=r._cachedMeta,{_parsed:w}=n,b=w.slice(0,m.lo+1).reverse().findIndex(k=>!lt(k[y.axis]));m.lo-=Math.max(0,b);const E=w.slice(m.hi).findIndex(k=>!lt(k[y.axis]));m.hi+=Math.max(0,E)}return m}}return{lo:0,hi:o.length-1}}function Od(n,e,t,i,r){const o=n.getSortedVisibleDatasetMetas(),l=t[e];for(let c=0,h=o.length;c<h;++c){const{index:f,data:m}=o[c],{lo:y,hi:w}=lM(o[c],e,l,r);for(let b=y;b<=w;++b){const E=m[b];E.skip||i(E,f,b)}}}function cM(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){const o=e?Math.abs(i.x-r.x):0,l=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function Up(n,e,t,i,r){const o=[];return!r&&!n.isPointInArea(e)||Od(n,t,e,function(c,h,f){!r&&!yc(c,n.chartArea,0)||c.inRange(e.x,e.y,i)&&o.push({element:c,datasetIndex:h,index:f})},!0),o}function uM(n,e,t,i){let r=[];function o(l,c,h){const{startAngle:f,endAngle:m}=l.getProps(["startAngle","endAngle"],i),{angle:y}=jO(l,{x:e.x,y:e.y});kE(y,f,m)&&r.push({element:l,datasetIndex:c,index:h})}return Od(n,t,e,o),r}function hM(n,e,t,i,r,o){let l=[];const c=cM(t);let h=Number.POSITIVE_INFINITY;function f(m,y,w){const b=m.inRange(e.x,e.y,r);if(i&&!b)return;const E=m.getCenterPoint(r);if(!(!!o||n.isPointInArea(E))&&!b)return;const S=c(e,E);S<h?(l=[{element:m,datasetIndex:y,index:w}],h=S):S===h&&l.push({element:m,datasetIndex:y,index:w})}return Od(n,t,e,f),l}function zp(n,e,t,i,r,o){return!o&&!n.isPointInArea(e)?[]:t==="r"&&!i?uM(n,e,t,r):hM(n,e,t,i,r,o)}function iw(n,e,t,i,r){const o=[],l=t==="x"?"inXRange":"inYRange";let c=!1;return Od(n,t,e,(h,f,m)=>{h[l]&&h[l](e[t],r)&&(o.push({element:h,datasetIndex:f,index:m}),c=c||h.inRange(e.x,e.y,r))}),i&&!c?[]:o}var dM={modes:{index(n,e,t,i){const r=$s(e,n),o=t.axis||"x",l=t.includeInvisible||!1,c=t.intersect?Up(n,r,o,i,l):zp(n,r,o,!1,i,l),h=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const m=c[0].index,y=f.data[m];y&&!y.skip&&h.push({element:y,datasetIndex:f.index,index:m})}),h):[]},dataset(n,e,t,i){const r=$s(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;let c=t.intersect?Up(n,r,o,i,l):zp(n,r,o,!1,i,l);if(c.length>0){const h=c[0].datasetIndex,f=n.getDatasetMeta(h).data;c=[];for(let m=0;m<f.length;++m)c.push({element:f[m],datasetIndex:h,index:m})}return c},point(n,e,t,i){const r=$s(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;return Up(n,r,o,i,l)},nearest(n,e,t,i){const r=$s(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;return zp(n,r,o,t.intersect,i,l)},x(n,e,t,i){const r=$s(e,n);return iw(n,r,"x",t.intersect,i)},y(n,e,t,i){const r=$s(e,n);return iw(n,r,"y",t.intersect,i)}}};const qE=["left","top","right","bottom"];function Ll(n,e){return n.filter(t=>t.pos===e)}function rw(n,e){return n.filter(t=>qE.indexOf(t.pos)===-1&&t.box.axis===e)}function Fl(n,e){return n.sort((t,i)=>{const r=e?i:t,o=e?t:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function fM(n){const e=[];let t,i,r,o,l,c;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:o,options:{stack:l,stackWeight:c=1}}=r,e.push({index:t,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&o+l,stackWeight:c});return e}function pM(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:o}=t;if(!i||!qE.includes(r))continue;const l=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return e}function mM(n,e){const t=pM(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let o,l,c;for(o=0,l=n.length;o<l;++o){c=n[o];const{fullSize:h}=c.box,f=t[c.stack],m=f&&c.stackWeight/f.weight;c.horizontal?(c.width=m?m*i:h&&e.availableWidth,c.height=r):(c.width=i,c.height=m?m*r:h&&e.availableHeight)}return t}function gM(n){const e=fM(n),t=Fl(e.filter(f=>f.box.fullSize),!0),i=Fl(Ll(e,"left"),!0),r=Fl(Ll(e,"right")),o=Fl(Ll(e,"top"),!0),l=Fl(Ll(e,"bottom")),c=rw(e,"x"),h=rw(e,"y");return{fullSize:t,leftAndTop:i.concat(o),rightAndBottom:r.concat(h).concat(l).concat(c),chartArea:Ll(e,"chartArea"),vertical:i.concat(r).concat(h),horizontal:o.concat(l).concat(c)}}function sw(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function YE(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function yM(n,e,t,i){const{pos:r,box:o}=t,l=n.maxPadding;if(!Fe(r)){t.size&&(n[r]-=t.size);const y=i[t.stack]||{size:0,count:1};y.size=Math.max(y.size,t.horizontal?o.height:o.width),t.size=y.size/y.count,n[r]+=t.size}o.getPadding&&YE(l,o.getPadding());const c=Math.max(0,e.outerWidth-sw(l,n,"left","right")),h=Math.max(0,e.outerHeight-sw(l,n,"top","bottom")),f=c!==n.w,m=h!==n.h;return n.w=c,n.h=h,t.horizontal?{same:f,other:m}:{same:m,other:f}}function _M(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function vM(n,e){const t=e.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{o[l]=Math.max(e[l],t[l])}),o}return i(n?["left","right"]:["top","bottom"])}function Kl(n,e,t,i){const r=[];let o,l,c,h,f,m;for(o=0,l=n.length,f=0;o<l;++o){c=n[o],h=c.box,h.update(c.width||e.w,c.height||e.h,vM(c.horizontal,e));const{same:y,other:w}=yM(e,t,c,i);f|=y&&r.length,m=m||w,h.fullSize||r.push(c)}return f&&Kl(r,e,t,i)||m}function uh(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function ow(n,e,t,i){const r=t.padding;let{x:o,y:l}=e;for(const c of n){const h=c.box,f=i[c.stack]||{placed:0,weight:1},m=c.stackWeight/f.weight||1;if(c.horizontal){const y=e.w*m,w=f.size||h.height;Qh(f.start)&&(l=f.start),h.fullSize?uh(h,r.left,l,t.outerWidth-r.right-r.left,w):uh(h,e.left+f.placed,l,y,w),f.start=l,f.placed+=y,l=h.bottom}else{const y=e.h*m,w=f.size||h.width;Qh(f.start)&&(o=f.start),h.fullSize?uh(h,o,r.top,w,t.outerHeight-r.bottom-r.top):uh(h,o,e.top+f.placed,w,y),f.start=o,f.placed+=y,o=h.right}}e.x=o,e.y=l}var Jr={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=ui(n.options.layout.padding),o=Math.max(e-r.width,0),l=Math.max(t-r.height,0),c=gM(n.boxes),h=c.vertical,f=c.horizontal;Ge(n.boxes,k=>{typeof k.beforeLayout=="function"&&k.beforeLayout()});const m=h.reduce((k,S)=>S.box.options&&S.box.options.display===!1?k:k+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/m,hBoxMaxHeight:l/2}),w=Object.assign({},r);YE(w,ui(i));const b=Object.assign({maxPadding:w,w:o,h:l,x:r.left,y:r.top},r),E=mM(h.concat(f),y);Kl(c.fullSize,b,y,E),Kl(h,b,y,E),Kl(f,b,y,E)&&Kl(h,b,y,E),_M(b),ow(c.leftAndTop,b,y,E),b.x+=b.w,b.y+=b.h,ow(c.rightAndBottom,b,y,E),n.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},Ge(c.chartArea,k=>{const S=k.box;Object.assign(S,n.chartArea),S.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class XE{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class wM extends XE{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ph="$chartjs",xM={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},aw=n=>n===null||n==="";function SM(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Ph]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",aw(r)){const o=K0(n,"width");o!==void 0&&(n.width=o)}if(aw(i))if(n.style.height==="")n.height=n.width/(e||2);else{const o=K0(n,"height");o!==void 0&&(n.height=o)}return n}const QE=LD?{passive:!0}:!1;function EM(n,e,t){n&&n.addEventListener(e,t,QE)}function bM(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,QE)}function TM(n,e){const t=xM[n.type]||n.type,{x:i,y:r}=$s(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function nd(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function CM(n,e,t){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const c of o)l=l||nd(c.addedNodes,i),l=l&&!nd(c.removedNodes,i);l&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function kM(n,e,t){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const c of o)l=l||nd(c.removedNodes,i),l=l&&!nd(c.addedNodes,i);l&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const _c=new Map;let lw=0;function JE(){const n=window.devicePixelRatio;n!==lw&&(lw=n,_c.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function IM(n,e){_c.size||window.addEventListener("resize",JE),_c.set(n,e)}function PM(n){_c.delete(n),_c.size||window.removeEventListener("resize",JE)}function RM(n,e,t){const i=n.canvas,r=i&&Rg(i);if(!r)return;const o=RE((c,h)=>{const f=r.clientWidth;t(c,h),f<r.clientWidth&&t()},window),l=new ResizeObserver(c=>{const h=c[0],f=h.contentRect.width,m=h.contentRect.height;f===0&&m===0||o(f,m)});return l.observe(r),IM(n,o),l}function Bp(n,e,t){t&&t.disconnect(),e==="resize"&&PM(n)}function AM(n,e,t){const i=n.canvas,r=RE(o=>{n.ctx!==null&&t(TM(o,n))},n);return EM(i,e,r),r}class NM extends XE{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(SM(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[Ph])return!1;const i=t[Ph].initial;["height","width"].forEach(o=>{const l=i[o];lt(l)?t.removeAttribute(o):t.setAttribute(o,l)});const r=i.style||{};return Object.keys(r).forEach(o=>{t.style[o]=r[o]}),t.width=t.width,delete t[Ph],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),l={attach:CM,detach:kM,resize:RM}[t]||AM;r[t]=l(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:Bp,detach:Bp,resize:Bp}[t]||bM)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return MD(e,t,i,r)}isAttached(e){const t=e&&Rg(e);return!!(t&&t.isConnected)}}function OM(n){return!Pg()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?wM:NM}class as{constructor(){Ie(this,"x");Ie(this,"y");Ie(this,"active",!1);Ie(this,"options");Ie(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Zh(this.x)&&Zh(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}Ie(as,"defaults",{}),Ie(as,"defaultRoutes");function DM(n,e){const t=n.options.ticks,i=MM(n),r=Math.min(t.maxTicksLimit||i,i),o=t.major.enabled?FM(e):[],l=o.length,c=o[0],h=o[l-1],f=[];if(l>r)return jM(e,f,o,l/r),f;const m=LM(o,e,r);if(l>0){let y,w;const b=l>1?Math.round((h-c)/(l-1)):null;for(hh(e,f,m,lt(b)?0:c-b,c),y=0,w=l-1;y<w;y++)hh(e,f,m,o[y],o[y+1]);return hh(e,f,m,h,lt(b)?e.length:h+b),f}return hh(e,f,m),f}function MM(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function LM(n,e,t){const i=UM(n),r=e.length/t;if(!i)return Math.max(r,1);const o=OO(i);for(let l=0,c=o.length-1;l<c;l++){const h=o[l];if(h>r)return h}return Math.max(r,1)}function FM(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function jM(n,e,t,i){let r=0,o=t[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===o&&(e.push(n[l]),r++,o=t[r*i])}function hh(n,e,t,i,r){const o=Ne(i,0),l=Math.min(Ne(r,n.length),n.length);let c=0,h,f,m;for(t=Math.ceil(t),r&&(h=r-i,t=h/Math.floor(h/t)),m=o;m<0;)c++,m=Math.round(o+c*t);for(f=Math.max(o,0);f<l;f++)f===m&&(e.push(n[f]),c++,m=Math.round(o+c*t))}function UM(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const zM=n=>n==="left"?"right":n==="right"?"left":n,cw=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,uw=(n,e)=>Math.min(e||n,n);function hw(n,e){const t=[],i=n.length/e,r=n.length;let o=0;for(;o<r;o+=i)t.push(n[Math.floor(o)]);return t}function BM(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),o=n._startPixel,l=n._endPixel,c=1e-6;let h=n.getPixelForTick(r),f;if(!(t&&(i===1?f=Math.max(h-o,l-h):e===0?f=(n.getPixelForTick(1)-h)/2:f=(h-n.getPixelForTick(r-1))/2,h+=r<e?f:-f,h<o-c||h>l+c)))return h}function HM(n,e){Ge(n,t=>{const i=t.gc,r=i.length/2;let o;if(r>e){for(o=0;o<r;++o)delete t.data[i[o]];i.splice(0,r)}})}function jl(n){return n.drawTicks?n.tickLength:0}function dw(n,e){if(!n.display)return 0;const t=mn(n.font,e),i=ui(n.padding);return(Rt(n.text)?n.text.length:1)*t.lineHeight+i.height}function $M(n,e){return ho(n,{scale:e,type:"scale"})}function WM(n,e,t){return ho(n,{tick:t,index:e,type:"tick"})}function VM(n,e,t){let i=AE(n);return(t&&e!=="right"||!t&&e==="right")&&(i=zM(i)),i}function GM(n,e,t,i){const{top:r,left:o,bottom:l,right:c,chart:h}=n,{chartArea:f,scales:m}=h;let y=0,w,b,E;const k=l-r,S=c-o;if(n.isHorizontal()){if(b=Tn(i,o,c),Fe(t)){const R=Object.keys(t)[0],O=t[R];E=m[R].getPixelForValue(O)+k-e}else t==="center"?E=(f.bottom+f.top)/2+k-e:E=cw(n,t,e);w=c-o}else{if(Fe(t)){const R=Object.keys(t)[0],O=t[R];b=m[R].getPixelForValue(O)-S+e}else t==="center"?b=(f.left+f.right)/2-S+e:b=cw(n,t,e);E=Tn(i,l,r),y=t==="left"?-si:si}return{titleX:b,titleY:E,maxWidth:w,rotation:y}}class Aa extends as{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=Ei(e,Number.POSITIVE_INFINITY),t=Ei(t,Number.NEGATIVE_INFINITY),i=Ei(i,Number.POSITIVE_INFINITY),r=Ei(r,Number.NEGATIVE_INFINITY),{min:Ei(e,i),max:Ei(t,r),minDefined:Kt(e),maxDefined:Kt(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),l;if(r&&o)return{min:t,max:i};const c=this.getMatchingVisibleMetas();for(let h=0,f=c.length;h<f;++h)l=c[h].controller.getMinMax(this,e),r||(t=Math.min(t,l.min)),o||(i=Math.max(i,l.max));return t=o&&t>i?i:t,i=r&&t>i?t:i,{min:Ei(t,Ei(i,t)),max:Ei(i,Ei(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){et(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:o,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=fD(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?hw(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=DM(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){et(this.options.afterUpdate,[this])}beforeSetDimensions(){et(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){et(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),et(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){et(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,o;for(i=0,r=e.length;i<r;i++)o=e[i],o.label=et(t.callback,[o.value,i,e],this)}afterTickToLabelConversion(){et(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){et(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=uw(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,o=t.maxRotation;let l=r,c,h,f;if(!this._isVisible()||!t.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const m=this._getLabelSizes(),y=m.widest.width,w=m.highest.height,b=Ii(this.chart.width-y,0,this.maxWidth);c=e.offset?this.maxWidth/i:b/(i-1),y+6>c&&(c=b/(i-(e.offset?.5:1)),h=this.maxHeight-jl(e.grid)-t.padding-dw(e.title,this.chart.options.font),f=Math.sqrt(y*y+w*w),l=FO(Math.min(Math.asin(Ii((m.highest.height+6)/c,-1,1)),Math.asin(Ii(h/f,-1,1))-Math.asin(Ii(w/f,-1,1)))),l=Math.max(r,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){et(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){et(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:o}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const h=dw(r,t.options.font);if(c?(e.width=this.maxWidth,e.height=jl(o)+h):(e.height=this.maxHeight,e.width=jl(o)+h),i.display&&this.ticks.length){const{first:f,last:m,widest:y,highest:w}=this._getLabelSizes(),b=i.padding*2,E=qs(this.labelRotation),k=Math.cos(E),S=Math.sin(E);if(c){const R=i.mirror?0:S*y.width+k*w.height;e.height=Math.min(this.maxHeight,e.height+R+b)}else{const R=i.mirror?0:k*y.width+S*w.height;e.width=Math.min(this.maxWidth,e.width+R+b)}this._calculatePadding(f,m,S,k)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:o,padding:l},position:c}=this.options,h=this.labelRotation!==0,f=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let w=0,b=0;h?f?(w=r*e.width,b=i*t.height):(w=i*e.height,b=r*t.width):o==="start"?b=t.width:o==="end"?w=e.width:o!=="inner"&&(w=e.width/2,b=t.width/2),this.paddingLeft=Math.max((w-m+l)*this.width/(this.width-m),0),this.paddingRight=Math.max((b-y+l)*this.width/(this.width-y),0)}else{let m=t.height/2,y=e.height/2;o==="start"?(m=0,y=e.height):o==="end"&&(m=t.height,y=0),this.paddingTop=m+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){et(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)lt(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=hw(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:o}=this,l=[],c=[],h=Math.floor(t/uw(t,i));let f=0,m=0,y,w,b,E,k,S,R,O,D,H,q;for(y=0;y<t;y+=h){if(E=e[y].label,k=this._resolveTickFontOptions(y),r.font=S=k.string,R=o[S]=o[S]||{data:{},gc:[]},O=k.lineHeight,D=H=0,!lt(E)&&!Rt(E))D=H0(r,R.data,R.gc,D,E),H=O;else if(Rt(E))for(w=0,b=E.length;w<b;++w)q=E[w],!lt(q)&&!Rt(q)&&(D=H0(r,R.data,R.gc,D,q),H+=O);l.push(D),c.push(H),f=Math.max(D,f),m=Math.max(H,m)}HM(o,t);const J=l.indexOf(f),N=c.indexOf(m),I=A=>({width:l[A]||0,height:c[A]||0});return{first:I(0),last:I(t-1),widest:I(J),highest:I(N),widths:l,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return zO(this._alignToPixels?zs(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=WM(this.getContext(),e,i))}return this.$context||(this.$context=$M(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=qs(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),o=this._getLabelSizes(),l=e.autoSkipPadding||0,c=o?o.widest.width+l:0,h=o?o.highest.height+l:0;return this.isHorizontal()?h*i>c*r?c/i:h/r:h*r<c*i?h/i:c/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:o,position:l,border:c}=r,h=o.offset,f=this.isHorizontal(),y=this.ticks.length+(h?1:0),w=jl(o),b=[],E=c.setContext(this.getContext()),k=E.display?E.width:0,S=k/2,R=function(ke){return zs(i,ke,k)};let O,D,H,q,J,N,I,A,F,j,B,M;if(l==="top")O=R(this.bottom),N=this.bottom-w,A=O-S,j=R(e.top)+S,M=e.bottom;else if(l==="bottom")O=R(this.top),j=e.top,M=R(e.bottom)-S,N=O+S,A=this.top+w;else if(l==="left")O=R(this.right),J=this.right-w,I=O-S,F=R(e.left)+S,B=e.right;else if(l==="right")O=R(this.left),F=e.left,B=R(e.right)-S,J=O+S,I=this.left+w;else if(t==="x"){if(l==="center")O=R((e.top+e.bottom)/2+.5);else if(Fe(l)){const ke=Object.keys(l)[0],xe=l[ke];O=R(this.chart.scales[ke].getPixelForValue(xe))}j=e.top,M=e.bottom,N=O+S,A=N+w}else if(t==="y"){if(l==="center")O=R((e.left+e.right)/2);else if(Fe(l)){const ke=Object.keys(l)[0],xe=l[ke];O=R(this.chart.scales[ke].getPixelForValue(xe))}J=O-S,I=J-w,F=e.left,B=e.right}const Oe=Ne(r.ticks.maxTicksLimit,y),Te=Math.max(1,Math.ceil(y/Oe));for(D=0;D<y;D+=Te){const ke=this.getContext(D),xe=o.setContext(ke),re=c.setContext(ke),pe=xe.lineWidth,oe=xe.color,W=re.dash||[],Z=re.dashOffset,he=xe.tickWidth,ve=xe.tickColor,Se=xe.tickBorderDash||[],Ee=xe.tickBorderDashOffset;H=BM(this,D,h),H!==void 0&&(q=zs(i,H,pe),f?J=I=F=B=q:N=A=j=M=q,b.push({tx1:J,ty1:N,tx2:I,ty2:A,x1:F,y1:j,x2:B,y2:M,width:pe,color:oe,borderDash:W,borderDashOffset:Z,tickWidth:he,tickColor:ve,tickBorderDash:Se,tickBorderDashOffset:Ee}))}return this._ticksLength=y,this._borderValue=O,b}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:o}=i,l=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:f,padding:m,mirror:y}=o,w=jl(i.grid),b=w+m,E=y?-m:b,k=-qs(this.labelRotation),S=[];let R,O,D,H,q,J,N,I,A,F,j,B,M="middle";if(r==="top")J=this.bottom-E,N=this._getXAxisLabelAlignment();else if(r==="bottom")J=this.top+E,N=this._getXAxisLabelAlignment();else if(r==="left"){const Te=this._getYAxisLabelAlignment(w);N=Te.textAlign,q=Te.x}else if(r==="right"){const Te=this._getYAxisLabelAlignment(w);N=Te.textAlign,q=Te.x}else if(t==="x"){if(r==="center")J=(e.top+e.bottom)/2+b;else if(Fe(r)){const Te=Object.keys(r)[0],ke=r[Te];J=this.chart.scales[Te].getPixelForValue(ke)+b}N=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")q=(e.left+e.right)/2-b;else if(Fe(r)){const Te=Object.keys(r)[0],ke=r[Te];q=this.chart.scales[Te].getPixelForValue(ke)}N=this._getYAxisLabelAlignment(w).textAlign}t==="y"&&(h==="start"?M="top":h==="end"&&(M="bottom"));const Oe=this._getLabelSizes();for(R=0,O=c.length;R<O;++R){D=c[R],H=D.label;const Te=o.setContext(this.getContext(R));I=this.getPixelForTick(R)+o.labelOffset,A=this._resolveTickFontOptions(R),F=A.lineHeight,j=Rt(H)?H.length:1;const ke=j/2,xe=Te.color,re=Te.textStrokeColor,pe=Te.textStrokeWidth;let oe=N;l?(q=I,N==="inner"&&(R===O-1?oe=this.options.reverse?"left":"right":R===0?oe=this.options.reverse?"right":"left":oe="center"),r==="top"?f==="near"||k!==0?B=-j*F+F/2:f==="center"?B=-Oe.highest.height/2-ke*F+F:B=-Oe.highest.height+F/2:f==="near"||k!==0?B=F/2:f==="center"?B=Oe.highest.height/2-ke*F:B=Oe.highest.height-j*F,y&&(B*=-1),k!==0&&!Te.showLabelBackdrop&&(q+=F/2*Math.sin(k))):(J=I,B=(1-j)*F/2);let W;if(Te.showLabelBackdrop){const Z=ui(Te.backdropPadding),he=Oe.heights[R],ve=Oe.widths[R];let Se=B-Z.top,Ee=0-Z.left;switch(M){case"middle":Se-=he/2;break;case"bottom":Se-=he;break}switch(N){case"center":Ee-=ve/2;break;case"right":Ee-=ve;break;case"inner":R===O-1?Ee-=ve:R>0&&(Ee-=ve/2);break}W={left:Ee,top:Se,width:ve+Z.width,height:he+Z.height,color:Te.backdropColor}}S.push({label:H,font:A,textOffset:B,options:{rotation:k,color:xe,strokeColor:re,strokeWidth:pe,textAlign:oe,textBaseline:M,translation:[q,J],backdrop:W}})}return S}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-qs(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,l=this._getLabelSizes(),c=e+o,h=l.widest.width;let f,m;return t==="left"?r?(m=this.right+o,i==="near"?f="left":i==="center"?(f="center",m+=h/2):(f="right",m+=h)):(m=this.right-c,i==="near"?f="right":i==="center"?(f="center",m-=h/2):(f="left",m=this.left)):t==="right"?r?(m=this.left+o,i==="near"?f="right":i==="center"?(f="center",m-=h/2):(f="left",m-=h)):(m=this.left+c,i==="near"?f="left":i==="center"?(f="center",m+=h/2):(f="right",m=this.right)):f="right",{textAlign:f,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:o,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,o,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(o=>o.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,l;const c=(h,f,m)=>{!m.width||!m.color||(i.save(),i.lineWidth=m.width,i.strokeStyle=m.color,i.setLineDash(m.borderDash||[]),i.lineDashOffset=m.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(t.display)for(o=0,l=r.length;o<l;++o){const h=r[o];t.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),l=i.display?o.width:0;if(!l)return;const c=r.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,m,y,w;this.isHorizontal()?(f=zs(e,this.left,l)-l/2,m=zs(e,this.right,c)+c/2,y=w=h):(y=zs(e,this.top,l)-l/2,w=zs(e,this.bottom,c)+c/2,f=m=h),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(f,y),t.lineTo(m,w),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Rd(i,r);const o=this.getLabelItems(e);for(const l of o){const c=l.options,h=l.font,f=l.label,m=l.textOffset;ed(i,f,0,m,h,c)}r&&Ad(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const o=mn(i.font),l=ui(i.padding),c=i.align;let h=o.lineHeight/2;t==="bottom"||t==="center"||Fe(t)?(h+=l.bottom,Rt(i.text)&&(h+=o.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:f,titleY:m,maxWidth:y,rotation:w}=GM(this,h,t,c);ed(e,i.text,0,0,o,{color:i.color,maxWidth:y,rotation:w,textAlign:VM(c,t,r),textBaseline:"middle",translation:[f,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=Ne(e.grid&&e.grid.z,-1),r=Ne(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Aa.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,l;for(o=0,l=t.length;o<l;++o){const c=t[o];c[i]===this.id&&(!e||c.type===e)&&r.push(c)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return mn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class dh{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;YM(t)&&(i=this.register(t));const r=this.items,o=e.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in r||(r[o]=e,KM(e,l,i),this.override&&ft.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in ft[r]&&(delete ft[r][i],this.override&&delete so[i])}}function KM(n,e,t){const i=gc(Object.create(null),[t?ft.get(t):{},ft.get(e),n.defaults]);ft.set(e,i),n.defaultRoutes&&qM(e,n.defaultRoutes),n.descriptors&&ft.describe(e,n.descriptors)}function qM(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),o=[n].concat(i).join("."),l=e[t].split("."),c=l.pop(),h=l.join(".");ft.route(o,r,h,c)})}function YM(n){return"id"in n&&"defaults"in n}class XM{constructor(){this.controllers=new dh(Ih,"datasets",!0),this.elements=new dh(as,"elements"),this.plugins=new dh(Object,"plugins"),this.scales=new dh(Aa,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(e,o,r):Ge(r,l=>{const c=i||this._getRegistryForType(l);this._exec(e,c,l)})})}_exec(e,t,i){const r=Eg(e);et(i["before"+r],[],i),t[e](i),et(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Ti=new XM;class QM{constructor(){this._init=[]}notify(e,t,i,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=r?this._descriptors(e).filter(r):this._descriptors(e),l=this._notify(o,e,t,i);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,t,i,r){r=r||{};for(const o of e){const l=o.plugin,c=l[i],h=[t,r,o.options];if(et(c,h,l)===!1&&r.cancelable)return!1}return!0}invalidate(){lt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=Ne(i.options&&i.options.plugins,{}),o=JM(i);return r===!1&&!t?[]:eL(e,o,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(o,l)=>o.filter(c=>!l.some(h=>c.plugin.id===h.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function JM(n){const e={},t=[],i=Object.keys(Ti.plugins.items);for(let o=0;o<i.length;o++)t.push(Ti.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const l=r[o];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function ZM(n,e){return!e&&n===!1?null:n===!0?{}:n}function eL(n,{plugins:e,localIds:t},i,r){const o=[],l=n.getContext();for(const c of e){const h=c.id,f=ZM(i[h],r);f!==null&&o.push({plugin:c,options:tL(n.config,{plugin:c,local:t[h]},f,l)})}return o}function tL(n,{plugin:e,local:t},i,r){const o=n.pluginScopeKeys(e),l=n.getOptionScopes(i,o);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Tm(n,e){const t=ft.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function nL(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function iL(n,e){return n===e?"_index_":"_value_"}function fw(n){if(n==="x"||n==="y"||n==="r")return n}function rL(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Cm(n,...e){if(fw(n))return n;for(const t of e){const i=t.axis||rL(t.position)||n.length>1&&fw(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function pw(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function sL(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return pw(n,"x",t[0])||pw(n,"y",t[0])}return{}}function oL(n,e){const t=so[n.type]||{scales:{}},i=e.scales||{},r=Tm(n.type,e),o=Object.create(null);return Object.keys(i).forEach(l=>{const c=i[l];if(!Fe(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=Cm(l,c,sL(l,n),ft.scales[c.type]),f=iL(h,r),m=t.scales||{};o[l]=Jl(Object.create(null),[{axis:h},c,m[h],m[f]])}),n.data.datasets.forEach(l=>{const c=l.type||n.type,h=l.indexAxis||Tm(c,e),m=(so[c]||{}).scales||{};Object.keys(m).forEach(y=>{const w=nL(y,h),b=l[w+"AxisID"]||w;o[b]=o[b]||Object.create(null),Jl(o[b],[{axis:w},i[b],m[y]])})}),Object.keys(o).forEach(l=>{const c=o[l];Jl(c,[ft.scales[c.type],ft.scale])}),o}function ZE(n){const e=n.options||(n.options={});e.plugins=Ne(e.plugins,{}),e.scales=oL(n,e)}function eb(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function aL(n){return n=n||{},n.data=eb(n.data),ZE(n),n}const mw=new Map,tb=new Set;function fh(n,e){let t=mw.get(n);return t||(t=e(),mw.set(n,t),tb.add(t)),t}const Ul=(n,e,t)=>{const i=Xh(e,t);i!==void 0&&n.add(i)};class lL{constructor(e){this._config=aL(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=eb(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),ZE(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return fh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return fh(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return fh(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return fh(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:o}=this,l=this._cachedScopes(e,i),c=l.get(t);if(c)return c;const h=new Set;t.forEach(m=>{e&&(h.add(e),m.forEach(y=>Ul(h,e,y))),m.forEach(y=>Ul(h,r,y)),m.forEach(y=>Ul(h,so[o]||{},y)),m.forEach(y=>Ul(h,ft,y)),m.forEach(y=>Ul(h,Sm,y))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),tb.has(t)&&l.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,so[t]||{},ft.datasets[t]||{},{type:t},ft,Sm]}resolveNamedOptions(e,t,i,r=[""]){const o={$shared:!0},{resolver:l,subPrefixes:c}=gw(this._resolverCache,e,r);let h=l;if(uL(l,t)){o.$shared=!1,i=os(i)?i():i;const f=this.createResolver(e,i,c);h=va(l,i,f)}for(const f of t)o[f]=h[f];return o}createResolver(e,t,i=[""],r){const{resolver:o}=gw(this._resolverCache,e,i);return Fe(t)?va(o,t,void 0,r):o}}function gw(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let o=i.get(r);return o||(o={resolver:Cg(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},i.set(r,o)),o}const cL=n=>Fe(n)&&Object.getOwnPropertyNames(n).some(e=>os(n[e]));function uL(n,e){const{isScriptable:t,isIndexable:i}=LE(n);for(const r of e){const o=t(r),l=i(r),c=(l||o)&&n[r];if(o&&(os(c)||cL(c))||l&&Rt(c))return!0}return!1}var hL="4.4.8";const dL=["top","bottom","left","right","chartArea"];function yw(n,e){return n==="top"||n==="bottom"||dL.indexOf(n)===-1&&e==="x"}function _w(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function vw(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),et(t&&t.onComplete,[n],e)}function fL(n){const e=n.chart,t=e.options.animation;et(t&&t.onProgress,[n],e)}function nb(n){return Pg()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Rh={},ww=n=>{const e=nb(n);return Object.values(Rh).filter(t=>t.canvas===e).pop()};function pL(n,e,t){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=e){const l=n[r];delete n[r],(t>0||o>e)&&(n[o+t]=l)}}}function mL(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}function ph(n,e,t){return n.options.clip?n[t]:e[t]}function gL(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:ph(t,e,"left"),right:ph(t,e,"right"),top:ph(i,e,"top"),bottom:ph(i,e,"bottom")}:e}var Kr;let Ng=(Kr=class{static register(...e){Ti.add(...e),xw()}static unregister(...e){Ti.remove(...e),xw()}constructor(e,t){const i=this.config=new lL(t),r=nb(e),o=ww(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||OM(r)),this.platform.updateConfig(i);const c=this.platform.acquireContext(r,l.aspectRatio),h=c&&c.canvas,f=h&&h.height,m=h&&h.width;if(this.id=bO(),this.ctx=c,this.canvas=h,this.width=m,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new QM,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=VO(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],Rh[this.id]=this,!c||!h){console.error("Failed to create chart: can't acquire context from the given item");return}tr.listen(this,"complete",vw),tr.listen(this,"progress",fL),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:o}=this;return lt(e)?t&&o?o:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ti}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():G0(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return $0(this.canvas,this.ctx),this}stop(){return tr.stop(this),this}resize(e,t){tr.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,e,t,o),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,G0(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),et(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Ge(t,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,r=Object.keys(i).reduce((l,c)=>(l[c]=!1,l),{});let o=[];t&&(o=o.concat(Object.keys(t).map(l=>{const c=t[l],h=Cm(l,c),f=h==="r",m=h==="x";return{options:c,dposition:f?"chartArea":m?"bottom":"left",dtype:f?"radialLinear":m?"category":"linear"}}))),Ge(o,l=>{const c=l.options,h=c.id,f=Cm(h,c),m=Ne(c.type,l.dtype);(c.position===void 0||yw(c.position,f)!==yw(l.dposition))&&(c.position=l.dposition),r[h]=!0;let y=null;if(h in i&&i[h].type===m)y=i[h];else{const w=Ti.getScale(m);y=new w({id:h,type:m,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(c,e)}),Ge(r,(l,c)=>{l||delete i[c]}),Ge(i,l=>{Jr.configure(this,l,l.options),Jr.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((r,o)=>r.index-o.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(_w("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,r)=>{t.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const o=t[i];let l=this.getDatasetMeta(i);const c=o.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=c,l.indexAxis=o.indexAxis||Tm(c,this.options),l.order=o.order||0,l.index=i,l.label=""+o.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=Ti.getController(c),{datasetElementType:f,dataElementType:m}=ft.datasets[c];Object.assign(h,{dataElementType:Ti.getElement(m),datasetElementType:f&&Ti.getElement(f)}),l.controller=new h(this,i),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Ge(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,m=this.data.datasets.length;f<m;f++){const{controller:y}=this.getDatasetMeta(f),w=!r&&o.indexOf(y)===-1;y.buildOrUpdateElements(w),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),r||Ge(o,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(_w("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Ge(this.scales,e=>{Jr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!O0(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of t){const l=i==="_removeElements"?-o:o;pL(e,r,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=o=>new Set(e.filter(l=>l[0]===o).map((l,c)=>c+","+l.splice(1).join(","))),r=i(0);for(let o=1;o<t;o++)if(!O0(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Jr.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],Ge(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,os(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(tr.has(this)?this.attached&&!tr.running(this)&&tr.start(this):(this.draw(),vw({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let r,o;for(r=0,o=t.length;r<o;++r){const l=t[r];(!e||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i=e._clip,r=!i.disabled,o=gL(e,this.chartArea),l={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(r&&Rd(t,{left:i.left===!1?0:o.left-i.left,right:i.right===!1?this.width:o.right+i.right,top:i.top===!1?0:o.top-i.top,bottom:i.bottom===!1?this.height:o.bottom+i.bottom}),e.controller.draw(),r&&Ad(t),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(e){return yc(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,r){const o=dM.modes[t];return typeof o=="function"?o(this,e,i,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let r=i.filter(o=>o&&o._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=ho(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const r=i?"show":"hide",o=this.getDatasetMeta(e),l=o.controller._resolveAnimations(void 0,r);Qh(t)?(o.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),l.update(o,{visible:i}),this.update(c=>c.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),tr.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),$0(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Rh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(o,l)=>{t.addEventListener(this,o,l),e[o]=l},r=(o,l,c)=>{o.offsetX=l,o.offsetY=c,this._eventHandler(o)};Ge(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(h,f)=>{t.addEventListener(this,h,f),e[h]=f},r=(h,f)=>{e[h]&&(t.removeEventListener(this,h,f),delete e[h])},o=(h,f)=>{this.canvas&&this.resize(h,f)};let l;const c=()=>{r("attach",c),this.attached=!0,this.resize(),i("resize",o),i("detach",l)};l=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",c)},t.isAttached(this.canvas)?c():l()}unbindEvents(){Ge(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Ge(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const r=i?"set":"remove";let o,l,c,h;for(t==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),c=0,h=e.length;c<h;++c){l=e[c];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:o,index:l})=>{const c=this.getDatasetMeta(o);if(!c)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:c.data[l],index:l}});!qh(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const r=this.options.hover,o=(h,f)=>h.filter(m=>!f.some(y=>m.datasetIndex===y.datasetIndex&&m.index===y.index)),l=o(t,e),c=i?e:o(e,t);l.length&&this.updateHoverStyle(l,r.mode,!1),c.length&&r.mode&&this.updateHoverStyle(c,r.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:r=[],options:o}=this,l=t,c=this._getActiveElements(e,r,i,l),h=RO(e),f=mL(e,this._lastEvent,i,h);i&&(this._lastEvent=null,et(o.onHover,[e,c,this],this),h&&et(o.onClick,[e,c,this],this));const m=!qh(c,r);return(m||t)&&(this._active=c,this._updateHoverStyles(c,r,t)),this._lastEvent=f,m}_getActiveElements(e,t,i,r){if(e.type==="mouseout")return[];if(!i)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,r)}},Ie(Kr,"defaults",ft),Ie(Kr,"instances",Rh),Ie(Kr,"overrides",so),Ie(Kr,"registry",Ti),Ie(Kr,"version",hL),Ie(Kr,"getChart",ww),Kr);function xw(){return Ge(Ng.instances,n=>n._plugins.invalidate())}function ib(n,e,t=e){n.lineCap=Ne(t.borderCapStyle,e.borderCapStyle),n.setLineDash(Ne(t.borderDash,e.borderDash)),n.lineDashOffset=Ne(t.borderDashOffset,e.borderDashOffset),n.lineJoin=Ne(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=Ne(t.borderWidth,e.borderWidth),n.strokeStyle=Ne(t.borderColor,e.borderColor)}function yL(n,e,t){n.lineTo(t.x,t.y)}function _L(n){return n.stepped?iD:n.tension||n.cubicInterpolationMode==="monotone"?rD:yL}function rb(n,e,t={}){const i=n.length,{start:r=0,end:o=i-1}=t,{start:l,end:c}=e,h=Math.max(r,l),f=Math.min(o,c),m=r<l&&o<l||r>c&&o>c;return{count:i,start:h,loop:e.loop,ilen:f<h&&!m?i+f-h:f-h}}function vL(n,e,t,i){const{points:r,options:o}=e,{count:l,start:c,loop:h,ilen:f}=rb(r,t,i),m=_L(o);let{move:y=!0,reverse:w}=i||{},b,E,k;for(b=0;b<=f;++b)E=r[(c+(w?f-b:b))%l],!E.skip&&(y?(n.moveTo(E.x,E.y),y=!1):m(n,k,E,w,o.stepped),k=E);return h&&(E=r[(c+(w?f:0))%l],m(n,k,E,w,o.stepped)),!!h}function wL(n,e,t,i){const r=e.points,{count:o,start:l,ilen:c}=rb(r,t,i),{move:h=!0,reverse:f}=i||{};let m=0,y=0,w,b,E,k,S,R;const O=H=>(l+(f?c-H:H))%o,D=()=>{k!==S&&(n.lineTo(m,S),n.lineTo(m,k),n.lineTo(m,R))};for(h&&(b=r[O(0)],n.moveTo(b.x,b.y)),w=0;w<=c;++w){if(b=r[O(w)],b.skip)continue;const H=b.x,q=b.y,J=H|0;J===E?(q<k?k=q:q>S&&(S=q),m=(y*m+H)/++y):(D(),n.lineTo(H,q),E=J,y=0,k=S=q),R=q}D()}function km(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?wL:vL}function xL(n){return n.stepped?FD:n.tension||n.cubicInterpolationMode==="monotone"?jD:Ws}function SL(n,e,t,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,i)&&r.closePath()),ib(n,e.options),n.stroke(r)}function EL(n,e,t,i){const{segments:r,options:o}=e,l=km(e);for(const c of r)ib(n,o,c.style),n.beginPath(),l(n,e,c,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}const bL=typeof Path2D=="function";function TL(n,e,t,i){bL&&!e.options.segment?SL(n,e,t,i):EL(n,e,t,i)}class Zr extends as{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;PD(this._points,i,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=WD(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,r=e[t],o=this.points,l=VE(this,{property:t,start:r,end:r});if(!l.length)return;const c=[],h=xL(i);let f,m;for(f=0,m=l.length;f<m;++f){const{start:y,end:w}=l[f],b=o[y],E=o[w];if(b===E){c.push(b);continue}const k=Math.abs((r-b[t])/(E[t]-b[t])),S=h(b,E,k,i.stepped);S[t]=e[t],c.push(S)}return c.length===1?c[0]:c}pathSegment(e,t,i){return km(this)(e,this,t,i)}path(e,t,i){const r=this.segments,o=km(this);let l=this._loop;t=t||0,i=i||this.points.length-t;for(const c of r)l&=o(e,this,c,{start:t,end:t+i-1});return!!l}draw(e,t,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),TL(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ie(Zr,"id","line"),Ie(Zr,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ie(Zr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ie(Zr,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Sw(n,e,t,i){const r=n.options,{[t]:o}=n.getProps([t],i);return Math.abs(e-o)<r.radius+r.hitRadius}class Ah extends as{constructor(t){super();Ie(this,"parsed");Ie(this,"skip");Ie(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,r){const o=this.options,{x:l,y:c}=this.getProps(["x","y"],r);return Math.pow(t-l,2)+Math.pow(i-c,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(t,i){return Sw(this,t,"x",i)}inYRange(t,i){return Sw(this,t,"y",i)}getCenterPoint(t){const{x:i,y:r}=this.getProps(["x","y"],t);return{x:i,y:r}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);const r=i&&t.borderWidth||0;return(i+r)*2}draw(t,i){const r=this.options;this.skip||r.radius<.1||!yc(this,i,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,Em(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}Ie(Ah,"id","point"),Ie(Ah,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ie(Ah,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function CL(n,e,t){const i=n.segments,r=n.points,o=e.points,l=[];for(const c of i){let{start:h,end:f}=c;f=Og(h,f,r);const m=Im(t,r[h],r[f],c.loop);if(!e.segments){l.push({source:c,target:m,start:r[h],end:r[f]});continue}const y=VE(e,m);for(const w of y){const b=Im(t,o[w.start],o[w.end],w.loop),E=WE(c,r,b);for(const k of E)l.push({source:k,target:w,start:{[t]:Ew(m,b,"start",Math.max)},end:{[t]:Ew(m,b,"end",Math.min)}})}}return l}function Im(n,e,t,i){if(i)return;let r=e[n],o=t[n];return n==="angle"&&(r=Ci(r),o=Ci(o)),{property:n,start:r,end:o}}function kL(n,e){const{x:t=null,y:i=null}=n||{},r=e.points,o=[];return e.segments.forEach(({start:l,end:c})=>{c=Og(l,c,r);const h=r[l],f=r[c];i!==null?(o.push({x:h.x,y:i}),o.push({x:f.x,y:i})):t!==null&&(o.push({x:t,y:h.y}),o.push({x:t,y:f.y}))}),o}function Og(n,e,t){for(;e>n;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function Ew(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function sb(n,e){let t=[],i=!1;return Rt(n)?(i=!0,t=n):t=kL(n,e),t.length?new Zr({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function bw(n){return n&&n.fill!==!1}function IL(n,e,t){let r=n[e].fill;const o=[e];let l;if(!t)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!Kt(r))return r;if(l=n[r],!l)return!1;if(l.visible)return r;o.push(r),r=l.fill}return!1}function PL(n,e,t){const i=OL(n);if(Fe(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Kt(r)&&Math.floor(r)===r?RL(i[0],e,r,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function RL(n,e,t,i){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function AL(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:Fe(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function NL(n,e,t){let i;return n==="start"?i=t:n==="end"?i=e.options.reverse?e.min:e.max:Fe(n)?i=n.value:i=e.getBaseValue(),i}function OL(n){const e=n.options,t=e.fill;let i=Ne(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function DL(n){const{scale:e,index:t,line:i}=n,r=[],o=i.segments,l=i.points,c=ML(e,t);c.push(sb({x:null,y:e.bottom},i));for(let h=0;h<o.length;h++){const f=o[h];for(let m=f.start;m<=f.end;m++)LL(r,l[m],c)}return new Zr({points:r,options:{}})}function ML(n,e){const t=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const o=i[r];if(o.index===e)break;o.hidden||t.unshift(o.dataset)}return t}function LL(n,e,t){const i=[];for(let r=0;r<t.length;r++){const o=t[r],{first:l,last:c,point:h}=FL(o,e,"x");if(!(!h||l&&c)){if(l)i.unshift(h);else if(n.push(h),!c)break}}n.push(...i)}function FL(n,e,t){const i=n.interpolate(e,t);if(!i)return{};const r=i[t],o=n.segments,l=n.points;let c=!1,h=!1;for(let f=0;f<o.length;f++){const m=o[f],y=l[m.start][t],w=l[m.end][t];if(la(r,y,w)){c=r===y,h=r===w;break}}return{first:c,last:h,point:i}}class ob{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:r,y:o,radius:l}=this;return t=t||{start:0,end:li},e.arc(r,o,l,t.end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:r}=this,o=e.angle;return{x:t+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}}function jL(n){const{chart:e,fill:t,line:i}=n;if(Kt(t))return UL(e,t);if(t==="stack")return DL(n);if(t==="shape")return!0;const r=zL(n);return r instanceof ob?r:sb(r,i)}function UL(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function zL(n){return(n.scale||{}).getPointPositionForValue?HL(n):BL(n)}function BL(n){const{scale:e={},fill:t}=n,i=AL(t,e);if(Kt(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function HL(n){const{scale:e,fill:t}=n,i=e.options,r=e.getLabels().length,o=i.reverse?e.max:e.min,l=NL(t,e,o),c=[];if(i.grid.circular){const h=e.getPointPositionForValue(0,o);return new ob({x:h.x,y:h.y,radius:e.getDistanceFromCenterForValue(l)})}for(let h=0;h<r;++h)c.push(e.getPointPositionForValue(h,l));return c}function Hp(n,e,t){const i=jL(e),{line:r,scale:o,axis:l}=e,c=r.options,h=c.fill,f=c.backgroundColor,{above:m=f,below:y=f}=h||{};i&&r.points.length&&(Rd(n,t),$L(n,{line:r,target:i,above:m,below:y,area:t,scale:o,axis:l}),Ad(n))}function $L(n,e){const{line:t,target:i,above:r,below:o,area:l,scale:c}=e,h=t._loop?"angle":e.axis;n.save(),h==="x"&&o!==r&&(Tw(n,i,l.top),Cw(n,{line:t,target:i,color:r,scale:c,property:h}),n.restore(),n.save(),Tw(n,i,l.bottom)),Cw(n,{line:t,target:i,color:o,scale:c,property:h}),n.restore()}function Tw(n,e,t){const{segments:i,points:r}=e;let o=!0,l=!1;n.beginPath();for(const c of i){const{start:h,end:f}=c,m=r[h],y=r[Og(h,f,r)];o?(n.moveTo(m.x,m.y),o=!1):(n.lineTo(m.x,t),n.lineTo(m.x,m.y)),l=!!e.pathSegment(n,c,{move:l}),l?n.closePath():n.lineTo(y.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function Cw(n,e){const{line:t,target:i,property:r,color:o,scale:l}=e,c=CL(t,i,r);for(const{source:h,target:f,start:m,end:y}of c){const{style:{backgroundColor:w=o}={}}=h,b=i!==!0;n.save(),n.fillStyle=w,WL(n,l,b&&Im(r,m,y)),n.beginPath();const E=!!t.pathSegment(n,h);let k;if(b){E?n.closePath():kw(n,i,y,r);const S=!!i.pathSegment(n,f,{move:E,reverse:!0});k=E&&S,k||kw(n,i,m,r)}n.closePath(),n.fill(k?"evenodd":"nonzero"),n.restore()}}function WL(n,e,t){const{top:i,bottom:r}=e.chart.chartArea,{property:o,start:l,end:c}=t||{};o==="x"&&(n.beginPath(),n.rect(l,i,c-l,r-i),n.clip())}function kw(n,e,t,i){const r=e.interpolate(t,i);r&&n.lineTo(r.x,r.y)}var VL={id:"filler",afterDatasetsUpdate(n,e,t){const i=(n.data.datasets||[]).length,r=[];let o,l,c,h;for(l=0;l<i;++l)o=n.getDatasetMeta(l),c=o.dataset,h=null,c&&c.options&&c instanceof Zr&&(h={visible:n.isDatasetVisible(l),index:l,fill:PL(c,l,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:c}),o.$filler=h,r.push(h);for(l=0;l<i;++l)h=r[l],!(!h||h.fill===!1)&&(h.fill=IL(r,l,t.propagate))},beforeDraw(n,e,t){const i=t.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let l=r.length-1;l>=0;--l){const c=r[l].$filler;c&&(c.line.updateControlPoints(o,c.axis),i&&c.fill&&Hp(n.ctx,c,o))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const o=i[r].$filler;bw(o)&&Hp(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,e,t){const i=e.meta.$filler;!bw(i)||t.drawTime!=="beforeDatasetDraw"||Hp(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Iw=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},GL=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class Pw extends as{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=et(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=mn(i.font),o=r.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=Iw(i,o);let f,m;t.font=r.string,this.isHorizontal()?(f=this.maxWidth,m=this._fitRows(l,o,c,h)+10):(m=this.maxHeight,f=this._fitCols(l,r,c,h)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:o,maxWidth:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],m=r+c;let y=e;o.textAlign="left",o.textBaseline="middle";let w=-1,b=-m;return this.legendItems.forEach((E,k)=>{const S=i+t/2+o.measureText(E.text).width;(k===0||f[f.length-1]+S+2*c>l)&&(y+=m,f[f.length-(k>0?0:1)]=0,b+=m,w++),h[k]={left:0,top:b,row:w,width:S,height:r},f[f.length-1]+=S+c}),y}_fitCols(e,t,i,r){const{ctx:o,maxHeight:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],m=l-e;let y=c,w=0,b=0,E=0,k=0;return this.legendItems.forEach((S,R)=>{const{itemWidth:O,itemHeight:D}=KL(i,t,o,S,r);R>0&&b+D+2*c>m&&(y+=w+c,f.push({width:w,height:b}),E+=w+c,k++,w=b=0),h[R]={left:E,top:b,col:k,width:O,height:D},w=Math.max(w,O),b+=D+c}),y+=w,f.push({width:w,height:b}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:o}}=this,l=fa(o,this.left,this.width);if(this.isHorizontal()){let c=0,h=Tn(i,this.left+r,this.right-this.lineWidths[c]);for(const f of t)c!==f.row&&(c=f.row,h=Tn(i,this.left+r,this.right-this.lineWidths[c])),f.top+=this.top+e+r,f.left=l.leftForLtr(l.x(h),f.width),h+=f.width+r}else{let c=0,h=Tn(i,this.top+e+r,this.bottom-this.columnSizes[c].height);for(const f of t)f.col!==c&&(c=f.col,h=Tn(i,this.top+e+r,this.bottom-this.columnSizes[c].height)),f.top=h,f.left+=this.left+r,f.left=l.leftForLtr(l.x(f.left),f.width),h+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Rd(e,this),this._draw(),Ad(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:o,labels:l}=e,c=ft.color,h=fa(e.rtl,this.left,this.width),f=mn(l.font),{padding:m}=l,y=f.size,w=y/2;let b;this.drawTitle(),r.textAlign=h.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:E,boxHeight:k,itemHeight:S}=Iw(l,y),R=function(J,N,I){if(isNaN(E)||E<=0||isNaN(k)||k<0)return;r.save();const A=Ne(I.lineWidth,1);if(r.fillStyle=Ne(I.fillStyle,c),r.lineCap=Ne(I.lineCap,"butt"),r.lineDashOffset=Ne(I.lineDashOffset,0),r.lineJoin=Ne(I.lineJoin,"miter"),r.lineWidth=A,r.strokeStyle=Ne(I.strokeStyle,c),r.setLineDash(Ne(I.lineDash,[])),l.usePointStyle){const F={radius:k*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:A},j=h.xPlus(J,E/2),B=N+w;DE(r,F,j,B,l.pointStyleWidth&&E)}else{const F=N+Math.max((y-k)/2,0),j=h.leftForLtr(J,E),B=nc(I.borderRadius);r.beginPath(),Object.values(B).some(M=>M!==0)?bm(r,{x:j,y:F,w:E,h:k,radius:B}):r.rect(j,F,E,k),r.fill(),A!==0&&r.stroke()}r.restore()},O=function(J,N,I){ed(r,I.text,J,N+S/2,f,{strikethrough:I.hidden,textAlign:h.textAlign(I.textAlign)})},D=this.isHorizontal(),H=this._computeTitleHeight();D?b={x:Tn(o,this.left+m,this.right-i[0]),y:this.top+m+H,line:0}:b={x:this.left+m,y:Tn(o,this.top+H+m,this.bottom-t[0].height),line:0},BE(this.ctx,e.textDirection);const q=S+m;this.legendItems.forEach((J,N)=>{r.strokeStyle=J.fontColor,r.fillStyle=J.fontColor;const I=r.measureText(J.text).width,A=h.textAlign(J.textAlign||(J.textAlign=l.textAlign)),F=E+w+I;let j=b.x,B=b.y;h.setWidth(this.width),D?N>0&&j+F+m>this.right&&(B=b.y+=q,b.line++,j=b.x=Tn(o,this.left+m,this.right-i[b.line])):N>0&&B+q>this.bottom&&(j=b.x=j+t[b.line].width+m,b.line++,B=b.y=Tn(o,this.top+H+m,this.bottom-t[b.line].height));const M=h.x(j);if(R(M,B,J),j=GO(A,j+E+w,D?j+F:this.right,e.rtl),O(h.x(j),B,J),D)b.x+=F+m;else if(typeof J.text!="string"){const Oe=f.lineHeight;b.y+=ab(J,Oe)+m}else b.y+=q}),HE(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=mn(t.font),r=ui(t.padding);if(!t.display)return;const o=fa(e.rtl,this.left,this.width),l=this.ctx,c=t.position,h=i.size/2,f=r.top+h;let m,y=this.left,w=this.width;if(this.isHorizontal())w=Math.max(...this.lineWidths),m=this.top+f,y=Tn(e.align,y,this.right-w);else{const E=this.columnSizes.reduce((k,S)=>Math.max(k,S.height),0);m=f+Tn(e.align,this.top,this.bottom-E-e.labels.padding-this._computeTitleHeight())}const b=Tn(c,y,y+w);l.textAlign=o.textAlign(AE(c)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=i.string,ed(l,t.text,b,m,i)}_computeTitleHeight(){const e=this.options.title,t=mn(e.font),i=ui(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,o;if(la(e,this.left,this.right)&&la(t,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],la(e,r.left,r.left+r.width)&&la(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!XL(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,o=GL(r,i);r&&!o&&et(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!o&&et(t.onHover,[e,i,this],this)}else i&&et(t.onClick,[e,i,this],this)}}function KL(n,e,t,i,r){const o=qL(i,n,e,t),l=YL(r,i,e.lineHeight);return{itemWidth:o,itemHeight:l}}function qL(n,e,t,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,l)=>o.length>l.length?o:l)),e+t.size/2+i.measureText(r).width}function YL(n,e,t){let i=n;return typeof e.text!="string"&&(i=ab(e,t)),i}function ab(n,e){const t=n.text?n.text.length:0;return e*t}function XL(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var QL={id:"legend",_element:Pw,start(n,e,t){const i=n.legend=new Pw({ctx:n.ctx,options:t,chart:n});Jr.configure(n,i,t),Jr.addBox(n,i)},stop(n){Jr.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;Jr.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:o,useBorderRadius:l,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(t?0:void 0),m=ui(f.borderWidth);return{text:e[h.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:l&&(c||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const ql={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,o=0;for(e=0,t=n.length;e<t;++e){const c=n[e].element;if(c&&c.hasValue()){const h=c.tooltipPosition();i.add(h.x),r+=h.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((c,h)=>c+h)/i.size,y:r/o}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,o,l,c;for(o=0,l=n.length;o<l;++o){const h=n[o].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),m=wm(e,f);m<r&&(r=m,c=h)}}if(c){const h=c.tooltipPosition();t=h.x,i=h.y}return{x:t,y:i}}};function bi(n,e){return e&&(Rt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function nr(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function JL(n,e){const{element:t,datasetIndex:i,index:r}=e,o=n.getDatasetMeta(i).controller,{label:l,value:c}=o.getLabelAndValue(r);return{chart:n,label:l,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:c,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function Rw(n,e){const t=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:l,boxHeight:c}=e,h=mn(e.bodyFont),f=mn(e.titleFont),m=mn(e.footerFont),y=o.length,w=r.length,b=i.length,E=ui(e.padding);let k=E.height,S=0,R=i.reduce((H,q)=>H+q.before.length+q.lines.length+q.after.length,0);if(R+=n.beforeBody.length+n.afterBody.length,y&&(k+=y*f.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),R){const H=e.displayColors?Math.max(c,h.lineHeight):h.lineHeight;k+=b*H+(R-b)*h.lineHeight+(R-1)*e.bodySpacing}w&&(k+=e.footerMarginTop+w*m.lineHeight+(w-1)*e.footerSpacing);let O=0;const D=function(H){S=Math.max(S,t.measureText(H).width+O)};return t.save(),t.font=f.string,Ge(n.title,D),t.font=h.string,Ge(n.beforeBody.concat(n.afterBody),D),O=e.displayColors?l+2+e.boxPadding:0,Ge(i,H=>{Ge(H.before,D),Ge(H.lines,D),Ge(H.after,D)}),O=0,t.font=m.string,Ge(n.footer,D),t.restore(),S+=E.width,{width:S,height:k}}function ZL(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function eF(n,e,t,i){const{x:r,width:o}=i,l=t.caretSize+t.caretPadding;if(n==="left"&&r+o+l>e.width||n==="right"&&r-o-l<0)return!0}function tF(n,e,t,i){const{x:r,width:o}=t,{width:l,chartArea:{left:c,right:h}}=n;let f="center";return i==="center"?f=r<=(c+h)/2?"left":"right":r<=o/2?f="left":r>=l-o/2&&(f="right"),eF(f,n,e,t)&&(f="center"),f}function Aw(n,e,t){const i=t.yAlign||e.yAlign||ZL(n,t);return{xAlign:t.xAlign||e.xAlign||tF(n,e,t,i),yAlign:i}}function nF(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function iF(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function Nw(n,e,t,i){const{caretSize:r,caretPadding:o,cornerRadius:l}=n,{xAlign:c,yAlign:h}=t,f=r+o,{topLeft:m,topRight:y,bottomLeft:w,bottomRight:b}=nc(l);let E=nF(e,c);const k=iF(e,h,f);return h==="center"?c==="left"?E+=f:c==="right"&&(E-=f):c==="left"?E-=Math.max(m,w)+r:c==="right"&&(E+=Math.max(y,b)+r),{x:Ii(E,0,i.width-e.width),y:Ii(k,0,i.height-e.height)}}function mh(n,e,t){const i=ui(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function Ow(n){return bi([],nr(n))}function rF(n,e,t){return ho(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Dw(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const lb={beforeTitle:er,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:er,beforeBody:er,beforeLabel:er,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return lt(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:er,afterBody:er,beforeFooter:er,footer:er,afterFooter:er};function un(n,e,t,i){const r=n[e].call(t,i);return typeof r>"u"?lb[e].call(t,i):r}class Pm extends as{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&t.options.animation&&i.animations,o=new GE(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=rF(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,r=un(i,"beforeTitle",this,e),o=un(i,"title",this,e),l=un(i,"afterTitle",this,e);let c=[];return c=bi(c,nr(r)),c=bi(c,nr(o)),c=bi(c,nr(l)),c}getBeforeBody(e,t){return Ow(un(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,r=[];return Ge(e,o=>{const l={before:[],lines:[],after:[]},c=Dw(i,o);bi(l.before,nr(un(c,"beforeLabel",this,o))),bi(l.lines,un(c,"label",this,o)),bi(l.after,nr(un(c,"afterLabel",this,o))),r.push(l)}),r}getAfterBody(e,t){return Ow(un(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,r=un(i,"beforeFooter",this,e),o=un(i,"footer",this,e),l=un(i,"afterFooter",this,e);let c=[];return c=bi(c,nr(r)),c=bi(c,nr(o)),c=bi(c,nr(l)),c}_createItems(e){const t=this._active,i=this.chart.data,r=[],o=[],l=[];let c=[],h,f;for(h=0,f=t.length;h<f;++h)c.push(JL(this.chart,t[h]));return e.filter&&(c=c.filter((m,y,w)=>e.filter(m,y,w,i))),e.itemSort&&(c=c.sort((m,y)=>e.itemSort(m,y,i))),Ge(c,m=>{const y=Dw(e.callbacks,m);r.push(un(y,"labelColor",this,m)),o.push(un(y,"labelPointStyle",this,m)),l.push(un(y,"labelTextColor",this,m))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=c,c}update(e,t){const i=this.options.setContext(this.getContext()),r=this._active;let o,l=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const c=ql[i.position].call(this,r,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=Rw(this,i),f=Object.assign({},c,h),m=Aw(this.chart,i,f),y=Nw(i,f,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,o={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,r){const o=this.getCaretPosition(e,i,r);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,i){const{xAlign:r,yAlign:o}=this,{caretSize:l,cornerRadius:c}=i,{topLeft:h,topRight:f,bottomLeft:m,bottomRight:y}=nc(c),{x:w,y:b}=e,{width:E,height:k}=t;let S,R,O,D,H,q;return o==="center"?(H=b+k/2,r==="left"?(S=w,R=S-l,D=H+l,q=H-l):(S=w+E,R=S+l,D=H-l,q=H+l),O=S):(r==="left"?R=w+Math.max(h,m)+l:r==="right"?R=w+E-Math.max(f,y)-l:R=this.caretX,o==="top"?(D=b,H=D-l,S=R-l,O=R+l):(D=b+k,H=D+l,S=R+l,O=R-l),q=D),{x1:S,x2:R,x3:O,y1:D,y2:H,y3:q}}drawTitle(e,t,i){const r=this.title,o=r.length;let l,c,h;if(o){const f=fa(i.rtl,this.x,this.width);for(e.x=mh(this,i.titleAlign,i),t.textAlign=f.textAlign(i.titleAlign),t.textBaseline="middle",l=mn(i.titleFont),c=i.titleSpacing,t.fillStyle=i.titleColor,t.font=l.string,h=0;h<o;++h)t.fillText(r[h],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+c,h+1===o&&(e.y+=i.titleMarginBottom-c)}}_drawColorBox(e,t,i,r,o){const l=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:h,boxWidth:f}=o,m=mn(o.bodyFont),y=mh(this,"left",o),w=r.x(y),b=h<m.lineHeight?(m.lineHeight-h)/2:0,E=t.y+b;if(o.usePointStyle){const k={radius:Math.min(f,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},S=r.leftForLtr(w,f)+f/2,R=E+h/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Em(e,k,S,R),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,Em(e,k,S,R)}else{e.lineWidth=Fe(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const k=r.leftForLtr(w,f),S=r.leftForLtr(r.xPlus(w,1),f-2),R=nc(l.borderRadius);Object.values(R).some(O=>O!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,bm(e,{x:k,y:E,w:f,h,radius:R}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),bm(e,{x:S,y:E+1,w:f-2,h:h-2,radius:R}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(k,E,f,h),e.strokeRect(k,E,f,h),e.fillStyle=l.backgroundColor,e.fillRect(S,E+1,f-2,h-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:r}=this,{bodySpacing:o,bodyAlign:l,displayColors:c,boxHeight:h,boxWidth:f,boxPadding:m}=i,y=mn(i.bodyFont);let w=y.lineHeight,b=0;const E=fa(i.rtl,this.x,this.width),k=function(I){t.fillText(I,E.x(e.x+b),e.y+w/2),e.y+=w+o},S=E.textAlign(l);let R,O,D,H,q,J,N;for(t.textAlign=l,t.textBaseline="middle",t.font=y.string,e.x=mh(this,S,i),t.fillStyle=i.bodyColor,Ge(this.beforeBody,k),b=c&&S!=="right"?l==="center"?f/2+m:f+2+m:0,H=0,J=r.length;H<J;++H){for(R=r[H],O=this.labelTextColors[H],t.fillStyle=O,Ge(R.before,k),D=R.lines,c&&D.length&&(this._drawColorBox(t,e,H,E,i),w=Math.max(y.lineHeight,h)),q=0,N=D.length;q<N;++q)k(D[q]),w=y.lineHeight;Ge(R.after,k)}b=0,w=y.lineHeight,Ge(this.afterBody,k),e.y-=o}drawFooter(e,t,i){const r=this.footer,o=r.length;let l,c;if(o){const h=fa(i.rtl,this.x,this.width);for(e.x=mh(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=h.textAlign(i.footerAlign),t.textBaseline="middle",l=mn(i.footerFont),t.fillStyle=i.footerColor,t.font=l.string,c=0;c<o;++c)t.fillText(r[c],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+i.footerSpacing}}drawBackground(e,t,i,r){const{xAlign:o,yAlign:l}=this,{x:c,y:h}=e,{width:f,height:m}=i,{topLeft:y,topRight:w,bottomLeft:b,bottomRight:E}=nc(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(c+y,h),l==="top"&&this.drawCaret(e,t,i,r),t.lineTo(c+f-w,h),t.quadraticCurveTo(c+f,h,c+f,h+w),l==="center"&&o==="right"&&this.drawCaret(e,t,i,r),t.lineTo(c+f,h+m-E),t.quadraticCurveTo(c+f,h+m,c+f-E,h+m),l==="bottom"&&this.drawCaret(e,t,i,r),t.lineTo(c+b,h+m),t.quadraticCurveTo(c,h+m,c,h+m-b),l==="center"&&o==="left"&&this.drawCaret(e,t,i,r),t.lineTo(c,h+y),t.quadraticCurveTo(c,h,c+y,h),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const l=ql[e.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=Rw(this,e),h=Object.assign({},l,this._size),f=Aw(t,e,h),m=Nw(e,h,f,t);(r._to!==m.x||o._to!==m.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=ui(t.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&c&&(e.save(),e.globalAlpha=i,this.drawBackground(o,e,r,t),BE(e,t.textDirection),o.y+=l.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),HE(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,r=e.map(({datasetIndex:c,index:h})=>{const f=this.chart.getDatasetMeta(c);if(!f)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:f.data[h],index:h}}),o=!qh(i,r),l=this._positionChanged(r,t);(o||l)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],l=this._getActiveElements(e,o,t,i),c=this._positionChanged(l,e),h=t||!qh(l,o)||c;return h&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,i,r){const o=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,o.mode,o,i);return o.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:i,caretY:r,options:o}=this,l=ql[o.position].call(this,e,t);return l!==!1&&(i!==l.x||r!==l.y)}}Ie(Pm,"positioners",ql);var sF={id:"tooltip",_element:Pm,positioners:ql,afterInit(n,e,t){t&&(n.tooltip=new Pm({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:lb},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const oF=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function aF(n,e,t,i){const r=n.indexOf(e);if(r===-1)return oF(n,e,t,i);const o=n.lastIndexOf(e);return r!==o?t:r}const lF=(n,e)=>n===null?null:Ii(Math.round(n),0,e);function Mw(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class Rm extends Aa{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:r,label:o}of t)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(lt(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:aF(i,e,Ne(t,e),this._addedLabels),lF(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=e===0&&t===o.length-1?o:o.slice(e,t+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=e;l<=t;l++)r.push({value:l});return r}getLabelForValue(e){return Mw.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ie(Rm,"id","category"),Ie(Rm,"defaults",{ticks:{callback:Mw}});function cF(n,e){const t=[],{bounds:r,step:o,min:l,max:c,precision:h,count:f,maxTicks:m,maxDigits:y,includeBounds:w}=n,b=o||1,E=m-1,{min:k,max:S}=e,R=!lt(l),O=!lt(c),D=!lt(f),H=(S-k)/(y+1);let q=M0((S-k)/E/b)*b,J,N,I,A;if(q<1e-14&&!R&&!O)return[{value:k},{value:S}];A=Math.ceil(S/q)-Math.floor(k/q),A>E&&(q=M0(A*q/E/b)*b),lt(h)||(J=Math.pow(10,h),q=Math.ceil(q*J)/J),r==="ticks"?(N=Math.floor(k/q)*q,I=Math.ceil(S/q)*q):(N=k,I=S),R&&O&&o&&MO((c-l)/o,q/1e3)?(A=Math.round(Math.min((c-l)/q,m)),q=(c-l)/A,N=l,I=c):D?(N=R?l:N,I=O?c:I,A=f-1,q=(I-N)/A):(A=(I-N)/q,Zl(A,Math.round(A),q/1e3)?A=Math.round(A):A=Math.ceil(A));const F=Math.max(L0(q),L0(N));J=Math.pow(10,lt(h)?F:h),N=Math.round(N*J)/J,I=Math.round(I*J)/J;let j=0;for(R&&(w&&N!==l?(t.push({value:l}),N<l&&j++,Zl(Math.round((N+j*q)*J)/J,l,Lw(l,H,n))&&j++):N<l&&j++);j<A;++j){const B=Math.round((N+j*q)*J)/J;if(O&&B>c)break;t.push({value:B})}return O&&w&&I!==c?t.length&&Zl(t[t.length-1].value,c,Lw(c,H,n))?t[t.length-1].value=c:t.push({value:c}):(!O||I===c)&&t.push({value:I}),t}function Lw(n,e,{horizontal:t,minRotation:i}){const r=qs(i),o=(t?Math.sin(r):Math.cos(r))||.001,l=.75*e*(""+n).length;return Math.min(e/o,l)}class uF extends Aa{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return lt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const l=h=>r=t?r:h,c=h=>o=i?o:h;if(e){const h=_a(r),f=_a(o);h<0&&f<0?c(0):h>0&&f>0&&l(0)}if(r===o){let h=o===0?1:Math.abs(o*.05);c(o+h),e||l(r-h)}this.min=r,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,l=cF(r,o);return e.bounds==="ticks"&&LO(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return NE(e,this.chart.options.locale,this.options.ticks.format)}}class Am extends uF{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Kt(e)?e:0,this.max=Kt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=qs(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ie(Am,"id","linear"),Ie(Am,"defaults",{ticks:{callback:OE.formatters.numeric}});const Dd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},pn=Object.keys(Dd);function Fw(n,e){return n-e}function jw(n,e){if(lt(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let l=e;return typeof i=="function"&&(l=i(l)),Kt(l)||(l=typeof i=="string"?t.parse(l,i):t.parse(l)),l===null?null:(r&&(l=r==="week"&&(Zh(o)||o===!0)?t.startOf(l,"isoWeek",o):t.startOf(l,r)),+l)}function Uw(n,e,t,i){const r=pn.length;for(let o=pn.indexOf(n);o<r-1;++o){const l=Dd[pn[o]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(c*l.size))<=i)return pn[o]}return pn[r-1]}function hF(n,e,t,i,r){for(let o=pn.length-1;o>=pn.indexOf(t);o--){const l=pn[o];if(Dd[l].common&&n._adapter.diff(r,i,l)>=e-1)return l}return pn[t?pn.indexOf(t):0]}function dF(n){for(let e=pn.indexOf(n)+1,t=pn.length;e<t;++e)if(Dd[pn[e]].common)return pn[e]}function zw(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:r}=bg(t,e),o=t[i]>=e?t[i]:t[r];n[o]=!0}}function fF(n,e,t,i){const r=n._adapter,o=+r.startOf(e[0].value,i),l=e[e.length-1].value;let c,h;for(c=o;c<=l;c=+r.add(c,1,i))h=t[c],h>=0&&(e[h].major=!0);return e}function Bw(n,e,t){const i=[],r={},o=e.length;let l,c;for(l=0;l<o;++l)c=e[l],r[c]=l,i.push({value:c,major:!1});return o===0||!t?i:fF(n,i,r,t)}class id extends Aa{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),r=this._adapter=new aM._date(e.adapters.date);r.init(t),Jl(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:jw(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:r,max:o,minDefined:l,maxDefined:c}=this.getUserBounds();function h(f){!l&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!c&&!isNaN(f.max)&&(o=Math.max(o,f.max))}(!l||!c)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),r=Kt(r)&&!isNaN(r)?r:+t.startOf(Date.now(),i),o=Kt(o)&&!isNaN(o)?o:+t.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,l=this.max,c=HO(r,o,l);return this._unit=t.unit||(i.autoSkip?Uw(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):hF(this,c.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:dF(this._unit),this.initOffsets(r),e.reverse&&c.reverse(),Bw(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,r,o;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?i=o:i=(o-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=Ii(t,0,l),i=Ii(i,0,l),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,r=this.options,o=r.time,l=o.unit||Uw(o.minUnit,t,i,this._getLabelCapacity(t)),c=Ne(r.ticks.stepSize,1),h=l==="week"?o.isoWeekday:!1,f=Zh(h)||h===!0,m={};let y=t,w,b;if(f&&(y=+e.startOf(y,"isoWeek",h)),y=+e.startOf(y,f?"day":l),e.diff(i,t,l)>1e5*c)throw new Error(t+" and "+i+" are too far apart with stepSize of "+c+" "+l);const E=r.ticks.source==="data"&&this.getDataTimestamps();for(w=y,b=0;w<i;w=+e.add(w,c,l),b++)zw(m,w,E);return(w===i||r.bounds==="ticks"||b===1)&&zw(m,w,E),Object.keys(m).sort(Fw).map(k=>+k)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,o=this._unit,l=t||r[o];return this._adapter.format(e,l)}_tickFormatFunction(e,t,i,r){const o=this.options,l=o.ticks.callback;if(l)return et(l,[e,t,i],this);const c=o.time.displayFormats,h=this._unit,f=this._majorUnit,m=h&&c[h],y=f&&c[f],w=i[t],b=f&&y&&w&&w.major;return this._adapter.format(e,r||(b?y:m))}generateTickLabels(e){let t,i,r;for(t=0,i=e.length;t<i;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,r=qs(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(r),l=Math.sin(r),c=this._resolveTickFontOptions(0).size;return{w:i*o+c*l,h:i*l+c*o}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,r=i[t.unit]||i.millisecond,o=this._tickFormatFunction(e,0,Bw(this,[e],this._majorUnit),r),l=this._getLabelSize(o),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,i=r.length;t<i;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const r=this.getLabels();for(t=0,i=r.length;t<i;++t)e.push(jw(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return WO(e.sort(Fw))}}Ie(id,"id","time"),Ie(id,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function gh(n,e,t){let i=0,r=n.length-1,o,l,c,h;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=xm(n,"pos",e)),{pos:o,time:c}=n[i],{pos:l,time:h}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=xm(n,"time",e)),{time:o,pos:c}=n[i],{time:l,pos:h}=n[r]);const f=l-o;return f?c+(h-c)*(e-o)/f:c}class Hw extends id{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=gh(t,this.min),this._tableRange=gh(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],o=[];let l,c,h,f,m;for(l=0,c=e.length;l<c;++l)f=e[l],f>=t&&f<=i&&r.push(f);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(l=0,c=r.length;l<c;++l)m=r[l+1],h=r[l-1],f=r[l],Math.round((m+h)/2)!==f&&o.push({time:f,pos:l/(c-1)});return o}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(gh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return gh(this._table,i*this._tableRange+this._minPos,!0)}}Ie(Hw,"id","timeseries"),Ie(Hw,"defaults",id.defaults);const cb="label";function $w(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function pF(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function ub(n,e){n.labels=e}function hb(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:cb;const i=[];n.datasets=e.map(r=>{const o=n.datasets.find(l=>l[t]===r[t]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function mF(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cb;const t={labels:[],datasets:[]};return ub(t,n.labels),hb(t,n.datasets,e),t}function gF(n,e){const{height:t=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:l,data:c,options:h,plugins:f=[],fallbackContent:m,updateMode:y,...w}=n,b=U.useRef(null),E=U.useRef(null),k=()=>{b.current&&(E.current=new Ng(b.current,{type:l,data:mF(c,o),options:h&&{...h},plugins:f}),$w(e,E.current))},S=()=>{$w(e,null),E.current&&(E.current.destroy(),E.current=null)};return U.useEffect(()=>{!r&&E.current&&h&&pF(E.current,h)},[r,h]),U.useEffect(()=>{!r&&E.current&&ub(E.current.config.data,c.labels)},[r,c.labels]),U.useEffect(()=>{!r&&E.current&&c.datasets&&hb(E.current.config.data,c.datasets,o)},[r,c.datasets]),U.useEffect(()=>{E.current&&(r?(S(),setTimeout(k)):E.current.update(y))},[r,h,c.labels,c.datasets,y]),U.useEffect(()=>{E.current&&(S(),setTimeout(k))},[l]),U.useEffect(()=>(k(),()=>S()),[]),ze.createElement("canvas",{ref:b,role:"img",height:t,width:i,...w},m)}const yF=U.forwardRef(gF);Ng.register(Rm,Am,sF,QL,Zr,Ah,VL);const _F=()=>{const{stockId:n}=Dx(),[e,t]=U.useState(null),[i,r]=U.useState(!0),[o,l]=U.useState(null);U.useEffect(()=>{(async()=>{if(n){r(!0),l(null);try{try{const f=await $N.getChartData(n);if(f.values){const m=f.values,y={labels:m.map(w=>w.datetime).reverse(),datasets:[{label:`${n} Price`,data:m.map(w=>Number.parseFloat(w.close)).reverse(),borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",fill:!0,tension:.4}]};t(y)}else throw new Error("Failed to fetch data.")}catch(f){console.error("API Error:",f);const m=Array.from({length:100},(E,k)=>{const S=new Date;return S.setDate(S.getDate()-(100-k)),S.toISOString().split("T")[0]});let y=100+Math.random()*200;const w=m.map(()=>(y=y+(Math.random()-.5)*5,y)),b={labels:m,datasets:[{label:`${n} Price (Mock Data)`,data:w,borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",fill:!0,tension:.4}]};t(b),console.log("Using mock chart data due to API errors")}}catch(f){console.error("Chart data fetch error:",f),l(f.message||"Failed to fetch data")}finally{r(!1)}}})()},[n]);const c=U.useMemo(()=>({responsive:!0,plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1}},scales:{x:{title:{display:!0,text:"Date"},ticks:{autoSkip:!0,maxRotation:45}},y:{title:{display:!0,text:"Price (USD)"}}}}),[]);return C.jsxs("div",{style:{width:"80%",margin:"auto",paddingTop:"20px"},children:[C.jsx("h2",{children:n?`${n} Line Chart`:"Loading..."}),i&&C.jsx(uo,{}),o&&C.jsx("p",{style:{color:"red"},children:o}),e&&C.jsxs("div",{children:[C.jsx("h3",{children:"Price Trend (Last 100 Days)"}),C.jsx(yF,{type:"line",data:e,options:c})]})]})},vF=ze.memo(_F);var Ww={};const Vw="@firebase/database",Gw="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let db="";function wF(n){db=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ft(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:lc(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return vr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new xF(e)}}catch{}return new SF},Ys=fb("localStorage"),EF=fb("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new gd("@firebase/database"),bF=function(){let n=1;return function(){return n++}}(),pb=function(n){const e=jk(n),t=new Dk;t.update(e);const i=t.digest();return Xm.encodeByteArray(i)},Mc=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Mc.apply(null,i):typeof i=="object"?e+=Ft(i):e+=i,e+=" "}return e};let ic=null,Kw=!0;const TF=function(n,e){ae(!0,"Can't turn on custom loggers persistently."),pa.logLevel=$e.VERBOSE,ic=pa.log.bind(pa)},$t=function(...n){if(Kw===!0&&(Kw=!1,ic===null&&EF.get("logging_enabled")===!0&&TF()),ic){const e=Mc.apply(null,n);ic(e)}},Lc=function(n){return function(...e){$t(n,...e)}},Nm=function(...n){const e="FIREBASE INTERNAL ERROR: "+Mc(...n);pa.error(e)},gr=function(...n){const e=`FIREBASE FATAL ERROR: ${Mc(...n)}`;throw pa.error(e),new Error(e)},_n=function(...n){const e="FIREBASE WARNING: "+Mc(...n);pa.warn(e)},CF=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&_n("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},mb=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},kF=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},xa="[MIN_NAME]",oo="[MAX_NAME]",Na=function(n,e){if(n===e)return 0;if(n===xa||e===oo)return-1;if(e===xa||n===oo)return 1;{const t=qw(n),i=qw(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},IF=function(n,e){return n===e?0:n<e?-1:1},zl=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Ft(e))},Dg=function(n){if(typeof n!="object"||n===null)return Ft(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=Ft(e[i]),t+=":",t+=Dg(n[e[i]]);return t+="}",t},gb=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)r+e>t?i.push(n.substring(r,t)):i.push(n.substring(r,r+e));return i};function Bn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const yb=function(n){ae(!mb(n),"Invalid JSON number");const e=11,t=52,i=(1<<e-1)-1;let r,o,l,c,h;n===0?(o=0,l=0,r=1/n===-1/0?1:0):(r=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(c=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=c+i,l=Math.round(n*Math.pow(2,t-c)-Math.pow(2,t))):(o=0,l=Math.round(n/Math.pow(2,1-i-t))));const f=[];for(h=t;h;h-=1)f.push(l%2?1:0),l=Math.floor(l/2);for(h=e;h;h-=1)f.push(o%2?1:0),o=Math.floor(o/2);f.push(r?1:0),f.reverse();const m=f.join("");let y="";for(h=0;h<64;h+=8){let w=parseInt(m.substr(h,8),2).toString(16);w.length===1&&(w="0"+w),y=y+w}return y.toLowerCase()},PF=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},RF=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},AF=new RegExp("^-?(0*)\\d{1,10}$"),NF=-2147483648,OF=2147483647,qw=function(n){if(AF.test(n)){const e=Number(n);if(e>=NF&&e<=OF)return e}return null},Oa=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw _n("Exception was thrown by user callback.",t),e},Math.floor(0))}},DF=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},rc=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,hn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){_n(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?($t("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',_n(e)}}class Nh{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Nh.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="5",_b="v",vb="s",wb="r",xb="f",Sb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Eb="ls",bb="p",Om="ac",Tb="websocket",Cb="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,t,i,r,o=!1,l="",c=!1,h=!1,f=null){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=l,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=h,this.emulatorOptions=f,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ys.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ys.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function FF(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function Ib(n,e,t){ae(typeof e=="string","typeof type must == string"),ae(typeof t=="object","typeof params must == object");let i;if(e===Tb)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===Cb)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);FF(n)&&(t.ns=n.namespace);const r=[];return Bn(t,(o,l)=>{r.push(o+"="+l)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(){this.counters_={}}incrementCounter(e,t=1){vr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return yk(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p={},Wp={};function Lg(n){const e=n.toString();return $p[e]||($p[e]=new jF),$p[e]}function UF(n,e){const t=n.toString();return Wp[t]||(Wp[t]=e()),Wp[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Oa(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="start",BF="close",HF="pLPCommand",$F="pRTLPCB",Pb="id",Rb="pw",Ab="ser",WF="cb",VF="seg",GF="ts",KF="d",qF="dframe",Nb=1870,Ob=30,YF=Nb-Ob,XF=25e3,QF=3e4;class ca{constructor(e,t,i,r,o,l,c){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=l,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Lc(e),this.stats_=Lg(t),this.urlFn=h=>(this.appCheckToken&&(h[Om]=this.appCheckToken),Ib(t,Cb,h))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new zF(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(QF)),kF(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Fg((...o)=>{const[l,c,h,f,m]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===Yw)this.id=c,this.password=h;else if(l===BF)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...o)=>{const[l,c]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(l,c)},()=>{this.onClosed_()},this.urlFn);const i={};i[Yw]="t",i[Ab]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[WF]=this.scriptTagHolder.uniqueCallbackIdentifier),i[_b]=Mg,this.transportSessionId&&(i[vb]=this.transportSessionId),this.lastSessionId&&(i[Eb]=this.lastSessionId),this.applicationId&&(i[bb]=this.applicationId),this.appCheckToken&&(i[Om]=this.appCheckToken),typeof location<"u"&&location.hostname&&Sb.test(location.hostname)&&(i[wb]=xb);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ca.forceAllow_=!0}static forceDisallow(){ca.forceDisallow_=!0}static isAvailable(){return ca.forceAllow_?!0:!ca.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!PF()&&!RF()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Ft(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=Wx(t),r=gb(i,YF);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={};i[qF]="t",i[Pb]=e,i[Rb]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Ft(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Fg{constructor(e,t,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=bF(),window[HF+this.uniqueCallbackIdentifier]=e,window[$F+this.uniqueCallbackIdentifier]=t,this.myIFrame=Fg.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){$t("frame writing exception"),c.stack&&$t(c.stack),$t(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||$t("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Pb]=this.myID,e[Rb]=this.myPW,e[Ab]=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Ob+i.length<=Nb;){const l=this.pendingSegs.shift();i=i+"&"+VF+r+"="+l.seg+"&"+GF+r+"="+l.ts+"&"+KF+r+"="+l.d,r++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(XF)),o=()=>{clearTimeout(r),i()};this.addTag(e,o)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{$t("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF=16384,ZF=45e3;let rd=null;typeof MozWebSocket<"u"?rd=MozWebSocket:typeof WebSocket<"u"&&(rd=WebSocket);class ii{constructor(e,t,i,r,o,l,c){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Lc(this.connId),this.stats_=Lg(t),this.connURL=ii.connectionURL_(t,l,c,r,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,i,r,o){const l={};return l[_b]=Mg,typeof location<"u"&&location.hostname&&Sb.test(location.hostname)&&(l[wb]=xb),t&&(l[vb]=t),i&&(l[Eb]=i),r&&(l[Om]=r),o&&(l[bb]=o),Ib(e,Tb,l)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ys.set("previous_websocket_failure",!0);try{let i;Ck(),this.mySock=new rd(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){ii.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(t);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&rd!==null&&!ii.forceDisallow_}static previouslyFailed(){return Ys.isInMemoryStorage||Ys.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ys.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const i=lc(t);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ae(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const i=this.extractFrameCount_(t);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const t=Ft(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=gb(t,JF);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(ZF))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ii.responsesRequiredToBeHealthy=2;ii.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{static get ALL_TRANSPORTS(){return[ca,ii]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=ii&&ii.isAvailable();let i=t&&!ii.previouslyFailed();if(e.webSocketOnly&&(t||_n("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ii];else{const r=this.transports_=[];for(const o of vc.ALL_TRANSPORTS)o&&o.isAvailable()&&r.push(o);vc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}vc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=6e4,t4=5e3,n4=10*1024,i4=100*1024,Vp="t",Xw="d",r4="s",Qw="r",s4="e",Jw="o",Zw="a",ex="n",tx="p",o4="h";class a4{constructor(e,t,i,r,o,l,c,h,f,m){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=l,this.onReady_=c,this.onDisconnect_=h,this.onKill_=f,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Lc("c:"+this.id+":"),this.transportManager_=new vc(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=rc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>i4?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>n4?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Vp in e){const t=e[Vp];t===Zw?this.upgradeIfSecondaryHealthy_():t===Qw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===Jw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=zl("t",e),i=zl("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:tx,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Zw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ex,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=zl("t",e),i=zl("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=zl(Vp,e);if(Xw in e){const i=e[Xw];if(t===o4){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(t===ex){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===r4?this.onConnectionShutdown_(i):t===Qw?this.onReset_(i):t===s4?Nm("Server Error: "+i):t===Jw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Nm("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Mg!==i&&_n("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),rc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):rc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(t4))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:tx,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ys.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e){this.allowedEvents_=e,this.listeners_={},ae(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(e){ae(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends Mb{static getInstance(){return new sd}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Jm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ae(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=32,ix=768;class it{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function Ke(){return new it("")}function Pe(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ls(n){return n.pieces_.length-n.pieceNum_}function nt(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new it(n.pieces_,e)}function Lb(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function l4(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function Fb(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function jb(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new it(e,0)}function xt(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof it)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new it(t,0)}function Ae(n){return n.pieceNum_>=n.pieces_.length}function Un(n,e){const t=Pe(n),i=Pe(e);if(t===null)return e;if(t===i)return Un(nt(n),nt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Ub(n,e){if(ls(n)!==ls(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function oi(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(ls(n)>ls(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class c4{constructor(e,t){this.errorPrefix_=t,this.parts_=Fb(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=md(this.parts_[i]);zb(this)}}function u4(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=md(e),zb(n)}function h4(n){const e=n.parts_.pop();n.byteLength_-=md(e),n.parts_.length>0&&(n.byteLength_-=1)}function zb(n){if(n.byteLength_>ix)throw new Error(n.errorPrefix_+"has a key path longer than "+ix+" bytes ("+n.byteLength_+").");if(n.parts_.length>nx)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+nx+") or object contains a cycle "+Vs(n))}function Vs(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg extends Mb{static getInstance(){return new jg}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return ae(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=1e3,d4=60*5*1e3,rx=30*1e3,f4=1.3,p4=3e4,m4="server_kill",sx=3;class hr extends Db{constructor(e,t,i,r,o,l,c,h){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=l,this.appCheckTokenProvider_=c,this.authOverride_=h,this.id=hr.nextPersistentConnectionId_++,this.log_=Lc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Bl,this.maxReconnectDelay_=d4,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");jg.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&sd.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,i){const r=++this.requestNumber_,o={r,a:e,b:t};this.log_(Ft(o)),ae(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const t=new pd,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const c=l.d;l.s==="ok"?t.resolve(c):t.reject(c)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),t.promise}listen(e,t,i,r){this.initConnection_();const o=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+o),this.listens.has(l)||this.listens.set(l,new Map),ae(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ae(!this.listens.get(l).has(o),"listen() called twice for same path/queryId.");const c={onComplete:r,hashFn:t,query:e,tag:i};this.listens.get(l).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(i)})}sendListen_(e){const t=e.query,i=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+i+" for "+r);const o={p:i},l="q";e.tag&&(o.q=t._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(l,o,c=>{const h=c.d,f=c.s;hr.warnOnListenWarnings_(h,t),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",c),f!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(f,h))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&vr(e,"w")){const i=ga(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',o=t._path.toString();_n(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Ok(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=rx)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=Nk(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(t,i,r=>{const o=r.s,l=r.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,i=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,i)})}unlisten(e,t){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),ae(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,t)}sendUnlisten_(e,t,i,r){this.log_("Unlisten on "+e+" for "+t);const o={p:e},l="n";r&&(o.q=i,o.t=r),this.sendRequest(l,o)}onDisconnectPut(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:i})}onDisconnectMerge(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:i})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,i,r){const o={p:t,d:i};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,l=>{r&&setTimeout(()=>{r(l.s,l.d)},Math.floor(0))})}put(e,t,i,r){this.putInternal("p",e,t,i,r)}merge(e,t,i,r){this.putInternal("m",e,t,i,r)}putInternal(e,t,i,r,o){this.initConnection_();const l={p:t,d:i};o!==void 0&&(l.h=o),this.outstandingPuts_.push({action:e,request:l,onComplete:r}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,i,o=>{this.log_(t+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(o.s,o.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ft(e));const t=e.r,i=this.requestCBHash_[t];i&&(delete this.requestCBHash_[t],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):Nm("Unrecognized action received from server: "+Ft(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ae(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Bl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Bl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>p4&&(this.reconnectDelay_=Bl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*f4)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+hr.nextConnectionId_++,o=this.lastSessionId;let l=!1,c=null;const h=function(){c?c.close():(l=!0,i())},f=function(y){ae(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(y)};this.realtime_={close:h,sendRequest:f};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,w]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);l?$t("getToken() completed but was canceled"):($t("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=w&&w.token,c=new a4(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,i,b=>{_n(b+" ("+this.repoInfo_.toString()+")"),this.interrupt(m4)},o))}catch(y){this.log_("Failed to get token: "+y),l||(this.repoInfo_.nodeAdmin&&_n(y),h())}}}interrupt(e){$t("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){$t("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Jp(this.interruptReasons_)&&(this.reconnectDelay_=Bl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let i;t?i=t.map(o=>Dg(o)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const i=new it(e).toString();let r;if(this.listens.has(i)){const o=this.listens.get(i);r=o.get(t),o.delete(t),o.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,t){$t("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=sx&&(this.reconnectDelay_=rx,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){$t("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=sx&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+db.replace(/\./g,"-")]=1,Jm()?e["framework.cordova"]=1:Qx()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=sd.getInstance().currentlyOnline();return Jp(this.interruptReasons_)&&e}}hr.nextPersistentConnectionId_=0;hr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Le(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new Le(xa,e),r=new Le(xa,t);return this.compare(i,r)!==0}minPost(){return Le.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh;class Bb extends Md{static get __EMPTY_NODE(){return yh}static set __EMPTY_NODE(e){yh=e}compare(e,t){return Na(e.name,t.name)}isDefinedOn(e){throw Ca("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Le.MIN}maxPost(){return new Le(oo,yh)}makePost(e,t){return ae(typeof e=="string","KeyIndex indexValue must always be a string."),new Le(e,yh)}toString(){return".key"}}const ma=new Bb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,t,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=t?i(e.key,t):1,r&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Pt{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Pt.RED,this.left=r??gn.EMPTY_NODE,this.right=o??gn.EMPTY_NODE}copy(e,t,i,r,o){return new Pt(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return o<0?r=r.copy(null,null,null,r.left.insert(e,t,i),null):o===0?r=r.copy(null,t,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return gn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let i,r;if(i=this,t(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),t(e,i.key)===0){if(i.right.isEmpty())return gn.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Pt.RED=!0;Pt.BLACK=!1;class g4{copy(e,t,i,r,o){return this}insert(e,t,i){return new Pt(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class gn{constructor(e,t=gn.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new gn(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Pt.BLACK,null,null))}remove(e){return new gn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Pt.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new _h(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new _h(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new _h(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new _h(this.root_,null,this.comparator_,!0,e)}}gn.EMPTY_NODE=new g4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(n,e){return Na(n.name,e.name)}function Ug(n,e){return Na(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dm;function _4(n){Dm=n}const Hb=function(n){return typeof n=="number"?"number:"+yb(n):"string:"+n},$b=function(n){if(n.isLeafNode()){const e=n.val();ae(typeof e=="string"||typeof e=="number"||typeof e=="object"&&vr(e,".sv"),"Priority must be a string or number.")}else ae(n===Dm||n.isEmpty(),"priority of unexpected type.");ae(n===Dm||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ox;class It{static set __childrenNodeConstructor(e){ox=e}static get __childrenNodeConstructor(){return ox}constructor(e,t=It.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ae(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),$b(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new It(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:It.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ae(e)?this:Pe(e)===".priority"?this.priorityNode_:It.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:It.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const i=Pe(e);return i===null?t:t.isEmpty()&&i!==".priority"?this:(ae(i!==".priority"||ls(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,It.__childrenNodeConstructor.EMPTY_NODE.updateChild(nt(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Hb(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=yb(this.value_):e+=this.value_,this.lazyHash_=pb(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===It.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof It.__childrenNodeConstructor?-1:(ae(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,i=typeof this.value_,r=It.VALUE_TYPE_ORDER.indexOf(t),o=It.VALUE_TYPE_ORDER.indexOf(i);return ae(r>=0,"Unknown leaf type: "+t),ae(o>=0,"Unknown leaf type: "+i),r===o?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}It.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wb,Vb;function v4(n){Wb=n}function w4(n){Vb=n}class x4 extends Md{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),o=i.compareTo(r);return o===0?Na(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Le.MIN}maxPost(){return new Le(oo,new It("[PRIORITY-POST]",Vb))}makePost(e,t){const i=Wb(e);return new Le(t,new It("[PRIORITY-POST]",i))}toString(){return".priority"}}const Vt=new x4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=Math.log(2);class E4{constructor(e){const t=o=>parseInt(Math.log(o)/S4,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const od=function(n,e,t,i){n.sort(e);const r=function(h,f){const m=f-h;let y,w;if(m===0)return null;if(m===1)return y=n[h],w=t?t(y):y,new Pt(w,y.node,Pt.BLACK,null,null);{const b=parseInt(m/2,10)+h,E=r(h,b),k=r(b+1,f);return y=n[b],w=t?t(y):y,new Pt(w,y.node,Pt.BLACK,E,k)}},o=function(h){let f=null,m=null,y=n.length;const w=function(E,k){const S=y-E,R=y;y-=E;const O=r(S+1,R),D=n[S],H=t?t(D):D;b(new Pt(H,D.node,k,null,O))},b=function(E){f?(f.left=E,f=E):(m=E,f=E)};for(let E=0;E<h.count;++E){const k=h.nextBitIsOne(),S=Math.pow(2,h.count-(E+1));k?w(S,Pt.BLACK):(w(S,Pt.BLACK),w(S,Pt.RED))}return m},l=new E4(n.length),c=o(l);return new gn(i||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gp;const aa={};class lr{static get Default(){return ae(aa&&Vt,"ChildrenNode.ts has not been loaded"),Gp=Gp||new lr({".priority":aa},{".priority":Vt}),Gp}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=ga(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof gn?t:null}hasIndex(e){return vr(this.indexSet_,e.toString())}addIndex(e,t){ae(e!==ma,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=t.getIterator(Le.Wrap);let l=o.getNext();for(;l;)r=r||e.isDefinedOn(l.node),i.push(l),l=o.getNext();let c;r?c=od(i,e.getCompare()):c=aa;const h=e.toString(),f=Object.assign({},this.indexSet_);f[h]=e;const m=Object.assign({},this.indexes_);return m[h]=c,new lr(m,f)}addToIndexes(e,t){const i=Fh(this.indexes_,(r,o)=>{const l=ga(this.indexSet_,o);if(ae(l,"Missing index implementation for "+o),r===aa)if(l.isDefinedOn(e.node)){const c=[],h=t.getIterator(Le.Wrap);let f=h.getNext();for(;f;)f.name!==e.name&&c.push(f),f=h.getNext();return c.push(e),od(c,l.getCompare())}else return aa;else{const c=t.get(e.name);let h=r;return c&&(h=h.remove(new Le(e.name,c))),h.insert(e,e.node)}});return new lr(i,this.indexSet_)}removeFromIndexes(e,t){const i=Fh(this.indexes_,r=>{if(r===aa)return r;{const o=t.get(e.name);return o?r.remove(new Le(e.name,o)):r}});return new lr(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hl;class We{static get EMPTY_NODE(){return Hl||(Hl=new We(new gn(Ug),null,lr.Default))}constructor(e,t,i){this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&$b(this.priorityNode_),this.children_.isEmpty()&&ae(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Hl}updatePriority(e){return this.children_.isEmpty()?this:new We(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?Hl:t}}getChild(e){const t=Pe(e);return t===null?this:this.getImmediateChild(t).getChild(nt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(ae(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const i=new Le(e,t);let r,o;t.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(i,this.children_));const l=r.isEmpty()?Hl:this.priorityNode_;return new We(r,l,o)}}updateChild(e,t){const i=Pe(e);if(i===null)return t;{ae(Pe(e)!==".priority"||ls(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(nt(e),t);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let i=0,r=0,o=!0;if(this.forEachChild(Vt,(l,c)=>{t[l]=c.val(e),i++,o&&We.INTEGER_REGEXP_.test(l)?r=Math.max(r,Number(l)):o=!1}),!e&&o&&r<2*i){const l=[];for(const c in t)l[c]=t[c];return l}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Hb(this.getPriority().val())+":"),this.forEachChild(Vt,(t,i)=>{const r=i.hash();r!==""&&(e+=":"+t+":"+r)}),this.lazyHash_=e===""?"":pb(e)}return this.lazyHash_}getPredecessorChildName(e,t,i){const r=this.resolveIndex_(i);if(r){const o=r.getPredecessorKey(new Le(e,t));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Le(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Le(t,this.children_.get(t)):null}forEachChild(e,t){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>t(r.name,r.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,Le.Wrap);let o=r.peek();for(;o!=null&&t.compare(o,e)<0;)r.getNext(),o=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,Le.Wrap);let o=r.peek();for(;o!=null&&t.compare(o,e)>0;)r.getNext(),o=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Fc?-1:0}withIndex(e){if(e===ma||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new We(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===ma||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const i=this.getIterator(Vt),r=t.getIterator(Vt);let o=i.getNext(),l=r.getNext();for(;o&&l;){if(o.name!==l.name||!o.node.equals(l.node))return!1;o=i.getNext(),l=r.getNext()}return o===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===ma?null:this.indexMap_.get(e.toString())}}We.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class b4 extends We{constructor(){super(new gn(Ug),We.EMPTY_NODE,lr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return We.EMPTY_NODE}isEmpty(){return!1}}const Fc=new b4;Object.defineProperties(Le,{MIN:{value:new Le(xa,We.EMPTY_NODE)},MAX:{value:new Le(oo,Fc)}});Bb.__EMPTY_NODE=We.EMPTY_NODE;It.__childrenNodeConstructor=We;_4(Fc);w4(Fc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=!0;function Lt(n,e=null){if(n===null)return We.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),ae(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new It(t,Lt(e))}if(!(n instanceof Array)&&T4){const t=[];let i=!1;if(Bn(n,(l,c)=>{if(l.substring(0,1)!=="."){const h=Lt(c);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),t.push(new Le(l,h)))}}),t.length===0)return We.EMPTY_NODE;const o=od(t,y4,l=>l.name,Ug);if(i){const l=od(t,Vt.getCompare());return new We(o,Lt(e),new lr({".priority":l},{".priority":Vt}))}else return new We(o,Lt(e),lr.Default)}else{let t=We.EMPTY_NODE;return Bn(n,(i,r)=>{if(vr(n,i)&&i.substring(0,1)!=="."){const o=Lt(r);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(Lt(e))}}v4(Lt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4 extends Md{constructor(e){super(),this.indexPath_=e,ae(!Ae(e)&&Pe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),o=i.compareTo(r);return o===0?Na(e.name,t.name):o}makePost(e,t){const i=Lt(e),r=We.EMPTY_NODE.updateChild(this.indexPath_,i);return new Le(t,r)}maxPost(){const e=We.EMPTY_NODE.updateChild(this.indexPath_,Fc);return new Le(oo,e)}toString(){return Fb(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4 extends Md{compare(e,t){const i=e.node.compareTo(t.node);return i===0?Na(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Le.MIN}maxPost(){return Le.MAX}makePost(e,t){const i=Lt(e);return new Le(t,i)}toString(){return".value"}}const I4=new k4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(n){return{type:"value",snapshotNode:n}}function R4(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function A4(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function ax(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function N4(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Vt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ae(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ae(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:xa}hasEnd(){return this.endSet_}getIndexEndValue(){return ae(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ae(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:oo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ae(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Vt}copy(){const e=new zg;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function lx(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Vt?t="$priority":n.index_===I4?t="$value":n.index_===ma?t="$key":(ae(n.index_ instanceof C4,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Ft(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=Ft(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+Ft(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=Ft(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+Ft(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function cx(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==Vt&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad extends Db{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(ae(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Lc("p:rest:"),this.listens_={}}listen(e,t,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const l=ad.getListenId_(e,i),c={};this.listens_[l]=c;const h=lx(e._queryParams);this.restRequest_(o+".json",h,(f,m)=>{let y=m;if(f===404&&(y=null,f=null),f===null&&this.onDataUpdate_(o,y,!1,i),ga(this.listens_,l)===c){let w;f?f===401?w="permission_denied":w="rest_error:"+f:w="ok",r(w,null)}})}unlisten(e,t){const i=ad.getListenId_(e,t);delete this.listens_[i]}get(e){const t=lx(e._queryParams),i=e._path.toString(),r=new pd;return this.restRequest_(i+".json",t,(o,l)=>{let c=l;o===404&&(c=null,o=null),o===null?(this.onDataUpdate_(i,c,!1,null),r.resolve(c)):r.reject(new Error(c))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(t.auth=r.accessToken),o&&o.token&&(t.ac=o.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ka(t);this.log_("Sending REST request for "+l);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(i&&c.readyState===4){this.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);let h=null;if(c.status>=200&&c.status<300){try{h=lc(c.responseText)}catch{_n("Failed to parse JSON response for "+l+": "+c.responseText)}i(null,h)}else c.status!==401&&c.status!==404&&_n("Got unsuccessful REST response for "+l+" Status: "+c.status),i(c.status);i=null}},c.open("GET",l,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(){this.rootNode_=We.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(){return{value:null,children:new Map}}function Gb(n,e,t){if(Ae(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const i=Pe(e);n.children.has(i)||n.children.set(i,ld());const r=n.children.get(i);e=nt(e),Gb(r,e,t)}}function Mm(n,e,t){n.value!==null?t(e,n.value):D4(n,(i,r)=>{const o=new it(e.toString()+"/"+i);Mm(r,o,t)})}function D4(n,e){n.children.forEach((t,i)=>{e(i,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Bn(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=10*1e3,L4=30*1e3,F4=5*60*1e3;class j4{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new M4(e);const i=ux+(L4-ux)*Math.random();rc(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Bn(e,(r,o)=>{o>0&&vr(this.statsToReport_,r)&&(t[r]=o,i=!0)}),i&&this.server_.reportStats(t),rc(this.reportStats_.bind(this),Math.floor(Math.random()*2*F4))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pi;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Pi||(Pi={}));function Kb(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function qb(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Yb(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Pi.ACK_USER_WRITE,this.source=Kb()}operationForChild(e){if(Ae(this.path)){if(this.affectedTree.value!=null)return ae(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new it(e));return new cd(Ke(),t,this.revert)}}else return ae(Pe(this.path)===e,"operationForChild called for unrelated child."),new cd(nt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Pi.OVERWRITE}operationForChild(e){return Ae(this.path)?new ao(this.source,Ke(),this.snap.getImmediateChild(e)):new ao(this.source,nt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Pi.MERGE}operationForChild(e){if(Ae(this.path)){const t=this.children.subtree(new it(e));return t.isEmpty()?null:t.value?new ao(this.source,Ke(),t.value):new wc(this.source,Ke(),t)}else return ae(Pe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new wc(this.source,nt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ae(e))return this.isFullyInitialized()&&!this.filtered_;const t=Pe(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function U4(n,e,t,i){const r=[],o=[];return e.forEach(l=>{l.type==="child_changed"&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&o.push(N4(l.childName,l.snapshotNode))}),$l(n,r,"child_removed",e,i,t),$l(n,r,"child_added",e,i,t),$l(n,r,"child_moved",o,i,t),$l(n,r,"child_changed",e,i,t),$l(n,r,"value",e,i,t),r}function $l(n,e,t,i,r,o){const l=i.filter(c=>c.type===t);l.sort((c,h)=>B4(n,c,h)),l.forEach(c=>{const h=z4(n,c,o);r.forEach(f=>{f.respondsTo(c.type)&&e.push(f.createEvent(h,n.query_))})})}function z4(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function B4(n,e,t){if(e.childName==null||t.childName==null)throw Ca("Should only compare child_ events.");const i=new Le(e.childName,e.snapshotNode),r=new Le(t.childName,t.snapshotNode);return n.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(n,e){return{eventCache:n,serverCache:e}}function sc(n,e,t,i){return Xb(new Bg(e,t,i),n.serverCache)}function Qb(n,e,t,i){return Xb(n.eventCache,new Bg(e,t,i))}function Lm(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function lo(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kp;const H4=()=>(Kp||(Kp=new gn(IF)),Kp);class tt{static fromObject(e){let t=new tt(null);return Bn(e,(i,r)=>{t=t.set(new it(i),r)}),t}constructor(e,t=H4()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:Ke(),value:this.value};if(Ae(e))return null;{const i=Pe(e),r=this.children.get(i);if(r!==null){const o=r.findRootMostMatchingPathAndValue(nt(e),t);return o!=null?{path:xt(new it(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ae(e))return this;{const t=Pe(e),i=this.children.get(t);return i!==null?i.subtree(nt(e)):new tt(null)}}set(e,t){if(Ae(e))return new tt(t,this.children);{const i=Pe(e),o=(this.children.get(i)||new tt(null)).set(nt(e),t),l=this.children.insert(i,o);return new tt(this.value,l)}}remove(e){if(Ae(e))return this.children.isEmpty()?new tt(null):new tt(null,this.children);{const t=Pe(e),i=this.children.get(t);if(i){const r=i.remove(nt(e));let o;return r.isEmpty()?o=this.children.remove(t):o=this.children.insert(t,r),this.value===null&&o.isEmpty()?new tt(null):new tt(this.value,o)}else return this}}get(e){if(Ae(e))return this.value;{const t=Pe(e),i=this.children.get(t);return i?i.get(nt(e)):null}}setTree(e,t){if(Ae(e))return t;{const i=Pe(e),o=(this.children.get(i)||new tt(null)).setTree(nt(e),t);let l;return o.isEmpty()?l=this.children.remove(i):l=this.children.insert(i,o),new tt(this.value,l)}}fold(e){return this.fold_(Ke(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(xt(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Ke(),t)}findOnPath_(e,t,i){const r=this.value?i(t,this.value):!1;if(r)return r;if(Ae(e))return null;{const o=Pe(e),l=this.children.get(o);return l?l.findOnPath_(nt(e),xt(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Ke(),t)}foreachOnPath_(e,t,i){if(Ae(e))return this;{this.value&&i(t,this.value);const r=Pe(e),o=this.children.get(r);return o?o.foreachOnPath_(nt(e),xt(t,r),i):new tt(null)}}foreach(e){this.foreach_(Ke(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(xt(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.writeTree_=e}static empty(){return new ci(new tt(null))}}function oc(n,e,t){if(Ae(e))return new ci(new tt(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let o=i.value;const l=Un(r,e);return o=o.updateChild(l,t),new ci(n.writeTree_.set(r,o))}else{const r=new tt(t),o=n.writeTree_.setTree(e,r);return new ci(o)}}}function hx(n,e,t){let i=n;return Bn(t,(r,o)=>{i=oc(i,xt(e,r),o)}),i}function dx(n,e){if(Ae(e))return ci.empty();{const t=n.writeTree_.setTree(e,new tt(null));return new ci(t)}}function Fm(n,e){return fo(n,e)!=null}function fo(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Un(t.path,e)):null}function fx(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Vt,(i,r)=>{e.push(new Le(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new Le(i,r.value))}),e}function is(n,e){if(Ae(e))return n;{const t=fo(n,e);return t!=null?new ci(new tt(t)):new ci(n.writeTree_.subtree(e))}}function jm(n){return n.writeTree_.isEmpty()}function Sa(n,e){return Jb(Ke(),n.writeTree_,e)}function Jb(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{r===".priority"?(ae(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):t=Jb(xt(n,r),o,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(xt(n,".priority"),i)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(n,e){return rT(e,n)}function $4(n,e,t,i,r){ae(i>n.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=oc(n.visibleWrites,e,t)),n.lastWriteId=i}function W4(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}function V4(n,e){const t=n.allWrites.findIndex(c=>c.writeId===e);ae(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,o=!1,l=n.allWrites.length-1;for(;r&&l>=0;){const c=n.allWrites[l];c.visible&&(l>=t&&G4(c,i.path)?r=!1:oi(i.path,c.path)&&(o=!0)),l--}if(r){if(o)return K4(n),!0;if(i.snap)n.visibleWrites=dx(n.visibleWrites,i.path);else{const c=i.children;Bn(c,h=>{n.visibleWrites=dx(n.visibleWrites,xt(i.path,h))})}return!0}else return!1}function G4(n,e){if(n.snap)return oi(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&oi(xt(n.path,t),e))return!0;return!1}function K4(n){n.visibleWrites=eT(n.allWrites,q4,Ke()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function q4(n){return n.visible}function eT(n,e,t){let i=ci.empty();for(let r=0;r<n.length;++r){const o=n[r];if(e(o)){const l=o.path;let c;if(o.snap)oi(t,l)?(c=Un(t,l),i=oc(i,c,o.snap)):oi(l,t)&&(c=Un(l,t),i=oc(i,Ke(),o.snap.getChild(c)));else if(o.children){if(oi(t,l))c=Un(t,l),i=hx(i,c,o.children);else if(oi(l,t))if(c=Un(l,t),Ae(c))i=hx(i,Ke(),o.children);else{const h=ga(o.children,Pe(c));if(h){const f=h.getChild(nt(c));i=oc(i,Ke(),f)}}}else throw Ca("WriteRecord should have .snap or .children")}}return i}function tT(n,e,t,i,r){if(!i&&!r){const o=fo(n.visibleWrites,e);if(o!=null)return o;{const l=is(n.visibleWrites,e);if(jm(l))return t;if(t==null&&!Fm(l,Ke()))return null;{const c=t||We.EMPTY_NODE;return Sa(l,c)}}}else{const o=is(n.visibleWrites,e);if(!r&&jm(o))return t;if(!r&&t==null&&!Fm(o,Ke()))return null;{const l=function(f){return(f.visible||r)&&(!i||!~i.indexOf(f.writeId))&&(oi(f.path,e)||oi(e,f.path))},c=eT(n.allWrites,l,e),h=t||We.EMPTY_NODE;return Sa(c,h)}}}function Y4(n,e,t){let i=We.EMPTY_NODE;const r=fo(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Vt,(o,l)=>{i=i.updateImmediateChild(o,l)}),i;if(t){const o=is(n.visibleWrites,e);return t.forEachChild(Vt,(l,c)=>{const h=Sa(is(o,new it(l)),c);i=i.updateImmediateChild(l,h)}),fx(o).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}else{const o=is(n.visibleWrites,e);return fx(o).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}}function X4(n,e,t,i,r){ae(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=xt(e,t);if(Fm(n.visibleWrites,o))return null;{const l=is(n.visibleWrites,o);return jm(l)?r.getChild(t):Sa(l,r.getChild(t))}}function Q4(n,e,t,i){const r=xt(e,t),o=fo(n.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(t)){const l=is(n.visibleWrites,r);return Sa(l,i.getNode().getImmediateChild(t))}else return null}function J4(n,e){return fo(n.visibleWrites,e)}function Z4(n,e,t,i,r,o,l){let c;const h=is(n.visibleWrites,e),f=fo(h,Ke());if(f!=null)c=f;else if(t!=null)c=Sa(h,t);else return[];if(c=c.withIndex(l),!c.isEmpty()&&!c.isLeafNode()){const m=[],y=l.getCompare(),w=o?c.getReverseIteratorFrom(i,l):c.getIteratorFrom(i,l);let b=w.getNext();for(;b&&m.length<r;)y(b,i)!==0&&m.push(b),b=w.getNext();return m}else return[]}function ej(){return{visibleWrites:ci.empty(),allWrites:[],lastWriteId:-1}}function Um(n,e,t,i){return tT(n.writeTree,n.treePath,e,t,i)}function nT(n,e){return Y4(n.writeTree,n.treePath,e)}function px(n,e,t,i){return X4(n.writeTree,n.treePath,e,t,i)}function ud(n,e){return J4(n.writeTree,xt(n.treePath,e))}function tj(n,e,t,i,r,o){return Z4(n.writeTree,n.treePath,e,t,i,r,o)}function Hg(n,e,t){return Q4(n.writeTree,n.treePath,e,t)}function iT(n,e){return rT(xt(n.treePath,e),n.writeTree)}function rT(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;ae(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),ae(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if(t==="child_added"&&o==="child_removed")this.changeMap.set(i,ax(i,e.snapshotNode,r.snapshotNode));else if(t==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&o==="child_changed")this.changeMap.set(i,A4(i,r.oldSnap));else if(t==="child_changed"&&o==="child_added")this.changeMap.set(i,R4(i,e.snapshotNode));else if(t==="child_changed"&&o==="child_changed")this.changeMap.set(i,ax(i,e.snapshotNode,r.oldSnap));else throw Ca("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}}const sT=new ij;class $g{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Bg(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Hg(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:lo(this.viewCache_),o=tj(this.writes_,r,t,1,i,e);return o.length===0?null:o[0]}}function rj(n,e){ae(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ae(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function sj(n,e,t,i,r){const o=new nj;let l,c;if(t.type===Pi.OVERWRITE){const f=t;f.source.fromUser?l=zm(n,e,f.path,f.snap,i,r,o):(ae(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered()&&!Ae(f.path),l=hd(n,e,f.path,f.snap,i,r,c,o))}else if(t.type===Pi.MERGE){const f=t;f.source.fromUser?l=aj(n,e,f.path,f.children,i,r,o):(ae(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered(),l=Bm(n,e,f.path,f.children,i,r,c,o))}else if(t.type===Pi.ACK_USER_WRITE){const f=t;f.revert?l=uj(n,e,f.path,i,r,o):l=lj(n,e,f.path,f.affectedTree,i,r,o)}else if(t.type===Pi.LISTEN_COMPLETE)l=cj(n,e,t.path,i,o);else throw Ca("Unknown operation type: "+t.type);const h=o.getChanges();return oj(e,l,h),{viewCache:l,changes:h}}function oj(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Lm(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(P4(Lm(e)))}}function oT(n,e,t,i,r,o){const l=e.eventCache;if(ud(i,t)!=null)return e;{let c,h;if(Ae(t))if(ae(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=lo(e),m=f instanceof We?f:We.EMPTY_NODE,y=nT(i,m);c=n.filter.updateFullNode(e.eventCache.getNode(),y,o)}else{const f=Um(i,lo(e));c=n.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const f=Pe(t);if(f===".priority"){ae(ls(t)===1,"Can't have a priority with additional path components");const m=l.getNode();h=e.serverCache.getNode();const y=px(i,t,m,h);y!=null?c=n.filter.updatePriority(m,y):c=l.getNode()}else{const m=nt(t);let y;if(l.isCompleteForChild(f)){h=e.serverCache.getNode();const w=px(i,t,l.getNode(),h);w!=null?y=l.getNode().getImmediateChild(f).updateChild(m,w):y=l.getNode().getImmediateChild(f)}else y=Hg(i,f,e.serverCache);y!=null?c=n.filter.updateChild(l.getNode(),f,y,m,r,o):c=l.getNode()}}return sc(e,c,l.isFullyInitialized()||Ae(t),n.filter.filtersNodes())}}function hd(n,e,t,i,r,o,l,c){const h=e.serverCache;let f;const m=l?n.filter:n.filter.getIndexedFilter();if(Ae(t))f=m.updateFullNode(h.getNode(),i,null);else if(m.filtersNodes()&&!h.isFiltered()){const b=h.getNode().updateChild(t,i);f=m.updateFullNode(h.getNode(),b,null)}else{const b=Pe(t);if(!h.isCompleteForPath(t)&&ls(t)>1)return e;const E=nt(t),S=h.getNode().getImmediateChild(b).updateChild(E,i);b===".priority"?f=m.updatePriority(h.getNode(),S):f=m.updateChild(h.getNode(),b,S,E,sT,null)}const y=Qb(e,f,h.isFullyInitialized()||Ae(t),m.filtersNodes()),w=new $g(r,y,o);return oT(n,y,t,r,w,c)}function zm(n,e,t,i,r,o,l){const c=e.eventCache;let h,f;const m=new $g(r,e,o);if(Ae(t))f=n.filter.updateFullNode(e.eventCache.getNode(),i,l),h=sc(e,f,!0,n.filter.filtersNodes());else{const y=Pe(t);if(y===".priority")f=n.filter.updatePriority(e.eventCache.getNode(),i),h=sc(e,f,c.isFullyInitialized(),c.isFiltered());else{const w=nt(t),b=c.getNode().getImmediateChild(y);let E;if(Ae(w))E=i;else{const k=m.getCompleteChild(y);k!=null?Lb(w)===".priority"&&k.getChild(jb(w)).isEmpty()?E=k:E=k.updateChild(w,i):E=We.EMPTY_NODE}if(b.equals(E))h=e;else{const k=n.filter.updateChild(c.getNode(),y,E,w,m,l);h=sc(e,k,c.isFullyInitialized(),n.filter.filtersNodes())}}}return h}function mx(n,e){return n.eventCache.isCompleteForChild(e)}function aj(n,e,t,i,r,o,l){let c=e;return i.foreach((h,f)=>{const m=xt(t,h);mx(e,Pe(m))&&(c=zm(n,c,m,f,r,o,l))}),i.foreach((h,f)=>{const m=xt(t,h);mx(e,Pe(m))||(c=zm(n,c,m,f,r,o,l))}),c}function gx(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function Bm(n,e,t,i,r,o,l,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,f;Ae(t)?f=i:f=new tt(null).setTree(t,i);const m=e.serverCache.getNode();return f.children.inorderTraversal((y,w)=>{if(m.hasChild(y)){const b=e.serverCache.getNode().getImmediateChild(y),E=gx(n,b,w);h=hd(n,h,new it(y),E,r,o,l,c)}}),f.children.inorderTraversal((y,w)=>{const b=!e.serverCache.isCompleteForChild(y)&&w.value===null;if(!m.hasChild(y)&&!b){const E=e.serverCache.getNode().getImmediateChild(y),k=gx(n,E,w);h=hd(n,h,new it(y),k,r,o,l,c)}}),h}function lj(n,e,t,i,r,o,l){if(ud(r,t)!=null)return e;const c=e.serverCache.isFiltered(),h=e.serverCache;if(i.value!=null){if(Ae(t)&&h.isFullyInitialized()||h.isCompleteForPath(t))return hd(n,e,t,h.getNode().getChild(t),r,o,c,l);if(Ae(t)){let f=new tt(null);return h.getNode().forEachChild(ma,(m,y)=>{f=f.set(new it(m),y)}),Bm(n,e,t,f,r,o,c,l)}else return e}else{let f=new tt(null);return i.foreach((m,y)=>{const w=xt(t,m);h.isCompleteForPath(w)&&(f=f.set(m,h.getNode().getChild(w)))}),Bm(n,e,t,f,r,o,c,l)}}function cj(n,e,t,i,r){const o=e.serverCache,l=Qb(e,o.getNode(),o.isFullyInitialized()||Ae(t),o.isFiltered());return oT(n,l,t,i,sT,r)}function uj(n,e,t,i,r,o){let l;if(ud(i,t)!=null)return e;{const c=new $g(i,e,r),h=e.eventCache.getNode();let f;if(Ae(t)||Pe(t)===".priority"){let m;if(e.serverCache.isFullyInitialized())m=Um(i,lo(e));else{const y=e.serverCache.getNode();ae(y instanceof We,"serverChildren would be complete if leaf node"),m=nT(i,y)}m=m,f=n.filter.updateFullNode(h,m,o)}else{const m=Pe(t);let y=Hg(i,m,e.serverCache);y==null&&e.serverCache.isCompleteForChild(m)&&(y=h.getImmediateChild(m)),y!=null?f=n.filter.updateChild(h,m,y,nt(t),c,o):e.eventCache.getNode().hasChild(m)?f=n.filter.updateChild(h,m,We.EMPTY_NODE,nt(t),c,o):f=h,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=Um(i,lo(e)),l.isLeafNode()&&(f=n.filter.updateFullNode(f,l,o)))}return l=e.serverCache.isFullyInitialized()||ud(i,Ke())!=null,sc(e,f,l,n.filter.filtersNodes())}}function hj(n,e){const t=lo(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Ae(e)&&!t.getImmediateChild(Pe(e)).isEmpty())?t.getChild(e):null}function yx(n,e,t,i){e.type===Pi.MERGE&&e.source.queryId!==null&&(ae(lo(n.viewCache_),"We should always have a full cache before handling merges"),ae(Lm(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=sj(n.processor_,r,e,t,i);return rj(n.processor_,o.viewCache),ae(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,dj(n,o.changes,o.viewCache.eventCache.getNode())}function dj(n,e,t,i){const r=n.eventRegistrations_;return U4(n.eventGenerator_,e,t,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _x;function fj(n){ae(!_x,"__referenceConstructor has already been defined"),_x=n}function Wg(n,e,t,i){const r=e.source.queryId;if(r!==null){const o=n.views.get(r);return ae(o!=null,"SyncTree gave us an op for an invalid query."),yx(o,e,t,i)}else{let o=[];for(const l of n.views.values())o=o.concat(yx(l,e,t,i));return o}}function Vg(n,e){let t=null;for(const i of n.views.values())t=t||hj(i,e);return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vx;function pj(n){ae(!vx,"__referenceConstructor has already been defined"),vx=n}class wx{constructor(e){this.listenProvider_=e,this.syncPointTree_=new tt(null),this.pendingWriteTree_=ej(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function aT(n,e,t,i,r){return $4(n.pendingWriteTree_,e,t,i,r),r?Fd(n,new ao(Kb(),e,t)):[]}function Xs(n,e,t=!1){const i=W4(n.pendingWriteTree_,e);if(V4(n.pendingWriteTree_,e)){let o=new tt(null);return i.snap!=null?o=o.set(Ke(),!0):Bn(i.children,l=>{o=o.set(new it(l),!0)}),Fd(n,new cd(i.path,o,t))}else return[]}function Ld(n,e,t){return Fd(n,new ao(qb(),e,t))}function mj(n,e,t){const i=tt.fromObject(t);return Fd(n,new wc(qb(),e,i))}function gj(n,e,t,i){const r=uT(n,i);if(r!=null){const o=hT(r),l=o.path,c=o.queryId,h=Un(l,e),f=new ao(Yb(c),h,t);return dT(n,l,f)}else return[]}function yj(n,e,t,i){const r=uT(n,i);if(r){const o=hT(r),l=o.path,c=o.queryId,h=Un(l,e),f=tt.fromObject(t),m=new wc(Yb(c),h,f);return dT(n,l,m)}else return[]}function Gg(n,e,t){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(l,c)=>{const h=Un(l,e),f=Vg(c,h);if(f)return f});return tT(r,e,o,t,!0)}function Fd(n,e){return lT(e,n.syncPointTree_,null,Zb(n.pendingWriteTree_,Ke()))}function lT(n,e,t,i){if(Ae(n.path))return cT(n,e,t,i);{const r=e.get(Ke());t==null&&r!=null&&(t=Vg(r,Ke()));let o=[];const l=Pe(n.path),c=n.operationForChild(l),h=e.children.get(l);if(h&&c){const f=t?t.getImmediateChild(l):null,m=iT(i,l);o=o.concat(lT(c,h,f,m))}return r&&(o=o.concat(Wg(r,n,i,t))),o}}function cT(n,e,t,i){const r=e.get(Ke());t==null&&r!=null&&(t=Vg(r,Ke()));let o=[];return e.children.inorderTraversal((l,c)=>{const h=t?t.getImmediateChild(l):null,f=iT(i,l),m=n.operationForChild(l);m&&(o=o.concat(cT(m,c,h,f)))}),r&&(o=o.concat(Wg(r,n,i,t))),o}function uT(n,e){return n.tagToQueryMap.get(e)}function hT(n){const e=n.indexOf("$");return ae(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new it(n.substr(0,e))}}function dT(n,e,t){const i=n.syncPointTree_.get(e);ae(i,"Missing sync point for query tag that we're tracking");const r=Zb(n.pendingWriteTree_,e);return Wg(i,t,r,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Kg(t)}node(){return this.node_}}class qg{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=xt(this.path_,e);return new qg(this.syncTree_,t)}node(){return Gg(this.syncTree_,this.path_)}}const _j=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},xx=function(n,e,t){if(!n||typeof n!="object")return n;if(ae(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return vj(n[".sv"],e,t);if(typeof n[".sv"]=="object")return wj(n[".sv"],e);ae(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},vj=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:ae(!1,"Unexpected server value: "+n)}},wj=function(n,e,t){n.hasOwnProperty("increment")||ae(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&ae(!1,"Unexpected increment value: "+i);const r=e.node();if(ae(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const l=r.getValue();return typeof l!="number"?i:l+i},xj=function(n,e,t,i){return Yg(e,new qg(t,n),i)},fT=function(n,e,t){return Yg(n,new Kg(e),t)};function Yg(n,e,t){const i=n.getPriority().val(),r=xx(i,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const l=n,c=xx(l.getValue(),e,t);return c!==l.getValue()||r!==l.getPriority().val()?new It(c,Lt(r)):n}else{const l=n;return o=l,r!==l.getPriority().val()&&(o=o.updatePriority(new It(r))),l.forEachChild(Vt,(c,h)=>{const f=Yg(h,e.getImmediateChild(c),t);f!==h&&(o=o.updateImmediateChild(c,f))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function Qg(n,e){let t=e instanceof it?e:new it(e),i=n,r=Pe(t);for(;r!==null;){const o=ga(i.node.children,r)||{children:{},childCount:0};i=new Xg(r,i,o),t=nt(t),r=Pe(t)}return i}function Da(n){return n.node.value}function pT(n,e){n.node.value=e,Hm(n)}function mT(n){return n.node.childCount>0}function Sj(n){return Da(n)===void 0&&!mT(n)}function jd(n,e){Bn(n.node.children,(t,i)=>{e(new Xg(t,n,i))})}function gT(n,e,t,i){t&&e(n),jd(n,r=>{gT(r,e,!0)})}function Ej(n,e,t){let i=n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function jc(n){return new it(n.parent===null?n.name:jc(n.parent)+"/"+n.name)}function Hm(n){n.parent!==null&&bj(n.parent,n.name,n)}function bj(n,e,t){const i=Sj(t),r=vr(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,Hm(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,Hm(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=/[\[\].#$\/\u0000-\u001F\u007F]/,Cj=/[\[\].#$\u0000-\u001F\u007F]/,qp=10*1024*1024,yT=function(n){return typeof n=="string"&&n.length!==0&&!Tj.test(n)},_T=function(n){return typeof n=="string"&&n.length!==0&&!Cj.test(n)},kj=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),_T(n)},Ij=function(n,e,t,i){Jg(Zm(n,"value"),e,t)},Jg=function(n,e,t){const i=t instanceof it?new c4(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Vs(i));if(typeof e=="function")throw new Error(n+"contains a function "+Vs(i)+" with contents = "+e.toString());if(mb(e))throw new Error(n+"contains "+e.toString()+" "+Vs(i));if(typeof e=="string"&&e.length>qp/3&&md(e)>qp)throw new Error(n+"contains a string greater than "+qp+" utf8 bytes "+Vs(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,o=!1;if(Bn(e,(l,c)=>{if(l===".value")r=!0;else if(l!==".priority"&&l!==".sv"&&(o=!0,!yT(l)))throw new Error(n+" contains an invalid key ("+l+") "+Vs(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);u4(i,l),Jg(n,c,i),h4(i)}),r&&o)throw new Error(n+' contains ".value" child '+Vs(i)+" in addition to actual children.")}},vT=function(n,e,t,i){if(!_T(t))throw new Error(Zm(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Pj=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),vT(n,e,t)},Rj=function(n,e){if(Pe(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},Aj=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!yT(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!kj(t))throw new Error(Zm(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function wT(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();t!==null&&!Ub(o,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:o}),t.events.push(r)}t&&n.eventLists_.push(t)}function yr(n,e,t){wT(n,t),Oj(n,i=>oi(i,e)||oi(e,i))}function Oj(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];if(r){const o=r.path;e(o)?(Dj(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function Dj(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const i=t.getEventRunner();ic&&$t("event: "+t.toString()),Oa(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj="repo_interrupt",Lj=25;class Fj{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Nj,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ld(),this.transactionQueueTree_=new Xg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function jj(n,e,t){if(n.stats_=Lg(n.repoInfo_),n.forceRestClient_||DF())n.server_=new ad(n.repoInfo_,(i,r,o,l)=>{Sx(n,i,r,o,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Ex(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ft(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new hr(n.repoInfo_,e,(i,r,o,l)=>{Sx(n,i,r,o,l)},i=>{Ex(n,i)},i=>{zj(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=UF(n.repoInfo_,()=>new j4(n.stats_,n.server_)),n.infoData_=new O4,n.infoSyncTree_=new wx({startListening:(i,r,o,l)=>{let c=[];const h=n.infoData_.getNode(i._path);return h.isEmpty()||(c=Ld(n.infoSyncTree_,i._path,h),setTimeout(()=>{l("ok")},0)),c},stopListening:()=>{}}),ey(n,"connected",!1),n.serverSyncTree_=new wx({startListening:(i,r,o,l)=>(n.server_.listen(i,o,r,(c,h)=>{const f=l(c,h);yr(n.eventQueue_,i._path,f)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}function Uj(n){const t=n.infoData_.getNode(new it(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function Zg(n){return _j({timestamp:Uj(n)})}function Sx(n,e,t,i,r){n.dataUpdateCount++;const o=new it(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(r)if(i){const h=Fh(t,f=>Lt(f));l=yj(n.serverSyncTree_,o,h,r)}else{const h=Lt(t);l=gj(n.serverSyncTree_,o,h,r)}else if(i){const h=Fh(t,f=>Lt(f));l=mj(n.serverSyncTree_,o,h)}else{const h=Lt(t);l=Ld(n.serverSyncTree_,o,h)}let c=o;l.length>0&&(c=Ud(n,o)),yr(n.eventQueue_,c,l)}function Ex(n,e){ey(n,"connected",e),e===!1&&Hj(n)}function zj(n,e){Bn(e,(t,i)=>{ey(n,t,i)})}function ey(n,e,t){const i=new it("/.info/"+e),r=Lt(t);n.infoData_.updateSnapshot(i,r);const o=Ld(n.infoSyncTree_,i,r);yr(n.eventQueue_,i,o)}function xT(n){return n.nextWriteId_++}function Bj(n,e,t,i,r){ty(n,"set",{path:e.toString(),value:t,priority:i});const o=Zg(n),l=Lt(t,i),c=Gg(n.serverSyncTree_,e),h=fT(l,c,o),f=xT(n),m=aT(n.serverSyncTree_,e,h,f,!0);wT(n.eventQueue_,m),n.server_.put(e.toString(),l.val(!0),(w,b)=>{const E=w==="ok";E||_n("set at "+e+" failed: "+w);const k=Xs(n.serverSyncTree_,f,!E);yr(n.eventQueue_,e,k),Wj(n,r,w,b)});const y=CT(n,e);Ud(n,y),yr(n.eventQueue_,y,[])}function Hj(n){ty(n,"onDisconnectEvents");const e=Zg(n),t=ld();Mm(n.onDisconnect_,Ke(),(r,o)=>{const l=xj(r,o,n.serverSyncTree_,e);Gb(t,r,l)});let i=[];Mm(t,Ke(),(r,o)=>{i=i.concat(Ld(n.serverSyncTree_,r,o));const l=CT(n,r);Ud(n,l)}),n.onDisconnect_=ld(),yr(n.eventQueue_,Ke(),i)}function $j(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Mj)}function ty(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),$t(t,...e)}function Wj(n,e,t,i){e&&Oa(()=>{if(t==="ok")e(null);else{const r=(t||"error").toUpperCase();let o=r;i&&(o+=": "+i);const l=new Error(o);l.code=r,e(l)}})}function ST(n,e,t){return Gg(n.serverSyncTree_,e,t)||We.EMPTY_NODE}function ny(n,e=n.transactionQueueTree_){if(e||zd(n,e),Da(e)){const t=bT(n,e);ae(t.length>0,"Sending zero length transaction queue"),t.every(r=>r.status===0)&&Vj(n,jc(e),t)}else mT(e)&&jd(e,t=>{ny(n,t)})}function Vj(n,e,t){const i=t.map(f=>f.currentWriteId),r=ST(n,e,i);let o=r;const l=r.hash();for(let f=0;f<t.length;f++){const m=t[f];ae(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const y=Un(e,m.path);o=o.updateChild(y,m.currentOutputSnapshotRaw)}const c=o.val(!0),h=e;n.server_.put(h.toString(),c,f=>{ty(n,"transaction put response",{path:h.toString(),status:f});let m=[];if(f==="ok"){const y=[];for(let w=0;w<t.length;w++)t[w].status=2,m=m.concat(Xs(n.serverSyncTree_,t[w].currentWriteId)),t[w].onComplete&&y.push(()=>t[w].onComplete(null,!0,t[w].currentOutputSnapshotResolved)),t[w].unwatcher();zd(n,Qg(n.transactionQueueTree_,e)),ny(n,n.transactionQueueTree_),yr(n.eventQueue_,e,m);for(let w=0;w<y.length;w++)Oa(y[w])}else{if(f==="datastale")for(let y=0;y<t.length;y++)t[y].status===3?t[y].status=4:t[y].status=0;else{_n("transaction at "+h.toString()+" failed: "+f);for(let y=0;y<t.length;y++)t[y].status=4,t[y].abortReason=f}Ud(n,e)}},l)}function Ud(n,e){const t=ET(n,e),i=jc(t),r=bT(n,t);return Gj(n,r,i),i}function Gj(n,e,t){if(e.length===0)return;const i=[];let r=[];const l=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const h=e[c],f=Un(t,h.path);let m=!1,y;if(ae(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)m=!0,y=h.abortReason,r=r.concat(Xs(n.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=Lj)m=!0,y="maxretry",r=r.concat(Xs(n.serverSyncTree_,h.currentWriteId,!0));else{const w=ST(n,h.path,l);h.currentInputSnapshot=w;const b=e[c].update(w.val());if(b!==void 0){Jg("transaction failed: Data returned ",b,h.path);let E=Lt(b);typeof b=="object"&&b!=null&&vr(b,".priority")||(E=E.updatePriority(w.getPriority()));const S=h.currentWriteId,R=Zg(n),O=fT(E,w,R);h.currentOutputSnapshotRaw=E,h.currentOutputSnapshotResolved=O,h.currentWriteId=xT(n),l.splice(l.indexOf(S),1),r=r.concat(aT(n.serverSyncTree_,h.path,O,h.currentWriteId,h.applyLocally)),r=r.concat(Xs(n.serverSyncTree_,S,!0))}else m=!0,y="nodata",r=r.concat(Xs(n.serverSyncTree_,h.currentWriteId,!0))}yr(n.eventQueue_,t,r),r=[],m&&(e[c].status=2,function(w){setTimeout(w,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(y==="nodata"?i.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):i.push(()=>e[c].onComplete(new Error(y),!1,null))))}zd(n,n.transactionQueueTree_);for(let c=0;c<i.length;c++)Oa(i[c]);ny(n,n.transactionQueueTree_)}function ET(n,e){let t,i=n.transactionQueueTree_;for(t=Pe(e);t!==null&&Da(i)===void 0;)i=Qg(i,t),e=nt(e),t=Pe(e);return i}function bT(n,e){const t=[];return TT(n,e,t),t.sort((i,r)=>i.order-r.order),t}function TT(n,e,t){const i=Da(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);jd(e,r=>{TT(n,r,t)})}function zd(n,e){const t=Da(e);if(t){let i=0;for(let r=0;r<t.length;r++)t[r].status!==2&&(t[i]=t[r],i++);t.length=i,pT(e,t.length>0?t:void 0)}jd(e,i=>{zd(n,i)})}function CT(n,e){const t=jc(ET(n,e)),i=Qg(n.transactionQueueTree_,e);return Ej(i,r=>{Yp(n,r)}),Yp(n,i),gT(i,r=>{Yp(n,r)}),t}function Yp(n,e){const t=Da(e);if(t){const i=[];let r=[],o=-1;for(let l=0;l<t.length;l++)t[l].status===3||(t[l].status===1?(ae(o===l-1,"All SENT items should be at beginning of queue."),o=l,t[l].status=3,t[l].abortReason="set"):(ae(t[l].status===0,"Unexpected transaction status in abort"),t[l].unwatcher(),r=r.concat(Xs(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&i.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));o===-1?pT(e,void 0):t.length=o+1,yr(n.eventQueue_,jc(e),r);for(let l=0;l<i.length;l++)Oa(i[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function qj(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):_n(`Invalid query segment '${t}' in query '${n}'`)}return e}const bx=function(n,e){const t=Yj(n),i=t.namespace;t.domain==="firebase.com"&&gr(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&gr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||CF();const r=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new kb(t.host,t.secure,i,r,e,"",i!==t.subdomain),path:new it(t.pathString)}},Yj=function(n){let e="",t="",i="",r="",o="",l=!0,c="https",h=443;if(typeof n=="string"){let f=n.indexOf("//");f>=0&&(c=n.substring(0,f-1),n=n.substring(f+2));let m=n.indexOf("/");m===-1&&(m=n.length);let y=n.indexOf("?");y===-1&&(y=n.length),e=n.substring(0,Math.min(m,y)),m<y&&(r=Kj(n.substring(m,y)));const w=qj(n.substring(Math.min(n.length,y)));f=e.indexOf(":"),f>=0?(l=c==="https"||c==="wss",h=parseInt(e.substring(f+1),10)):f=e.length;const b=e.slice(0,f);if(b.toLowerCase()==="localhost")t="localhost";else if(b.split(".").length<=2)t=b;else{const E=e.indexOf(".");i=e.substring(0,E).toLowerCase(),t=e.substring(E+1),o=i}"ns"in w&&(o=w.ns)}return{host:e,port:h,domain:t,subdomain:i,secure:l,scheme:c,pathString:r,namespace:o}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return Ae(this._path)?null:Lb(this._path)}get ref(){return new po(this._repo,this._path)}get _queryIdentifier(){const e=cx(this._queryParams),t=Dg(e);return t==="{}"?"default":t}get _queryObject(){return cx(this._queryParams)}isEqual(e){if(e=kn(e),!(e instanceof iy))return!1;const t=this._repo===e._repo,i=Ub(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+l4(this._path)}}class po extends iy{constructor(e,t){super(e,t,new zg,!1)}get parent(){const e=jb(this._path);return e===null?null:new po(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}function Xj(n,e){return n=kn(n),n._checkNotDeleted("ref"),e!==void 0?Qj(n._root,e):n._root}function Qj(n,e){return n=kn(n),Pe(n._path)===null?Pj("child","path",e):vT("child","path",e),new po(n._repo,xt(n._path,e))}function Jj(n,e){n=kn(n),Rj("set",n._path),Ij("set",e,n._path);const t=new pd;return Bj(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}fj(po);pj(po);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj="FIREBASE_DATABASE_EMULATOR_HOST",$m={};let e5=!1;function t5(n,e,t,i){n.repoInfo_=new kb(e,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),i&&(n.authTokenProvider_=i)}function n5(n,e,t,i,r){let o=i||n.options.databaseURL;o===void 0&&(n.options.projectId||gr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),$t("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l=bx(o,r),c=l.repoInfo,h;typeof process<"u"&&Ww&&(h=Ww[Zj]),h?(o=`http://${h}?ns=${c.namespace}`,l=bx(o,r),c=l.repoInfo):l.repoInfo.secure;const f=new LF(n.name,n.options,e);Aj("Invalid Firebase Database URL",l),Ae(l.path)||gr("Database URL must point to the root of a Firebase Database (not including a child path).");const m=r5(c,n,f,new MF(n,t));return new s5(m,n)}function i5(n,e){const t=$m[e];(!t||t[n.key]!==n)&&gr(`Database ${e}(${n.repoInfo_}) has already been deleted.`),$j(n),delete t[n.key]}function r5(n,e,t,i){let r=$m[e.name];r||(r={},$m[e.name]=r);let o=r[n.toURLString()];return o&&gr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Fj(n,e5,t,i),r[n.toURLString()]=o,o}class s5{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(jj(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new po(this._repo,Ke())),this._rootInternal}_delete(){return this._rootInternal!==null&&(i5(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&gr("Cannot call "+e+" on a deleted database.")}}function o5(n=ng(),e){const t=yd(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=Kx("database");i&&a5(t,...i)}return t}function a5(n,e,t,i={}){n=kn(n),n._checkNotDeleted("useEmulator");const r=`${e}:${t}`,o=n._repoInternal;if(n._instanceStarted){if(r===n._repoInternal.repoInfo_.host&&rs(i,o.repoInfo_.emulatorOptions))return;gr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let l;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&gr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new Nh(Nh.OWNER);else if(i.mockUserToken){const c=typeof i.mockUserToken=="string"?i.mockUserToken:Xx(i.mockUserToken,n.app.options.projectId);l=new Nh(c)}t5(o,r,i,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(n){wF(co),eo(new ss("database",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return n5(i,r,o,t)},"PUBLIC").setMultipleInstances(!0)),Ri(Vw,Gw,n),Ri(Vw,Gw,"esm2017")}hr.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};hr.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};l5();const c5={apiKey:"AIzaSyAyYEVAAbcSNgHqpEiwiUcOldBkaWkml_s",authDomain:"stock-price-tracker-86a63.firebaseapp.com",projectId:"stock-price-tracker-86a63",storageBucket:"stock-price-tracker-86a63.firebasestorage.app",messagingSenderId:"49558247792",appId:"1:49558247792:web:71f95e7c87d388d69457b5",databaseURL:"https://stock-price-tracker-86a63-default-rtdb.firebaseio.com"},kT=tg(c5),Oh=FS(kT),u5=o5(kT),IT=U.createContext(null),ry=()=>U.useContext(IT),h5=({children:n})=>{const e=(o,l)=>GP(Oh,o,l),t=(o,l)=>KP(Oh,o,l),i=()=>XP(Oh),r=(o,l)=>Jj(Xj(u5,o),l);return C.jsx(IT.Provider,{value:{signUpUserWithEmailAndPassword:e,signInUserWithEmailAndPassword:t,signOutUser:i,putData:r},children:n})};function d5(){const[n,e]=U.useState(!1),t=Ta(),i=ry(),r=async()=>{e(!0);const o=new rr;try{const c=(await gR(Oh,o)).user;if(c){const h=(c.displayName||"").split(" "),f=h[0]||"Unknown",m=h.slice(1).join(" ")||"";await i.putData("users/"+c.uid,{uid:c.uid,email:c.email||"",firstName:f,lastName:m,photo:c.photoURL||"",createdAt:new Date().toISOString()})}_e.success(`Welcome, ${c.displayName||"User"}!`,{position:"top-center"}),setTimeout(()=>t("/"),900)}catch(l){console.error("Google login error: ",l);const c=l.code||"";c.includes("popup-closed-by-user")?_e.info("Google sign-in canceled.",{position:"bottom-center"}):c.includes("network-request-failed")?_e.error("Network error. Please check your internet connection.",{position:"bottom-center"}):_e.error("Google login failed. Please try again.",{position:"bottom-center"})}finally{e(!1)}};return C.jsxs("div",{children:[C.jsx("p",{className:"continue-p",children:"-- Or continue with --"}),C.jsx("br",{}),C.jsx("div",{style:{display:"flex",justifyContent:"center"},children:C.jsx("button",{className:"btn btn-danger",onClick:r,disabled:n,children:n?"Connecting...":"Login with Google"})})]})}function f5(){const n=ry(),[e,t]=U.useState(""),[i,r]=U.useState(""),[o,l]=U.useState(!1),c=Ta(),h=async f=>{if(f.preventDefault(),!e||!i){_e.error("Please enter both email and password",{position:"bottom-center"});return}l(!0);try{await n.signInUserWithEmailAndPassword(e,i),_e.success("Login successful! Redirecting...",{position:"top-center"}),setTimeout(()=>{c("/")},800)}catch(m){console.error("Login Error: ",m);const y=m.code||"";y.includes("user-not-found")||y.includes("wrong-password")?_e.error("Invalid email or password. Please try again.",{position:"bottom-center"}):y.includes("too-many-requests")?_e.error("Too many failed login attempts. Please try again later or reset your password.",{position:"bottom-center"}):y.includes("network-request-failed")?_e.error("Network error. Please check your internet connection.",{position:"bottom-center"}):_e.error(`Login error: ${m.message||m}`,{position:"bottom-center"})}finally{l(!1)}};return C.jsx("div",{className:"login-container",children:C.jsxs("form",{onSubmit:h,className:"login-form",children:[C.jsx("h3",{className:"login-header",children:"Login"}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{className:"form-label",children:"Email address"}),C.jsx("input",{type:"email",className:"form-input",placeholder:"Enter email",value:e,onChange:f=>t(f.target.value)})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{className:"form-label",children:"Password"}),C.jsx("input",{type:"password",className:"form-input",placeholder:"Enter password",value:i,onChange:f=>r(f.target.value)})]}),C.jsx("div",{className:"form-group",children:C.jsx("button",{type:"submit",className:"form-button",disabled:o,children:o?"Logging in...":"Login"})}),C.jsxs("p",{className:"form-footer",children:["New user? ",C.jsx(Ht,{to:"/register",children:"Register Here"})]}),C.jsx(d5,{})]})})}function p5(){const n=ry(),[e,t]=U.useState(""),[i,r]=U.useState(""),[o,l]=U.useState(""),[c,h]=U.useState(""),[f,m]=U.useState(!1),y=Ta(),w=async b=>{if(b.preventDefault(),!e||!i||!o){_e.error("Please fill in all required fields",{position:"bottom-center"});return}if(i.length<6){_e.error("Password should be at least 6 characters",{position:"bottom-center"});return}m(!0);try{const k=(await n.signUpUserWithEmailAndPassword(e,i)).user;k&&(await n.putData("users/"+k.uid,{uid:k.uid,email:k.email,firstName:o,lastName:c||"",photo:"",createdAt:new Date().toISOString()}),_e.success("Registration successful! Redirecting to login...",{position:"top-center"}),setTimeout(()=>y("/login"),1500))}catch(E){console.error("Registration error:",E);const k=E.code||"";k.includes("email-already-in-use")?_e.error("This email is already registered. Please log in or use a different email.",{position:"bottom-center"}):k.includes("invalid-email")?_e.error("Please enter a valid email address.",{position:"bottom-center"}):k.includes("network-request-failed")?_e.error("Network error. Please check your internet connection.",{position:"bottom-center"}):_e.error(`Registration failed: ${E.message||E}`,{position:"bottom-center"})}finally{m(!1)}};return C.jsx("div",{className:"register-container",children:C.jsxs("form",{onSubmit:w,className:"register-form",children:[C.jsx("h3",{className:"register-header",children:"Sign Up"}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{className:"form-label",children:"First name*"}),C.jsx("input",{type:"text",className:"form-input",placeholder:"First name",value:o,onChange:b=>l(b.target.value),required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{className:"form-label",children:"Last name"}),C.jsx("input",{type:"text",className:"form-input",placeholder:"Last name",value:c,onChange:b=>h(b.target.value)})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{className:"form-label",children:"Email address*"}),C.jsx("input",{type:"email",className:"form-input",placeholder:"Enter email",value:e,onChange:b=>t(b.target.value),required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{className:"form-label",children:"Password*"}),C.jsx("input",{type:"password",className:"form-input",value:i,placeholder:"Enter password (min 6 characters)",onChange:b=>r(b.target.value),required:!0,minLength:6})]}),C.jsx("div",{className:"form-group",children:C.jsx("button",{type:"submit",className:"form-button",disabled:f,children:f?"Signing Up...":"Sign Up"})}),C.jsxs("p",{className:"form-footer",children:["Already registered? ",C.jsx(Ht,{to:"/login",children:"Login"})]})]})})}const m5=()=>{const[n,e]=U.useState([]);U.useEffect(()=>{const r=JSON.parse(localStorage.getItem("favorites"))||[];e(r)},[]);const t=U.useCallback(r=>{const o=n.filter(l=>l.symbol!==r.symbol);e(o),localStorage.setItem("favorites",JSON.stringify(o)),_e.info(`${r.symbol} removed from favorites`,{position:"top-center"})},[n]),i=U.useCallback(()=>{e([]),localStorage.removeItem("favorites"),_e.info("All favorites removed",{position:"top-center"})},[]);return C.jsxs("div",{className:"favorites",children:[C.jsx("h1",{children:"Your Favorites"}),n.length>0?C.jsxs("div",{children:[C.jsx("button",{onClick:i,children:"Remove All"}),C.jsxs("div",{className:"stock-table",children:[C.jsxs("div",{className:"table-layout header",children:[C.jsx("p",{children:"#"}),C.jsx("p",{children:"Stocks"}),C.jsx("p",{children:"Price"}),C.jsx("p",{style:{textAlign:"center"},children:"24H Change"}),C.jsx("p",{children:"P/E Ratio"}),C.jsx("p",{children:"EPS"}),C.jsx("p",{children:"Volume"}),C.jsx("p",{children:"Action - 1"}),C.jsx("p",{children:"Action - 2"})]}),n.map((r,o)=>C.jsxs("div",{className:"table-layout row",children:[C.jsx("p",{children:o+1}),C.jsx("p",{children:r.symbol}),C.jsxs("p",{children:["$",r.price]}),C.jsxs("p",{style:{textAlign:"center",color:r.change>=0?"green":"red"},children:[r.change,"%"]}),C.jsx("p",{children:r.peRatio}),C.jsx("p",{children:r.eps}),C.jsx("p",{children:r.volume.toLocaleString()}),C.jsx("button",{className:"btn-remove-favorite",onClick:()=>t(r),children:"Remove"}),C.jsx("button",{children:C.jsx(Ht,{to:`/favorites/Notification?symbol=${encodeURIComponent(r.symbol)}&price=${encodeURIComponent(r.price)}&change=${encodeURIComponent(r.change)}`,children:"Notification"})})]},r.symbol))]})]}):C.jsx("p",{children:"No favorites added yet."})]})},g5=ze.memo(m5),y5=()=>{const n=cs(),e=new URLSearchParams(n.search),[t,i]=U.useState(""),[r,o]=U.useState(""),l={symbol:e.get("symbol")||"N/A",price:e.get("price")||"N/A",change:e.get("change")||"N/A"},c=h=>{h.preventDefault(),t||r?(alert(`Notification set for ${t}% and price change of $${r}`),i(""),o("")):alert("Please fill atleast one field!")};return C.jsxs("div",{className:"notification-container",children:[C.jsxs("div",{className:"stock-details",children:[C.jsx("h2",{children:"Stock Details"}),C.jsxs("p",{children:[C.jsx("strong",{children:"Symbol:"})," ",l.symbol]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Price:"})," $",l.price]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Change:"})," ",l.change]})]}),C.jsxs("div",{className:"warn-me-form",children:[C.jsx("h2",{children:"Warn Me"}),C.jsxs("form",{onSubmit:c,children:[C.jsxs("label",{children:["Percentage (%):",C.jsx("input",{type:"number",value:t,onChange:h=>i(h.target.value),placeholder:"Enter percentage"})]}),C.jsxs("label",{children:["Change in Price ($):",C.jsx("input",{type:"number",value:r,onChange:h=>o(h.target.value),placeholder:"Enter price change"})]}),C.jsx("button",{type:"submit",children:"Set Notification"})]})]})]})},_5=()=>C.jsx(h5,{children:C.jsxs("div",{className:"app",children:[C.jsx(PA,{}),C.jsxs(MC,{children:[C.jsx(jn,{path:"/",element:C.jsx(GN,{})}),C.jsx(jn,{path:"/stock/:stockId",element:C.jsx(qN,{})}),C.jsx(jn,{path:"/stock/:stockId/chart",element:C.jsx(vF,{})}),C.jsx(jn,{path:"/LatestNews",element:C.jsx(QN,{})}),C.jsx(jn,{path:"/Gold",element:C.jsx(ZN,{})}),C.jsx(jn,{path:"/Silver",element:C.jsx(eO,{})}),C.jsx(jn,{path:"/Platinum",element:C.jsx(tO,{})}),C.jsx(jn,{path:"/login",element:C.jsx(f5,{})}),C.jsx(jn,{path:"/register",element:C.jsx(p5,{})}),C.jsx(jn,{path:"/favorites",element:C.jsx(g5,{})}),C.jsx(jn,{path:"/favorites/Notification",element:C.jsx(y5,{})})]}),C.jsx(u2,{}),C.jsx(YN,{})]})});$1.createRoot(document.getElementById("root")).render(C.jsx(U.StrictMode,{children:C.jsx(rk,{children:C.jsx(_5,{})})}));
